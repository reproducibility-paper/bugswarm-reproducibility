travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: ''
Job id: ''
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/main/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/restricted/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/universe/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/multiverse/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/main/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/main/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/universe/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/main/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/restricted/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/universe/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/multiverse/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/main/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/main/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/universe/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/main/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/restricted/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/universe/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/main/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/main/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/universe/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/main/source/Sources  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/restricted/source/Sources  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/universe/source/Sources  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/multiverse/source/Sources  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/main/binary-amd64/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/main/binary-i386/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/universe/binary-i386/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.88.142 80]

W: Failed to fetch http://ppa.launchpad.net/travis-ci/zero-mq/ubuntu/dists/precise/main/binary-amd64/Packages  403  Forbidden

W: Failed to fetch http://ppa.launchpad.net/travis-ci/zero-mq/ubuntu/dists/precise/main/binary-i386/Packages  403  Forbidden

W: Failed to fetch http://apt.postgresql.org/pub/repos/apt/dists/precise-pgdg/main/binary-amd64/Packages  404  Not Found [IP: 217.196.149.55 80]

W: Failed to fetch http://apt.postgresql.org/pub/repos/apt/dists/precise-pgdg/main/binary-i386/Packages  404  Not Found [IP: 217.196.149.55 80]

W: Failed to fetch http://downloads-distro.mongodb.org/repo/debian-sysvinit/dists/dist/10gen/binary-amd64/Packages  Undetermined Error [IP: 54.175.147.155 80]

W: Failed to fetch http://downloads-distro.mongodb.org/repo/debian-sysvinit/dists/dist/10gen/binary-i386/Packages  Undetermined Error [IP: 54.175.147.155 80]

E: Some index files failed to download. They have been ignored, or old ones used instead.
sed: cannot rename /etc/hosts: Device or resource busy
sed: cannot rename /etc/hosts: Device or resource busy
$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
$ cd passed/petergeneric/stdlib

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:25d97dce[0K
travis_time:end:25d97dce:start=1639808867346205517,finish=1639808867355078554,duration=8873037[0Ktravis_time:start:0a48a94c[0K/home/travis/.casher/bin/casher:213:in `cache_archive_name': undefined method `[]' for nil:NilClass (NoMethodError)
	from /home/travis/.casher/bin/casher:65:in `block in fetch'
	from /home/travis/.casher/bin/casher:64:in `each'
	from /home/travis/.casher/bin/casher:64:in `fetch'
	from /home/travis/.casher/bin/casher:53:in `block in run'
	from /home/travis/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/timeout.rb:69:in `timeout'
	from /home/travis/.casher/bin/casher:53:in `run'
	from /home/travis/.casher/bin/casher:263:in `<main>'
[32;1mattempting to download cache archive[0m

travis_time:end:0a48a94c:start=1639808867364885127,finish=1639808868127442926,duration=762557799[0Ktravis_time:start:10448254[0K
travis_time:end:10448254:start=1639808868137364514,finish=1639808868147184151,duration=9819637[0Ktravis_time:start:13105c1a[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:13105c1a:start=1639808868159004280,finish=1639808869105055616,duration=946051336[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:0480d7a6[0K$ mvn -o install -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.15.0-109-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] maven is executed in offline mode, Updating project files from SCM: skipped.
[INFO] Executing: /bin/sh -c cd /home/travis/build/passed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/passed/petergeneric/stdlib
[INFO] Storing buildNumber: a22e42e57d9f1b33c59a311121234ad5e73db32d at timestamp: 1639808873701
[INFO] Storing buildScmBranch: master
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.1.4-SNAPSHOT/stdlib-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/stdlib/target/stdlib-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.4-SNAPSHOT/stdlib-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.4-SNAPSHOT/stdlib-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.1.4-SNAPSHOT/stdlib-guice-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.4-SNAPSHOT/stdlib-guice-common-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.4-SNAPSHOT/stdlib-guice-common-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.1.4-SNAPSHOT/user-manager-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.4-SNAPSHOT/user-manager-api-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.4-SNAPSHOT/user-manager-api-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.4-SNAPSHOT/stdlib-guice-webapp-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.4-SNAPSHOT/stdlib-guice-webapp-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.4-SNAPSHOT/stdlib-guice-metrics-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.4-SNAPSHOT/stdlib-guice-metrics-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.4-SNAPSHOT/stdlib-guice-freemarker-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.4-SNAPSHOT/stdlib-guice-freemarker-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.4-SNAPSHOT/stdlib-guice-testing-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.4-SNAPSHOT/stdlib-guice-testing-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.4-SNAPSHOT/stdlib-guice-hibernate-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.4-SNAPSHOT/stdlib-guice-hibernate-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.4-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.4-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.4-SNAPSHOT/stdlib-guice-liquibase-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.4-SNAPSHOT/stdlib-guice-liquibase-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.4-SNAPSHOT/carbon-client-9.1.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.4-SNAPSHOT/carbon-client-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ config-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.4-SNAPSHOT/config-parent-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/passed/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/passed/petergeneric/stdlib/configuration/configuration/src/main/webapp]
[INFO] Webapp assembled in [4094 msecs]
[INFO] Building war: /home/travis/build/passed/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/configuration-9.1.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/configuration/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.4-SNAPSHOT/configuration-9.1.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/passed/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [5329 msecs]
[INFO] Building war: /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.4-SNAPSHOT/user-manager-9.1.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.4-SNAPSHOT/user-manager-9.1.4-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  0.817 s]
[INFO] stdlib ............................................. SUCCESS [  2.200 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.143 s]
[INFO] stdlib guice common ................................ SUCCESS [  1.343 s]
[INFO] user-manager ....................................... SUCCESS [  0.011 s]
[INFO] user manager rest api .............................. SUCCESS [  0.378 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  1.405 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  1.556 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.722 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.977 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  3.010 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  2.790 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.665 s]
[INFO] carbon client ...................................... SUCCESS [  1.089 s]
[INFO] configuration ...................................... SUCCESS [  0.243 s]
[INFO] Configuration Service .............................. SUCCESS [  7.868 s]
[INFO] user manager service ............................... SUCCESS [  9.051 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 36.948 s
[INFO] Finished at: 2021-12-18T06:28:27+00:00
[INFO] Final Memory: 22M/366M
[INFO] ------------------------------------------------------------------------

travis_time:end:0480d7a6:start=1639808869391624626,finish=1639808907835364087,duration=38443739461[0Ktravis_fold:end:install[0Ktravis_time:start:156b6764[0K$ mvn test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/passed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/passed/petergeneric/stdlib
[INFO] Storing buildNumber: a22e42e57d9f1b33c59a311121234ad5e73db32d at timestamp: 1639808910156
[INFO] Storing buildScmBranch: master
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.145 sec - in com.peterphi.std.io.PropertyFileTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.126 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.304 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.11 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.155 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.281 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.202 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.572 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.07 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.137 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.448 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.261 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.145 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.266 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.17 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.497 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2021-12-18 06:28:55,724 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:55,725 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:55,919 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,125 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,126 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,126 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,139 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,139 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,139 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,512 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,513 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,513 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,514 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,514 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,514 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,691 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,691 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,691 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,692 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,692 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,693 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,694 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,695 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,695 TRACE [PropertyFile] {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2021-12-18 06:28:56,710 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,710 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-18 06:28:56,711 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-18 06:28:56,713  INFO Trying to create Guice Injector...
2021-12-18 06:28:56,862 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@13969fbe
2021-12-18 06:28:56,864 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@6aaa5eb0
2021-12-18 06:28:56,871 TRACE [PropertyFile] {set} key=travis_tag; value=
2021-12-18 06:28:56,871 TRACE [PropertyFile] {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2021-12-18 06:28:56,871 TRACE [PropertyFile] {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2021-12-18 06:28:56,871 TRACE [PropertyFile] {set} key=container; value=docker
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=casher_dir; value=/home/travis/.casher
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_job_id; value=
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_pull_request_branch; value=
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_allow_failure; value=
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_jdk_version; value=oraclejdk8
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_sudo; value=true
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_os_name; value=linux
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=ps4; value=+
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=travis_commit_message; value=Add a hack to ResteasyDispatcher (the core Servlet / Filter for framework apps) to recognise when we're running within an Azure App Service tomcat instance and fix up the HttpServletRequest based on the x-forwarded-proto header that Azure IIS sends after it unwraps https. This means that without changes to tomcat (which are difficult / impossible in Azure App Service) it's possible to get services accessed by https to redirect correctly to HTTPS endpoints rather than to HTTP endpoints and to ensure that isSecure() is true when the end-user is accessing the service via HTTPS (so that cookies can be marked as secure to bind sessions to HTTPS)
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=rvm_silence_path_mismatch_check_flag; value=1
2021-12-18 06:28:56,872 TRACE [PropertyFile] {set} key=rvm_version; value=1.26.8 (1.26.8)
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=travis_event_type; value=
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=pwd; value=/home/travis/build/passed/petergeneric/stdlib/guice/hibernate
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=git_askpass; value=echo
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=rails_env; value=test
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=has_antares_three_little_fronzies_badge; value=true
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=shell; value=/bin/bash
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=composer_no_interaction; value=1
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=travis_secure_env_vars; value=false
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=pager; value=cat
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2021-12-18 06:28:56,873 TRACE [PropertyFile] {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=oldpwd; value=/home/travis/build/passed/petergeneric/stdlib/guice/hibernate
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=rvm_path; value=/home/travis/.rvm
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=coverity_scan_token; value=[secure]
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=continuous_integration; value=true
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=ruby_version; value=ruby-1.9.3-p551
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=debian_frontend; value=noninteractive
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=_system_name; value=Ubuntu
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=m2_home; value=/usr/local/maven
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=rvm_autoupdate_flag; value=0
2021-12-18 06:28:56,874 TRACE [PropertyFile] {set} key=travis_build_number; value=
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=shlvl; value=2
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=_system_arch; value=x86_64
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=has_josh_k_seal_of_approval; value=true
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=travis_build_id; value=
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=term; value=xterm
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=rvm_prefix; value=/home/travis
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2021-12-18 06:28:56,875 TRACE [PropertyFile] {set} key=lang; value=en_US.UTF-8
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=travis_job_number; value=
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=travis_pull_request; value=false
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=merb_env; value=test
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=rack_env; value=test
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=travis_language; value=java
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=travis_branch; value=
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=maven_cmd_line_args; value=test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2021-12-18 06:28:56,876 TRACE [PropertyFile] {set} key=travis_pull_request_slug; value=
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=nvm_dir; value=/home/travis/.nvm
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=travis; value=true
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=ci; value=true
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=_system_type; value=Linux
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=travis_build_dir; value=/home/travis/build/passed/petergeneric/stdlib
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=_system_version; value=12.04
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=travis_commit_range; value=
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=user; value=travis
2021-12-18 06:28:56,877 TRACE [PropertyFile] {set} key=travis_pull_request_sha; value=
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=travis_commit; value=
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=travis_repo_slug; value=petergeneric/stdlib
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=hostname; value=e71cc45d5cec
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2021-12-18 06:28:56,878 TRACE [PropertyFile] {set} key=home; value=/home/travis
2021-12-18 06:28:56,878 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@3498ed
2021-12-18 06:28:56,878 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@1a407d53
2021-12-18 06:28:56,878 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@13969fbe
2021-12-18 06:28:56,878 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@6aaa5eb0
2021-12-18 06:28:56,931 TRACE Search for config files with name: environment.properties
2021-12-18 06:28:56,932 TRACE Search for config files with name: service.properties
2021-12-18 06:28:56,933 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@1593948d
2021-12-18 06:28:56,950  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/hqlchildcount/
2021-12-18 06:28:57,404 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2021-12-18 06:28:57,409 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@21213b92, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@a67c67e, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@3327bd23, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@4e1d422d, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@66480dd7, com.peterphi.std.guice.common.metrics.CoreMetricsModule@52a86356, com.peterphi.std.guice.common.cached.module.CacheModule@5ce81285, com.peterphi.std.guice.common.retry.module.RetryModule@78c03f1f, com.peterphi.std.guice.common.JAXBModule@5ec0a365, com.peterphi.std.guice.common.Log4JModule@4fe3c938, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@5383967b]
2021-12-18 06:28:57,715 DEBUG Discovered new property: guice.bootstrap.class
2021-12-18 06:28:57,716 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: scan.packages
2021-12-18 06:28:57,716 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: override-properties.file
2021-12-18 06:28:57,716 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: mode
2021-12-18 06:28:57,716 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: log4j.properties
2021-12-18 06:28:57,716 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: guice.jaxb.moxy
2021-12-18 06:28:57,716 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: unit-test
2021-12-18 06:28:57,716 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: service.config.endpoint
2021-12-18 06:28:57,716 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,716 DEBUG Discovered new property: service.config.path
2021-12-18 06:28:57,717 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: service.config.instance-id
2021-12-18 06:28:57,717 TRACE Discovered new binding for property service.config.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: service.config.last-revision
2021-12-18 06:28:57,717 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: restutils.allow-restart
2021-12-18 06:28:57,717 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: restutils.show-serviceprops
2021-12-18 06:28:57,717 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: restutils.allow-reconfigure
2021-12-18 06:28:57,717 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: restutils.show-bound-values
2021-12-18 06:28:57,717 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: local.restservices.endpoint
2021-12-18 06:28:57,717 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: local.restservices.prefix
2021-12-18 06:28:57,717 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: servlet.context-name
2021-12-18 06:28:57,717 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: context-name
2021-12-18 06:28:57,717 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: role.jaxrs-server.auto
2021-12-18 06:28:57,717 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,717 DEBUG Discovered new property: framework.restcoreservices.disabled
2021-12-18 06:28:57,718 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,718 DEBUG Discovered new property: local.webapp.endpoint
2021-12-18 06:28:57,718 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,718 DEBUG Discovered new property: local.container.endpoint
2021-12-18 06:28:57,718 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,718 DEBUG Discovered new property: local.webapp.context-path
2021-12-18 06:28:57,718 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,718 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2021-12-18 06:28:57,718 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,725 DEBUG Discovered new property: framework.suppress-ClientAbortException
2021-12-18 06:28:57,725 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,725 DEBUG Discovered new property: framework.webauth.provider
2021-12-18 06:28:57,725 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,725 DEBUG Discovered new property: framework.webauth.enabled
2021-12-18 06:28:57,725 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,725 DEBUG Discovered new property: framework.webauth.only-servlet-request
2021-12-18 06:28:57,725 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,725 DEBUG Discovered new property: framework.webauth.scope.default.role
2021-12-18 06:28:57,725 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.webauth.scope.default.skip
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.webauth.jwt.secret
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.webauth.jwt.issuer
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.webauth.jwt.audience
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.webauth.jwt.header-name
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: service.oauth2.endpoint
2021-12-18 06:28:57,726 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: service.oauth2.client_id
2021-12-18 06:28:57,726 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: service.oauth2.client_secret
2021-12-18 06:28:57,726 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: framework.http-request.default-to-utf8
2021-12-18 06:28:57,726 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: hibernate.properties
2021-12-18 06:28:57,726 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2021-12-18 06:28:57,726 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,726 DEBUG Discovered new property: role.hibernate.auto
2021-12-18 06:28:57,727 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: role.thymeleaf.auto
2021-12-18 06:28:57,727 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: role.metrics-jaxrs.auto
2021-12-18 06:28:57,727 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: metrics-jaxrs.show-samples
2021-12-18 06:28:57,727 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: role.dbunit.auto
2021-12-18 06:28:57,727 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: liquibase.action
2021-12-18 06:28:57,727 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: liquibase.changelog
2021-12-18 06:28:57,727 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: liquibase.contexts
2021-12-18 06:28:57,727 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: liquibase.labels
2021-12-18 06:28:57,727 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,727 DEBUG Discovered new property: liquibase.parameter.
2021-12-18 06:28:57,727 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-18 06:28:57,751 DEBUG Loading log4j configuration from embedded
2021-12-18 06:28:57,786 TRACE [PropertyFile] {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2021-12-18 06:28:57,786 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2021-12-18 06:28:57,786 TRACE [PropertyFile] {set} key=log4j.rootCategory; value=WARN, logconsole
2021-12-18 06:28:57,786 TRACE [PropertyFile] {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2021-12-18 06:28:57,786 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2021-12-18 06:28:57,786 TRACE [PropertyFile] {set} key=log4j.properties; value=embedded
2021-12-18 06:28:58,925 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-18 06:28:58,928 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-18 06:28:59,090 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:28:59,156  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2021-12-18 06:29:02,412 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2021-12-18 06:29:02,412 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2021-12-18 06:29:02,425 TRACE Hibernate Setup Complete.
2021-12-18 06:29:02,426 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2021-12-18 06:29:02,426 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-18 06:29:02,532 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-18 06:29:02,603 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-18 06:29:02,603 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-18 06:29:02,701 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2021-12-18 06:29:03,013 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@c3177d5
2021-12-18 06:29:03,019  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:03,020 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:03,021 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2b329bbd
2021-12-18 06:29:03,192 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-18 06:29:03,192 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-18 06:29:03,193 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:03,198  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2021-12-18 06:29:03,220 TRACE Hibernate Setup Complete.
2021-12-18 06:29:03,220 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2021-12-18 06:29:03,221 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-18 06:29:03,221 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-18 06:29:03,221 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-18 06:29:03,221 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-18 06:29:03,222 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2021-12-18 06:29:03,241 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@17947e6d
2021-12-18 06:29:03,245 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2021-12-18 06:29:03,260 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4832f03b
2021-12-18 06:29:03,261 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2021-12-18 06:29:03,276 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@77ab22be
2021-12-18 06:29:03,277 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2021-12-18 06:29:03,279 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3ebe4ccc
2021-12-18 06:29:03,280 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2021-12-18 06:29:03,281 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@56b859a6
2021-12-18 06:29:03,282 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2021-12-18 06:29:03,283 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@575e572f
2021-12-18 06:29:03,283 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2021-12-18 06:29:03,286 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@58fa5769
2021-12-18 06:29:03,286 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2021-12-18 06:29:03,287 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@ba17be6
2021-12-18 06:29:03,288 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2021-12-18 06:29:03,301 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4462efe1
2021-12-18 06:29:03,301  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:03,302 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:03,302 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2db4ad1
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.596 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2021-12-18 06:29:03,692 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-18 06:29:03,692 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-18 06:29:03,693 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:03,698  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2021-12-18 06:29:03,743 TRACE Hibernate Setup Complete.
2021-12-18 06:29:03,743 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2021-12-18 06:29:03,743 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-18 06:29:03,743 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-18 06:29:03,743 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-18 06:29:03,743 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-18 06:29:03,744 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2021-12-18 06:29:03,746 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-18 06:29:03,748 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-18 06:29:03,749 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-18 06:29:03,750 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-18 06:29:03,750 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-18 06:29:03,751 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2021-12-18 06:29:04,024 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:04,025 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2021-12-18 06:29:04,404 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2f79f192
2021-12-18 06:29:04,405  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:04,405 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:04,406 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2a8b33ba
2021-12-18 06:29:04,539 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-18 06:29:04,539 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-18 06:29:04,540 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:04,544  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2021-12-18 06:29:04,566 TRACE Hibernate Setup Complete.
2021-12-18 06:29:04,566 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2021-12-18 06:29:04,566 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-18 06:29:04,566 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-18 06:29:04,566 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-18 06:29:04,566 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-18 06:29:04,567 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2021-12-18 06:29:04,610 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-18 06:29:04,612 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-18 06:29:04,613 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-18 06:29:04,613 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-18 06:29:04,613 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-18 06:29:04,613 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:04,613 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2021-12-18 06:29:04,628 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6d6039df
2021-12-18 06:29:04,628  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:04,629 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:04,630 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@17176b18
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.191 sec - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2021-12-18 06:29:04,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2021-12-18 06:29:04,817 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:04,820  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2021-12-18 06:29:04,832 ERROR HHH000389: Unsuccessful: drop table Q if exists
2021-12-18 06:29:04,832 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-18 06:29:04,832 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-18 06:29:04,833 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2021-12-18 06:29:04,833 TRACE Hibernate Setup Complete.
2021-12-18 06:29:04,833 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2021-12-18 06:29:04,838 DEBUG KillTransaction causes rollback
2021-12-18 06:29:04,839  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:04,839 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:04,839 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@38a38ed4
2021-12-18 06:29:04,939 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2021-12-18 06:29:04,940 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:04,942  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2021-12-18 06:29:04,951 ERROR HHH000389: Unsuccessful: drop table Q if exists
2021-12-18 06:29:04,951 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-18 06:29:04,952 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-18 06:29:04,952 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2021-12-18 06:29:04,952 TRACE Hibernate Setup Complete.
2021-12-18 06:29:04,952 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2021-12-18 06:29:04,952 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@520c3dcb
2021-12-18 06:29:04,953  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:04,953 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:04,953 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@237aa0c7
2021-12-18 06:29:05,041 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2021-12-18 06:29:05,041 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:05,044  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2021-12-18 06:29:05,052 ERROR HHH000389: Unsuccessful: drop table Q if exists
2021-12-18 06:29:05,052 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-18 06:29:05,053 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-18 06:29:05,053 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2021-12-18 06:29:05,053 TRACE Hibernate Setup Complete.
2021-12-18 06:29:05,053  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:05,053 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:05,053 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@79e16dd9
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.422 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2021-12-18 06:29:05,249 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2021-12-18 06:29:05,250 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:05,252  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2021-12-18 06:29:05,273 TRACE Hibernate Setup Complete.
2021-12-18 06:29:05,273 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2021-12-18 06:29:05,273 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2021-12-18 06:29:05,273 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2021-12-18 06:29:05,274 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2021-12-18 06:29:05,275 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@460aa24e
2021-12-18 06:29:05,275 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2021-12-18 06:29:05,276 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7f9e6167
2021-12-18 06:29:05,277 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2021-12-18 06:29:05,279 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7fd4b9ec
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2021-12-18 06:29:05,283  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:05,283 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:05,283 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b63365c
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.219 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2021-12-18 06:29:05,477 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2021-12-18 06:29:05,478 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:05,480  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2021-12-18 06:29:05,492 TRACE Hibernate Setup Complete.
2021-12-18 06:29:05,492 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2021-12-18 06:29:05,492 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2021-12-18 06:29:05,493 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2021-12-18 06:29:05,513 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2021-12-18 06:29:05,515 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1f229c40
2021-12-18 06:29:05,516 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2021-12-18 06:29:05,517 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3f5e64c9
2021-12-18 06:29:05,517 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2021-12-18 06:29:05,517 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3d00e981
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2021-12-18 06:29:05,518  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:05,518 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:05,519 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@28f3a218
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.234 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,307 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,308 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:06,310  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2021-12-18 06:29:06,367 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2021-12-18 06:29:06,367 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2021-12-18 06:29:06,367 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2021-12-18 06:29:06,367 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2021-12-18 06:29:06,367 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2021-12-18 06:29:06,367 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2021-12-18 06:29:06,367 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2021-12-18 06:29:06,367 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:06,371 TRACE Hibernate Setup Complete.
2021-12-18 06:29:06,371 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:06,371 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,371 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,371 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,372 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,372 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,372 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,372 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,372 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,372 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,372 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,372 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,372 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,374 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:06,375 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,379 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,380 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@19b4dd60
2021-12-18 06:29:06,384 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:06,384 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:06,495  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:06,495 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:06,495 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@22b4ad0c
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,596 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,597 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:06,599  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:06,644 TRACE Hibernate Setup Complete.
2021-12-18 06:29:06,645 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:06,645 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,645 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,645 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,645 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,645 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,645 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,645 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,645 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,645 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,645 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,645 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,645 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,646 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:06,646 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,648 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,649 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@106f0051
2021-12-18 06:29:06,650 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2021-12-18 06:29:06,650 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:06,650 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2021-12-18 06:29:06,656 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2438a038
2021-12-18 06:29:06,656  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:06,656 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:06,656 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@510d4d4b
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,767 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,768 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:06,770  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:06,800 TRACE Hibernate Setup Complete.
2021-12-18 06:29:06,800 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:06,800 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,800 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,800 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,800 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,800 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,800 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,800 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,801 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:06,801 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,803 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,804 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@149bdb4e
2021-12-18 06:29:06,804 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:06,804 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=otherobjec2_.obj_name limit ?
2021-12-18 06:29:06,807 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4ff5711b
2021-12-18 06:29:06,807 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:06,807 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name<=otherobjec2_.obj_name limit ?
2021-12-18 06:29:06,809 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6e157f48
2021-12-18 06:29:06,809  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:06,809 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:06,809 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@53a3ccc
2021-12-18 06:29:06,902 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,903 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,903 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,903 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:06,903 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,903 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,903 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,903 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:06,905  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:06,932 TRACE Hibernate Setup Complete.
2021-12-18 06:29:06,932 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:06,933 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,933 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,933 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:06,933 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:06,933 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,933 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:06,933 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,933 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:06,933 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,933 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:06,933 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,933 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:06,934 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:06,934 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,936 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:06,937 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1e90939f
2021-12-18 06:29:06,937 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:06,947 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@13e76a91
2021-12-18 06:29:06,948 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:06,950 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@77107573
2021-12-18 06:29:06,950 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:06,950 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2021-12-18 06:29:06,955 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b94c22d
2021-12-18 06:29:06,956 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:06,956 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2021-12-18 06:29:06,957 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@9da20f1
2021-12-18 06:29:06,957  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:06,957 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:06,957 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@10c9bd51
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,051 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,052 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,054  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,080 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,080 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,080 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,080 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,080 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,080 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,080 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,080 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,080 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,081 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,081 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,082 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,083 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6adee80f
2021-12-18 06:29:07,083 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,085 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7528ece2
2021-12-18 06:29:07,085 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,085 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2021-12-18 06:29:07,088 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1088b120
2021-12-18 06:29:07,088  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,088 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,088 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4ebefe31
2021-12-18 06:29:07,183 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,183 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,183 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,183 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,183 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,183 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,184 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,184 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,186  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,214 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,214 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,214 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,214 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,214 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,214 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,214 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,214 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,214 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,214 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,214 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,214 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,214 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,214 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,215 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,215 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,216 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,217 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@66a5f996
2021-12-18 06:29:07,217 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2021-12-18 06:29:07,218 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,218 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2021-12-18 06:29:07,221 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@9dc9212
2021-12-18 06:29:07,221  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,221 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,221 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3c175d82
2021-12-18 06:29:07,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,319 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,319 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,319 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,319 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,319 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,321  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,346 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,346 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,346 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,346 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,346 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,346 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,346 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,346 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,347 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,347 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,348 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,349 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@30396acf
2021-12-18 06:29:07,350 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,352 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@274783f8
2021-12-18 06:29:07,352 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,354 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@52d57307
2021-12-18 06:29:07,354 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2021-12-18 06:29:07,356 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2021-12-18 06:29:07,357 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@30c98124
2021-12-18 06:29:07,357  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,357 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,357 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4d9dd8cc
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,455 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,456 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,458  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,480 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,480 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,481 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,481 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,481 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,481 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,481 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,481 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,481 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,481 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,481 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,481 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,483 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,483 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2c05303d
2021-12-18 06:29:07,484 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,485 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@dc8cafb
2021-12-18 06:29:07,486 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,487 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42930a42
2021-12-18 06:29:07,487 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2021-12-18 06:29:07,487 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5a880dbe
2021-12-18 06:29:07,488 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2021-12-18 06:29:07,488 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@29ee8374
2021-12-18 06:29:07,488 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,488 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2021-12-18 06:29:07,490 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7b3fd68e
2021-12-18 06:29:07,490 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,490 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2021-12-18 06:29:07,493 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@29400267
2021-12-18 06:29:07,493 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,494 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2021-12-18 06:29:07,496 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@be1c8aa
2021-12-18 06:29:07,496  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,497 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,497 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@287f1aaf
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,592 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,593 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,595  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,616 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,616 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,616 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,616 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,616 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,616 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,616 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,616 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,617 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,617 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,617 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,617 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,617 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,617 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,617 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,617 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,618 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,619 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1cb991da
2021-12-18 06:29:07,620 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,621 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@66604e6f
2021-12-18 06:29:07,622 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,623 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7c78688b
2021-12-18 06:29:07,698 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,698 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2021-12-18 06:29:07,702 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3f321f8
2021-12-18 06:29:07,702  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,702 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,702 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@523198f0
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,801 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,802 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,804  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,827 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,827 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,827 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,827 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,827 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,827 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,827 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,827 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,828 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,828 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,828 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,828 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,828 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,828 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,828 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,828 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,830 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,831 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1676550a
2021-12-18 06:29:07,831 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,832 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2021-12-18 06:29:07,833 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@24ae25b8
2021-12-18 06:29:07,833  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,833 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,833 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@16df17e6
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,935 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,935 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:07,937  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:07,961 TRACE Hibernate Setup Complete.
2021-12-18 06:29:07,961 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:07,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:07,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:07,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,961 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:07,961 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,962 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:07,962 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,962 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:07,962 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,962 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:07,962 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:07,962 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,964 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:07,965 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1c66e404
2021-12-18 06:29:07,965 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2021-12-18 06:29:07,966 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4add8b8d
2021-12-18 06:29:07,967 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:07,969 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@42334d07
2021-12-18 06:29:07,969 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,969 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2021-12-18 06:29:07,972 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4c864fd0
2021-12-18 06:29:07,972 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:07,972 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2021-12-18 06:29:07,973 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@388555bd
2021-12-18 06:29:07,974  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:07,974 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:07,974 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f7a7030
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,071 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,072 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:08,074  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:08,098 TRACE Hibernate Setup Complete.
2021-12-18 06:29:08,098 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:08,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,099 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,100 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:08,100 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,101 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,102 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@55f4d7be
2021-12-18 06:29:08,102 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,103 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2021-12-18 06:29:08,104 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b5ceafa
2021-12-18 06:29:08,104  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:08,104 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:08,104 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@78097df5
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,257 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,258 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:08,260  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:08,289 TRACE Hibernate Setup Complete.
2021-12-18 06:29:08,289 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:08,289 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,290 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,290 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,291 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:08,291 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,293 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,294 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@157a0109
2021-12-18 06:29:08,295 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,295 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2021-12-18 06:29:08,297 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@43fde52c
2021-12-18 06:29:08,297  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:08,297 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:08,298 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@496b3cb8
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,460 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,461 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:08,463  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:08,502 TRACE Hibernate Setup Complete.
2021-12-18 06:29:08,502 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:08,502 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,502 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,502 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,502 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,502 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,503 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,503 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,503 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,503 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,503 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,503 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,503 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,503 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:08,504 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,505 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,506 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@710e1af6
2021-12-18 06:29:08,507 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,507 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2021-12-18 06:29:08,508 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@195368e2
2021-12-18 06:29:08,508  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:08,508 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:08,508 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@624cc07
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,623 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,624 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:08,626  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:08,655 TRACE Hibernate Setup Complete.
2021-12-18 06:29:08,655 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:08,655 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,655 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,655 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,656 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,656 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,656 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,656 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,656 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,656 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,656 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,656 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,656 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,656 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:08,657 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,658 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,659 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@29855e88
2021-12-18 06:29:08,659 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2021-12-18 06:29:08,659 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,659 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2021-12-18 06:29:08,661 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@25f92ffd
2021-12-18 06:29:08,661  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:08,661 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:08,661 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5a93dccc
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,780 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,781 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:08,783  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:08,808 TRACE Hibernate Setup Complete.
2021-12-18 06:29:08,808 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:08,808 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,808 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,810 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,811 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:08,811 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,812 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,813 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@43717598
2021-12-18 06:29:08,814 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,814 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,815 DEBUG IllegalArgumentException causes rollback
2021-12-18 06:29:08,816  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:08,816 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:08,816 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@53443726
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,948 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,949 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:08,950  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:08,972 TRACE Hibernate Setup Complete.
2021-12-18 06:29:08,972 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:08,972 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,972 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,972 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:08,972 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:08,972 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,972 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:08,972 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,972 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:08,972 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,972 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:08,972 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,973 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:08,973 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:08,973 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,974 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:08,975 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6354fb91
2021-12-18 06:29:08,975 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:08,977 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@491b4062
2021-12-18 06:29:08,978 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-18 06:29:08,979 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4933952d
2021-12-18 06:29:08,979 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:08,979 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2021-12-18 06:29:08,981 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@34c6c857
2021-12-18 06:29:08,981  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:08,981 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:08,981 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@346c8a0e
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:09,093 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:09,094 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:09,096  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:09,117 TRACE Hibernate Setup Complete.
2021-12-18 06:29:09,117 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:09,117 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:09,117 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:09,117 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-18 06:29:09,117 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-18 06:29:09,117 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:09,117 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-18 06:29:09,117 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,117 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,117 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,117 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,117 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,117 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,118 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-18 06:29:09,118 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:09,119 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-18 06:29:09,120 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@35454e3b
2021-12-18 06:29:09,122 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:09,122 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2021-12-18 06:29:09,127 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@76cad044
2021-12-18 06:29:09,128  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:09,128 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:09,128 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@51eb935a
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.607 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.103 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2021-12-18 06:29:09,345 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,345 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,345 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:09,346 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:09,347  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:09,356 TRACE Hibernate Setup Complete.
2021-12-18 06:29:09,356 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:09,357 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,357 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,357 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,357 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,357 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2021-12-18 06:29:09,358 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2d2da013
2021-12-18 06:29:09,358 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2021-12-18 06:29:09,359 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c98f2ef
2021-12-18 06:29:09,359 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:09,359 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:09,359 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:09,359 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_two this_1_ on this_.id=this_1_.id left outer join inherit_one this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2021-12-18 06:29:09,362 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6cfbdf32
2021-12-18 06:29:09,363  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:09,363 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:09,363 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@27b611aa
2021-12-18 06:29:09,446 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,446 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,446 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-18 06:29:09,446 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:09,448  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-18 06:29:09,457 TRACE Hibernate Setup Complete.
2021-12-18 06:29:09,457 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-18 06:29:09,457 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,457 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-18 06:29:09,457 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,457 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-18 06:29:09,457 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2021-12-18 06:29:09,458 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@fac5c40
2021-12-18 06:29:09,458 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2021-12-18 06:29:09,459 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7ffe924d
2021-12-18 06:29:09,459 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2021-12-18 06:29:09,460 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1dd41551
2021-12-18 06:29:09,460 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2021-12-18 06:29:09,460 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6c500fdf
2021-12-18 06:29:09,461  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:09,461 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:09,461 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f272319
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.201 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2021-12-18 06:29:09,554 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,554 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:09,556  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2021-12-18 06:29:09,562 TRACE Hibernate Setup Complete.
2021-12-18 06:29:09,562 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2021-12-18 06:29:09,562 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,562 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,563 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:09,563 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2021-12-18 06:29:09,564 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2b2220c
2021-12-18 06:29:09,564  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:09,564 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:09,564 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6bcb493e
2021-12-18 06:29:09,649 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,650 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:09,651  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2021-12-18 06:29:09,658 TRACE Hibernate Setup Complete.
2021-12-18 06:29:09,658 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2021-12-18 06:29:09,658 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,658 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,658 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-18 06:29:09,658 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2021-12-18 06:29:09,659 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3a161942
2021-12-18 06:29:09,660  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:09,660 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:09,660 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1b7440c3
2021-12-18 06:29:09,744 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,744 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-18 06:29:09,746  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2021-12-18 06:29:09,753 TRACE Hibernate Setup Complete.
2021-12-18 06:29:09,753 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2021-12-18 06:29:09,753 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,753 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-18 06:29:09,753 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2021-12-18 06:29:09,755 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@506f21c9
2021-12-18 06:29:09,755  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:09,755 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-18 06:29:09,755 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@73fbe2ce
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.293 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest

Results :

Tests run: 55, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.hibernatetest.DbunitModuleTest
2021-12-18 06:29:14,269  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2021-12-18 06:29:15,164 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2021-12-18 06:29:15,164 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2021-12-18 06:29:15,164 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2021-12-18 06:29:15,164 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: drop table GroupEntity if exists
Hibernate: drop table SimpleEntity if exists
Hibernate: drop table simple_entity_join_table if exists
Hibernate: create table GroupEntity (id bigint not null, primary key (id))
Hibernate: create table SimpleEntity (id bigint not null, name varchar(255), primary key (id))
Hibernate: create table simple_entity_join_table (simple_id bigint not null, group_id bigint not null, primary key (simple_id, group_id))
Hibernate: alter table simple_entity_join_table add constraint FK_immmw5r3yntht63c24psmno0m foreign key (group_id) references GroupEntity
Hibernate: alter table simple_entity_join_table add constraint FK_f2ec0exlk361s4ww77hdync48 foreign key (simple_id) references SimpleEntity
Dec 18, 2021 6:29:15 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 18, 2021 6:29:15 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 18, 2021 6:29:15 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Dec 18, 2021 6:29:16 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 18, 2021 6:29:16 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 18, 2021 6:29:16 AM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.356 sec - in com.peterphi.std.guice.hibernatetest.DbunitModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
INFO 12/18/21 6:29 AM: liquibase: Successfully acquired change log lock
INFO 12/18/21 6:29 AM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 12/18/21 6:29 AM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: Sequence hibernate_sequence created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::nobody ran successfully in 3ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: Table something created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: ChangeSet ./000-Original.xml::original_tables::nobody ran successfully in 2ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: Data deleted from something
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: ChangeSet ./000-Original.xml::meaningless_delete::nobody ran successfully in 1ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: New row inserted into something
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: ChangeSet ./000-Original.xml::original_data::nobody ran successfully in 1ms
INFO 12/18/21 6:29 AM: liquibase: Successfully released change log lock
2021-12-18 06:29:20,979  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: select this_.id as id1_0_0_, this_.name as name2_0_0_ from something this_
Hibernate: select someentity0_.id as id1_0_0_, someentity0_.name as name2_0_0_ from something someentity0_ where someentity0_.id=?
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.398 sec - in com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
Running com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.103 sec - in com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.carbon.util.mediainfo.MediaInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.118 sec - in com.peterphi.carbon.util.mediainfo.MediaInfoTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.configuration.service.git.RepoHelperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.193 sec - in com.peterphi.configuration.service.git.RepoHelperTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest
2021-12-18 06:29:26,099  INFO Trying to create Guice Injector...
2021-12-18 06:29:26,395  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/test-classes/com/peterphi/
2021-12-18 06:29:26,396  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/classes/com/peterphi/
2021-12-18 06:29:26,396  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/stdlib/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/common/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/classes/com/peterphi/
2021-12-18 06:29:26,397  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/testing/target/classes/com/peterphi/
2021-12-18 06:29:33,897 DEBUG Discovered new property: dbunit.schema
2021-12-18 06:29:33,941 DEBUG Injector for (app) created in 7563 ms
2021-12-18 06:29:33,941 DEBUG Class scanner stats: insts=1 cached createTime=6918, scanTime=0
2021-12-18 06:29:33,969 DEBUG Discovered new property: hibernate.perform-separate-id-query-for-large-tables
2021-12-18 06:29:34,082 DEBUG Logging Provider: org.jboss.logging.Log4jLoggerProvider
2021-12-18 06:29:34,101 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@8c11eee
2021-12-18 06:29:34,102 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@8c11eee
2021-12-18 06:29:34,102 DEBUG Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@8c11eee
2021-12-18 06:29:34,103 DEBUG Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@4cf8b2dc
2021-12-18 06:29:34,104 DEBUG Adding type registration true_false -> org.hibernate.type.TrueFalseType@c2db68f
2021-12-18 06:29:34,105 DEBUG Adding type registration yes_no -> org.hibernate.type.YesNoType@61ce23ac
2021-12-18 06:29:34,106 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@4097cac
2021-12-18 06:29:34,107 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@4097cac
2021-12-18 06:29:34,107 DEBUG Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@4097cac
2021-12-18 06:29:34,108 DEBUG Adding type registration character -> org.hibernate.type.CharacterType@52d645b1
2021-12-18 06:29:34,108 DEBUG Adding type registration char -> org.hibernate.type.CharacterType@52d645b1
2021-12-18 06:29:34,108 DEBUG Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@52d645b1
2021-12-18 06:29:34,110 DEBUG Adding type registration short -> org.hibernate.type.ShortType@25e2ab5a
2021-12-18 06:29:34,110 DEBUG Adding type registration short -> org.hibernate.type.ShortType@25e2ab5a
2021-12-18 06:29:34,110 DEBUG Adding type registration java.lang.Short -> org.hibernate.type.ShortType@25e2ab5a
2021-12-18 06:29:34,112 DEBUG Adding type registration integer -> org.hibernate.type.IntegerType@7e276594
2021-12-18 06:29:34,112 DEBUG Adding type registration int -> org.hibernate.type.IntegerType@7e276594
2021-12-18 06:29:34,112 DEBUG Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@7e276594
2021-12-18 06:29:34,113 DEBUG Adding type registration long -> org.hibernate.type.LongType@555cf22
2021-12-18 06:29:34,114 DEBUG Adding type registration long -> org.hibernate.type.LongType@555cf22
2021-12-18 06:29:34,114 DEBUG Adding type registration java.lang.Long -> org.hibernate.type.LongType@555cf22
2021-12-18 06:29:34,115 DEBUG Adding type registration float -> org.hibernate.type.FloatType@544820b7
2021-12-18 06:29:34,116 DEBUG Adding type registration float -> org.hibernate.type.FloatType@544820b7
2021-12-18 06:29:34,116 DEBUG Adding type registration java.lang.Float -> org.hibernate.type.FloatType@544820b7
2021-12-18 06:29:34,117 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@54a67a45
2021-12-18 06:29:34,117 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@54a67a45
2021-12-18 06:29:34,117 DEBUG Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@54a67a45
2021-12-18 06:29:34,120 DEBUG Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@58fb7731
2021-12-18 06:29:34,120 DEBUG Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@58fb7731
2021-12-18 06:29:34,122 DEBUG Adding type registration big_integer -> org.hibernate.type.BigIntegerType@4b9df8a
2021-12-18 06:29:34,122 DEBUG Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@4b9df8a
2021-12-18 06:29:34,123 DEBUG Adding type registration string -> org.hibernate.type.StringType@2b5f4d54
2021-12-18 06:29:34,123 DEBUG Adding type registration java.lang.String -> org.hibernate.type.StringType@2b5f4d54
2021-12-18 06:29:34,124 DEBUG Adding type registration nstring -> org.hibernate.type.StringNVarcharType@395b56bb
2021-12-18 06:29:34,125 DEBUG Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@68fa0ba8
2021-12-18 06:29:34,126 DEBUG Adding type registration url -> org.hibernate.type.UrlType@7ac2e39b
2021-12-18 06:29:34,126 DEBUG Adding type registration java.net.URL -> org.hibernate.type.UrlType@7ac2e39b
2021-12-18 06:29:34,133 DEBUG Adding type registration date -> org.hibernate.type.DateType@2a79d4b1
2021-12-18 06:29:34,133 DEBUG Adding type registration java.sql.Date -> org.hibernate.type.DateType@2a79d4b1
2021-12-18 06:29:34,135 DEBUG Adding type registration time -> org.hibernate.type.TimeType@63fdab07
2021-12-18 06:29:34,136 DEBUG Adding type registration java.sql.Time -> org.hibernate.type.TimeType@63fdab07
2021-12-18 06:29:34,137 DEBUG Adding type registration timestamp -> org.hibernate.type.TimestampType@5a411614
2021-12-18 06:29:34,138 DEBUG Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@5a411614
2021-12-18 06:29:34,138 DEBUG Adding type registration java.util.Date -> org.hibernate.type.TimestampType@5a411614
2021-12-18 06:29:34,140 DEBUG Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@1506f20f
2021-12-18 06:29:34,141 DEBUG Adding type registration calendar -> org.hibernate.type.CalendarType@6e6d5d29
2021-12-18 06:29:34,141 DEBUG Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@6e6d5d29
2021-12-18 06:29:34,141 DEBUG Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@6e6d5d29
2021-12-18 06:29:34,142 DEBUG Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@85e6769
2021-12-18 06:29:34,143 DEBUG Adding type registration locale -> org.hibernate.type.LocaleType@4a11eb84
2021-12-18 06:29:34,144 DEBUG Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@4a11eb84
2021-12-18 06:29:34,145 DEBUG Adding type registration currency -> org.hibernate.type.CurrencyType@5733f295
2021-12-18 06:29:34,145 DEBUG Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@5733f295
2021-12-18 06:29:34,146 DEBUG Adding type registration timezone -> org.hibernate.type.TimeZoneType@7bb6ab3a
2021-12-18 06:29:34,146 DEBUG Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@7bb6ab3a
2021-12-18 06:29:34,147 DEBUG Adding type registration class -> org.hibernate.type.ClassType@73dce0e6
2021-12-18 06:29:34,148 DEBUG Adding type registration java.lang.Class -> org.hibernate.type.ClassType@73dce0e6
2021-12-18 06:29:34,149 DEBUG Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@4b7e96a
2021-12-18 06:29:34,149 DEBUG Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@4b7e96a
2021-12-18 06:29:34,150 DEBUG Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@4bd1f8dd
2021-12-18 06:29:34,151 DEBUG Adding type registration pg-uuid -> org.hibernate.type.PostgresUUIDType@3d3ba765
2021-12-18 06:29:34,152 DEBUG Adding type registration binary -> org.hibernate.type.BinaryType@33aeca0b
2021-12-18 06:29:34,152 DEBUG Adding type registration byte[] -> org.hibernate.type.BinaryType@33aeca0b
2021-12-18 06:29:34,153 DEBUG Adding type registration [B -> org.hibernate.type.BinaryType@33aeca0b
2021-12-18 06:29:34,154 DEBUG Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@2f6e28bc
2021-12-18 06:29:34,154 DEBUG Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@2f6e28bc
2021-12-18 06:29:34,154 DEBUG Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@2f6e28bc
2021-12-18 06:29:34,155 DEBUG Adding type registration image -> org.hibernate.type.ImageType@765f05af
2021-12-18 06:29:34,156 DEBUG Adding type registration characters -> org.hibernate.type.CharArrayType@4bc28c33
2021-12-18 06:29:34,156 DEBUG Adding type registration char[] -> org.hibernate.type.CharArrayType@4bc28c33
2021-12-18 06:29:34,156 DEBUG Adding type registration [C -> org.hibernate.type.CharArrayType@4bc28c33
2021-12-18 06:29:34,157 DEBUG Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@bff34c6
2021-12-18 06:29:34,158 DEBUG Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@bff34c6
2021-12-18 06:29:34,158 DEBUG Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@bff34c6
2021-12-18 06:29:34,159 DEBUG Adding type registration text -> org.hibernate.type.TextType@278bb07e
2021-12-18 06:29:34,160 DEBUG Adding type registration ntext -> org.hibernate.type.NTextType@5c42d2b7
2021-12-18 06:29:34,167 DEBUG Adding type registration blob -> org.hibernate.type.BlobType@549949be
2021-12-18 06:29:34,168 DEBUG Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@549949be
2021-12-18 06:29:34,168 DEBUG Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@3eeb318f
2021-12-18 06:29:34,175 DEBUG Adding type registration clob -> org.hibernate.type.ClobType@4189d70b
2021-12-18 06:29:34,175 DEBUG Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@4189d70b
2021-12-18 06:29:34,179 DEBUG Adding type registration nclob -> org.hibernate.type.NClobType@3f792b9b
2021-12-18 06:29:34,180 DEBUG Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@3f792b9b
2021-12-18 06:29:34,180 DEBUG Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@1cbf6e72
2021-12-18 06:29:34,181 DEBUG Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@4da602fc
2021-12-18 06:29:34,182 DEBUG Adding type registration serializable -> org.hibernate.type.SerializableType@7fc6de5b
2021-12-18 06:29:34,185 DEBUG Adding type registration object -> org.hibernate.type.ObjectType@4d18aa28
2021-12-18 06:29:34,186 DEBUG Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@4d18aa28
2021-12-18 06:29:34,186 DEBUG Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@2313052e
2021-12-18 06:29:34,186 DEBUG Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@2bd2b28e
2021-12-18 06:29:34,186 DEBUG Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@16746061
2021-12-18 06:29:34,187 DEBUG Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@57fd91c9
2021-12-18 06:29:34,187 DEBUG Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@6cfcd46d
2021-12-18 06:29:34,187 DEBUG Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@52045dbe
2021-12-18 06:29:34,187 DEBUG Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@674658f7
2021-12-18 06:29:34,187 DEBUG Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@5c8eee0f
2021-12-18 06:29:34,212  INFO HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2021-12-18 06:29:34,220  INFO HHH000412: Hibernate Core {4.3.8.Final}
2021-12-18 06:29:34,223  INFO HHH000206: hibernate.properties not found
2021-12-18 06:29:34,225  INFO HHH000021: Bytecode provider name : javassist
2021-12-18 06:29:34,239 DEBUG Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2021-12-18 06:29:34,240 DEBUG Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2021-12-18 06:29:34,241 DEBUG Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2021-12-18 06:29:34,241 DEBUG Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2021-12-18 06:29:34,250 DEBUG Registering IdentifierGenerator strategy [hilo] -> [org.hibernate.id.TableHiLoGenerator]
2021-12-18 06:29:34,251 DEBUG Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2021-12-18 06:29:34,253 DEBUG Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2021-12-18 06:29:34,253 DEBUG Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2021-12-18 06:29:34,254 DEBUG Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.SequenceGenerator]
2021-12-18 06:29:34,255 DEBUG Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2021-12-18 06:29:34,255 DEBUG Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2021-12-18 06:29:34,256 DEBUG Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2021-12-18 06:29:34,256 DEBUG Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2021-12-18 06:29:34,257 DEBUG Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2021-12-18 06:29:34,258 DEBUG Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2021-12-18 06:29:34,272 DEBUG Adding type registration java.util.Date -> org.hibernate.type.CustomType@47404bea
2021-12-18 06:29:34,272  INFO HHH000270: Type registration [java.util.Date] overrides previous : org.hibernate.type.TimestampType@5a411614
2021-12-18 06:29:34,273 DEBUG Adding type registration org.joda.time.DateTime -> org.hibernate.type.CustomType@305f7627
2021-12-18 06:29:34,275 DEBUG Adding type registration com.peterphi.std.types.Timecode -> org.hibernate.type.CustomType@5d018107
2021-12-18 06:29:34,276 DEBUG Adding type registration com.peterphi.std.types.SampleCount -> org.hibernate.type.CustomType@6cbcf243
2021-12-18 06:29:34,276 DEBUG Adding type registration org.joda.time.LocalDate -> org.hibernate.type.CustomType@29e6eb25
2021-12-18 06:29:34,283 DEBUG Execute called: UPDATE
2021-12-18 06:29:34,293 DEBUG Create JDBC Connection directly: jdbc:hsqldb:mem:testdb
2021-12-18 06:29:35,339 DEBUG Execute liquibase action: UPDATE
INFO 12/18/21 6:29 AM: liquibase: Successfully acquired change log lock
INFO 12/18/21 6:29 AM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 12/18/21 6:29 AM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: Sequence hibernate_sequence created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com ran successfully in 2ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Table user_account created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Unique constraint added to user_account(email)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: ChangeSet ./000-Original.xml::create_user_account::peter@peterphi.com ran successfully in 6ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table role_definition created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table user_has_role created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (user_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (role_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Primary key added to user_has_role (user_id, role_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: ChangeSet ./000-Original.xml::add_role_definition_table::peter@peterphi.com ran successfully in 9ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_service created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session_context created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session created
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_tables::peter@peterphi.com ran successfully in 6ms
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_service (owner_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (service_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (user_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session (context_id)
INFO 12/18/21 6:29 AM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_constraints::peter@peterphi.com ran successfully in 6ms
INFO 12/18/21 6:29 AM: liquibase: Successfully released change log lock
2021-12-18 06:29:36,220 DEBUG Register for shutdown: com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@3ffb3598
2021-12-18 06:29:36,231 DEBUG Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2021-12-18 06:29:36,233 DEBUG Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2021-12-18 06:29:36,235 DEBUG Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2021-12-18 06:29:36,251 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5] -> [org.hibernate.dialect.MySQL5Dialect] (replacing [org.hibernate.dialect.MySQL5Dialect])
2021-12-18 06:29:36,251 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5InnoDB] -> [org.hibernate.dialect.MySQL5InnoDBDialect] (replacing [org.hibernate.dialect.MySQL5InnoDBDialect])
2021-12-18 06:29:36,295 DEBUG Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2021-12-18 06:29:36,296 DEBUG Preparing to build session factory with filters : {}
2021-12-18 06:29:36,303  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
2021-12-18 06:29:36,304  INFO HHH000401: using driver [org.hsqldb.jdbcDriver] at URL [jdbc:hsqldb:mem:testdb]
2021-12-18 06:29:36,304  INFO HHH000046: Connection properties: {user=sa, password=, readOnly=false}
2021-12-18 06:29:36,304  INFO HHH000006: Autocommit mode: false
2021-12-18 06:29:36,305  INFO HHH000115: Hibernate connection pool size: 20 (min=1)
2021-12-18 06:29:36,305 DEBUG Initializing Connection pool with 1 Connections
2021-12-18 06:29:36,314 DEBUG Database ->
       name : HSQL Database Engine
    version : 2.3.2
      major : 2
      minor : 3
2021-12-18 06:29:36,314 DEBUG Driver ->
       name : HSQL Database Engine Driver
    version : 2.3.2
      major : 2
      minor : 3
2021-12-18 06:29:36,314 DEBUG JDBC version : 4.0
2021-12-18 06:29:36,315 DEBUG Unexpected error trying to gauge level of JDBC REF_CURSOR support : null
2021-12-18 06:29:36,331  INFO HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2021-12-18 06:29:36,374 DEBUG Processing hbm.xml files
2021-12-18 06:29:36,375 DEBUG Process annotated classes
2021-12-18 06:29:36,378 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,401 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-18 06:29:36,403 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-18 06:29:36,409 DEBUG Import with entity name user_account
2021-12-18 06:29:36,414 DEBUG Bind entity com.peterphi.usermanager.db.entity.UserEntity on table user_account
2021-12-18 06:29:36,442 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,445 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-18 06:29:36,447 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:id]
2021-12-18 06:29:36,448 DEBUG building SimpleValue for id
2021-12-18 06:29:36,450 DEBUG Building property id
2021-12-18 06:29:36,453 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,453 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-18 06:29:36,453 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:created]
2021-12-18 06:29:36,454 DEBUG building SimpleValue for created
2021-12-18 06:29:36,454 DEBUG Building property created
2021-12-18 06:29:36,454 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_format, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,454 DEBUG MetadataSourceProcessor property dateFormat with lazy=false
2021-12-18 06:29:36,454 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:dateFormat]
2021-12-18 06:29:36,454 DEBUG building SimpleValue for dateFormat
2021-12-18 06:29:36,454 DEBUG Building property dateFormat
2021-12-18 06:29:36,454 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=email, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,454 DEBUG MetadataSourceProcessor property email with lazy=false
2021-12-18 06:29:36,454 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:email]
2021-12-18 06:29:36,454 DEBUG building SimpleValue for email
2021-12-18 06:29:36,454 DEBUG Building property email
2021-12-18 06:29:36,456 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=last_login_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,456 DEBUG MetadataSourceProcessor property lastLogin with lazy=false
2021-12-18 06:29:36,456 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:lastLogin]
2021-12-18 06:29:36,456 DEBUG building SimpleValue for lastLogin
2021-12-18 06:29:36,456 DEBUG Building property lastLogin
2021-12-18 06:29:36,456 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=name, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,457 DEBUG MetadataSourceProcessor property name with lazy=false
2021-12-18 06:29:36,457 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:name]
2021-12-18 06:29:36,457 DEBUG building SimpleValue for name
2021-12-18 06:29:36,457 DEBUG Building property name
2021-12-18 06:29:36,457 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=password, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,457 DEBUG MetadataSourceProcessor property password with lazy=false
2021-12-18 06:29:36,457 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:password]
2021-12-18 06:29:36,457 DEBUG building SimpleValue for password
2021-12-18 06:29:36,457 DEBUG Building property password
2021-12-18 06:29:36,458 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=null, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,469 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=element, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,469 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=roles_KEY, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,471 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='roles_KEY', referencedColumn='null', mappedBy='null'}
2021-12-18 06:29:36,473 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2021-12-18 06:29:36,473 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2021-12-18 06:29:36,473 DEBUG Collection role: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-18 06:29:36,476 DEBUG Building property roles
2021-12-18 06:29:36,477 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=local_session_id, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,477 DEBUG MetadataSourceProcessor property sessionReconnectKey with lazy=false
2021-12-18 06:29:36,477 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:sessionReconnectKey]
2021-12-18 06:29:36,477 DEBUG building SimpleValue for sessionReconnectKey
2021-12-18 06:29:36,477 DEBUG Building property sessionReconnectKey
2021-12-18 06:29:36,477 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_timezone, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,478 DEBUG MetadataSourceProcessor property timeZone with lazy=false
2021-12-18 06:29:36,478 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:timeZone]
2021-12-18 06:29:36,478 DEBUG building SimpleValue for timeZone
2021-12-18 06:29:36,478 DEBUG Building property timeZone
2021-12-18 06:29:36,479 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.RoleEntity
2021-12-18 06:29:36,479 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-18 06:29:36,479 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-18 06:29:36,479 DEBUG Import with entity name role_definition
2021-12-18 06:29:36,479 DEBUG Bind entity com.peterphi.usermanager.db.entity.RoleEntity on table role_definition
2021-12-18 06:29:36,487 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,487 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-18 06:29:36,487 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:id]
2021-12-18 06:29:36,487 DEBUG building SimpleValue for id
2021-12-18 06:29:36,487 DEBUG Building property id
2021-12-18 06:29:36,487 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=caption, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,488 DEBUG MetadataSourceProcessor property caption with lazy=false
2021-12-18 06:29:36,488 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:caption]
2021-12-18 06:29:36,488 DEBUG building SimpleValue for caption
2021-12-18 06:29:36,488 DEBUG Building property caption
2021-12-18 06:29:36,488 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=null, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,488 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=element, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,488 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=members_KEY, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,488 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='members_KEY', referencedColumn='null', mappedBy='null'}
2021-12-18 06:29:36,489 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='role_id', referencedColumn='id', mappedBy=''}
2021-12-18 06:29:36,490 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='id', mappedBy=''}
2021-12-18 06:29:36,490 DEBUG Collection role: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-18 06:29:36,490 DEBUG Building property members
2021-12-18 06:29:36,490 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-18 06:29:36,490 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-18 06:29:36,490 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-18 06:29:36,490 DEBUG Import with entity name oauth_session
2021-12-18 06:29:36,490 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionEntity on table oauth_session
2021-12-18 06:29:36,493 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,494 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-18 06:29:36,494 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:id]
2021-12-18 06:29:36,494 DEBUG building SimpleValue for id
2021-12-18 06:29:36,494 DEBUG Building property id
2021-12-18 06:29:36,494 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,494 DEBUG MetadataSourceProcessor property alive with lazy=false
2021-12-18 06:29:36,494 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:alive]
2021-12-18 06:29:36,494 DEBUG building SimpleValue for alive
2021-12-18 06:29:36,494 DEBUG Building property alive
2021-12-18 06:29:36,494 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=authorisation_code, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,494 DEBUG MetadataSourceProcessor property authorisationCode with lazy=false
2021-12-18 06:29:36,495 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:authorisationCode]
2021-12-18 06:29:36,495 DEBUG building SimpleValue for authorisationCode
2021-12-18 06:29:36,495 DEBUG Building property authorisationCode
2021-12-18 06:29:36,495 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='context_id', referencedColumn='', mappedBy=''}
2021-12-18 06:29:36,495 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=context, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,497 DEBUG Building property context
2021-12-18 06:29:36,497 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,497 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-18 06:29:36,497 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:created]
2021-12-18 06:29:36,497 DEBUG building SimpleValue for created
2021-12-18 06:29:36,497 DEBUG Building property created
2021-12-18 06:29:36,497 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=expires_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,497 DEBUG MetadataSourceProcessor property expires with lazy=false
2021-12-18 06:29:36,498 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:expires]
2021-12-18 06:29:36,498 DEBUG building SimpleValue for expires
2021-12-18 06:29:36,498 DEBUG Building property expires
2021-12-18 06:29:36,498 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=initiator_detail, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,498 DEBUG MetadataSourceProcessor property initiator with lazy=false
2021-12-18 06:29:36,498 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:initiator]
2021-12-18 06:29:36,498 DEBUG building SimpleValue for initiator
2021-12-18 06:29:36,498 DEBUG Building property initiator
2021-12-18 06:29:36,498 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=current_token, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,498 DEBUG MetadataSourceProcessor property token with lazy=false
2021-12-18 06:29:36,498 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:token]
2021-12-18 06:29:36,498 DEBUG building SimpleValue for token
2021-12-18 06:29:36,498 DEBUG Building property token
2021-12-18 06:29:36,498 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,498 DEBUG MetadataSourceProcessor property updated with lazy=false
2021-12-18 06:29:36,498 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:updated]
2021-12-18 06:29:36,499 DEBUG building SimpleValue for updated
2021-12-18 06:29:36,499 DEBUG Building property updated
2021-12-18 06:29:36,499 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-18 06:29:36,499 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-18 06:29:36,499 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-18 06:29:36,499 DEBUG Import with entity name oauth_session_context
2021-12-18 06:29:36,499 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity on table oauth_session_context
2021-12-18 06:29:36,500 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,500 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-18 06:29:36,501 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:id]
2021-12-18 06:29:36,501 DEBUG building SimpleValue for id
2021-12-18 06:29:36,501 DEBUG Building property id
2021-12-18 06:29:36,501 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,501 DEBUG MetadataSourceProcessor property active with lazy=false
2021-12-18 06:29:36,501 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:active]
2021-12-18 06:29:36,501 DEBUG building SimpleValue for active
2021-12-18 06:29:36,501 DEBUG Building property active
2021-12-18 06:29:36,501 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,501 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-18 06:29:36,501 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:created]
2021-12-18 06:29:36,501 DEBUG building SimpleValue for created
2021-12-18 06:29:36,501 DEBUG Building property created
2021-12-18 06:29:36,501 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=approved_scope, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,501 DEBUG MetadataSourceProcessor property scope with lazy=false
2021-12-18 06:29:36,501 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:scope]
2021-12-18 06:29:36,501 DEBUG building SimpleValue for scope
2021-12-18 06:29:36,501 DEBUG Building property scope
2021-12-18 06:29:36,502 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='service_id', referencedColumn='', mappedBy=''}
2021-12-18 06:29:36,502 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=service, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,502 DEBUG Building property service
2021-12-18 06:29:36,502 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,502 DEBUG MetadataSourceProcessor property updated with lazy=false
2021-12-18 06:29:36,502 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:updated]
2021-12-18 06:29:36,502 DEBUG building SimpleValue for updated
2021-12-18 06:29:36,502 DEBUG Building property updated
2021-12-18 06:29:36,502 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='', mappedBy=''}
2021-12-18 06:29:36,502 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=user, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,502 DEBUG Building property user
2021-12-18 06:29:36,502 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-18 06:29:36,502 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-18 06:29:36,502 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-18 06:29:36,502 DEBUG Import with entity name oauth_service
2021-12-18 06:29:36,503 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthServiceEntity on table oauth_service
2021-12-18 06:29:36,504 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,504 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-18 06:29:36,504 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:id]
2021-12-18 06:29:36,504 DEBUG building SimpleValue for id
2021-12-18 06:29:36,504 DEBUG Building property id
2021-12-18 06:29:36,504 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_secret, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,504 DEBUG MetadataSourceProcessor property clientSecret with lazy=false
2021-12-18 06:29:36,504 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:clientSecret]
2021-12-18 06:29:36,504 DEBUG building SimpleValue for clientSecret
2021-12-18 06:29:36,504 DEBUG Building property clientSecret
2021-12-18 06:29:36,504 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,504 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-18 06:29:36,504 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:created]
2021-12-18 06:29:36,504 DEBUG building SimpleValue for created
2021-12-18 06:29:36,504 DEBUG Building property created
2021-12-18 06:29:36,505 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=is_enabled, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,505 DEBUG MetadataSourceProcessor property enabled with lazy=false
2021-12-18 06:29:36,505 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:enabled]
2021-12-18 06:29:36,505 DEBUG building SimpleValue for enabled
2021-12-18 06:29:36,505 DEBUG Building property enabled
2021-12-18 06:29:36,505 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_endpoints, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,505 DEBUG MetadataSourceProcessor property endpoints with lazy=false
2021-12-18 06:29:36,505 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:endpoints]
2021-12-18 06:29:36,505 DEBUG building SimpleValue for endpoints
2021-12-18 06:29:36,505 DEBUG Building property endpoints
2021-12-18 06:29:36,505 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_name, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,505 DEBUG MetadataSourceProcessor property name with lazy=false
2021-12-18 06:29:36,505 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:name]
2021-12-18 06:29:36,505 DEBUG building SimpleValue for name
2021-12-18 06:29:36,505 DEBUG Building property name
2021-12-18 06:29:36,505 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='owner_id', referencedColumn='', mappedBy=''}
2021-12-18 06:29:36,505 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=owner, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,505 DEBUG Building property owner
2021-12-18 06:29:36,505 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2021-12-18 06:29:36,506 DEBUG MetadataSourceProcessor property updated with lazy=false
2021-12-18 06:29:36,506 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:updated]
2021-12-18 06:29:36,506 DEBUG building SimpleValue for updated
2021-12-18 06:29:36,506 DEBUG Building property updated
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for id
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for created
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for dateFormat
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for email
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for lastLogin
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for name
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for password
2021-12-18 06:29:36,506 DEBUG Starting fillSimpleValue for sessionReconnectKey
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for timeZone
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for id
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for caption
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for id
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for alive
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for authorisationCode
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for created
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for expires
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for initiator
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for token
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for updated
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for id
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for active
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for created
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for scope
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for updated
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for id
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for clientSecret
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for created
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for enabled
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for endpoints
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for name
2021-12-18 06:29:36,507 DEBUG Starting fillSimpleValue for updated
2021-12-18 06:29:36,508 DEBUG Processing fk mappings (*ToOne and JoinedSubclass)
2021-12-18 06:29:36,513 DEBUG Processing extends queue
2021-12-18 06:29:36,514 DEBUG Processing extends queue
2021-12-18 06:29:36,514 DEBUG Processing collection mappings
2021-12-18 06:29:36,514 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-18 06:29:36,514 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-18 06:29:36,518 DEBUG Mapped collection key: role_id, element: user_id
2021-12-18 06:29:36,519 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-18 06:29:36,519 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-18 06:29:36,520 DEBUG Retrieving property com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-18 06:29:36,520 DEBUG Mapped collection key: user_id, element: role_id
2021-12-18 06:29:36,520 DEBUG Processing native query and ResultSetMapping mappings
2021-12-18 06:29:36,520 DEBUG Processing association property references
2021-12-18 06:29:36,520 DEBUG Creating tables' unique integer identifiers
2021-12-18 06:29:36,520 DEBUG Processing foreign key constraints
2021-12-18 06:29:36,520 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,520 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-18 06:29:36,520 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-18 06:29:36,520 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,520 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,520 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.RoleEntity
2021-12-18 06:29:36,523 DEBUG No JtaPlatform was specified, checking resolver
2021-12-18 06:29:36,523 DEBUG No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]
2021-12-18 06:29:36,527 DEBUG Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-18 06:29:36,531 DEBUG Automatic flush during beforeCompletion(): disabled
2021-12-18 06:29:36,531 DEBUG Automatic session close at end of transaction: disabled
2021-12-18 06:29:36,531 DEBUG JDBC batch size: 15
2021-12-18 06:29:36,531 DEBUG JDBC batch updates for versioned data: disabled
2021-12-18 06:29:36,531 DEBUG Scrollable result sets: enabled
2021-12-18 06:29:36,531 DEBUG Wrap result sets: disabled
2021-12-18 06:29:36,531 DEBUG JDBC3 getGeneratedKeys(): enabled
2021-12-18 06:29:36,531 DEBUG multi-tenancy strategy : NONE
2021-12-18 06:29:36,531 DEBUG Connection release mode: auto
2021-12-18 06:29:36,531  INFO HHH000399: Using default transaction strategy (direct JDBC transactions)
2021-12-18 06:29:36,534 DEBUG Using BatchFetchStyle : LEGACY
2021-12-18 06:29:36,534 DEBUG Default batch fetch size: 1
2021-12-18 06:29:36,534 DEBUG Generate SQL with comments: disabled
2021-12-18 06:29:36,534 DEBUG Order SQL updates by primary key: disabled
2021-12-18 06:29:36,534 DEBUG Order SQL inserts for batching: disabled
2021-12-18 06:29:36,534 DEBUG Default null ordering: none
2021-12-18 06:29:36,534 DEBUG Query translator: org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory
2021-12-18 06:29:36,536  INFO HHH000397: Using ASTQueryTranslatorFactory
2021-12-18 06:29:36,536 DEBUG Query language substitutions: {}
2021-12-18 06:29:36,536 DEBUG JPA-QL strict compliance: disabled
2021-12-18 06:29:36,536 DEBUG Second-level cache: enabled
2021-12-18 06:29:36,536 DEBUG Query cache: disabled
2021-12-18 06:29:36,537 DEBUG Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2021-12-18 06:29:36,540 DEBUG Optimize cache for minimal puts: disabled
2021-12-18 06:29:36,540 DEBUG Structured second-level cache entries: disabled
2021-12-18 06:29:36,540 DEBUG Second-level cache direct-reference entries: disabled
2021-12-18 06:29:36,540 DEBUG Automatic eviction of collection cache: disabled
2021-12-18 06:29:36,540 DEBUG Statistics: disabled
2021-12-18 06:29:36,540 DEBUG Deleted entity synthetic identifier rollback: disabled
2021-12-18 06:29:36,540 DEBUG Default entity-mode: pojo
2021-12-18 06:29:36,540 DEBUG Named query checking : enabled
2021-12-18 06:29:36,540 DEBUG Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2021-12-18 06:29:36,540 DEBUG Allow initialization of lazy state outside session : : disabled
2021-12-18 06:29:36,540 DEBUG JTA Track by Thread: enabled
2021-12-18 06:29:36,550 DEBUG Building session factory
2021-12-18 06:29:36,561 DEBUG Session factory constructed with filter configurations : {}
2021-12-18 06:29:36,561 DEBUG Instantiating session factory with properties: {liquibase.action=UPDATE, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.connection.password=, sun.boot.library.path=/usr/lib/jvm/java-8-oracle/jre/lib/amd64, java.vm.version=25.31-b07, hibernate.connection.username=sa, java.vm.vendor=Oracle Corporation, java.vendor.url=http://java.oracle.com/, path.separator=:, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=US, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/home/travis/build/passed/petergeneric/stdlib/user-manager/service, hibernate.allow-hbm2ddl-create=true, java.runtime.version=1.8.0_31-b13, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, basedir=/home/travis/build/passed/petergeneric/stdlib/user-manager/service, hibernate.current_session_context_class=thread, java.endorsed.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/endorsed, os.arch=amd64, surefire.real.class.path=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter8184161418937339625.jar, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Oracle Corporation, os.name=Linux, https.protocols=TLSv1.2, sun.jnu.encoding=UTF-8, java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib, surefire.test.class.path=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/passed/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/passed/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.connection.readOnly=false, java.specification.name=Java Platform API Specification, java.class.version=52.0, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, os.version=4.15.0-109-generic, user.home=/home/travis, user.timezone=Etc/UTC, java.awt.printerjob=sun.print.PSPrinterJob, java.specification.version=1.8, file.encoding=UTF-8, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, user.name=travis, java.class.path=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/passed/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/passed/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, hibernate.bytecode.use_reflection_optimizer=false, hibernate.show_sql=false, java.vm.specification.version=1.8, sun.arch.data.model=64, java.home=/usr/lib/jvm/java-8-oracle/jre, sun.java.command=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter8184161418937339625.jar /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefire7829312143446326926tmp /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefire_92357666771148160083tmp, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.connection.url=jdbc:hsqldb:mem:testdb, java.specification.vendor=Oracle Corporation, user.language=en, awt.toolkit=sun.awt.X11.XToolkit, java.vm.info=mixed mode, java.version=1.8.0_31, java.ext.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/ext:/usr/java/packages/lib/ext, sun.boot.class.path=/usr/lib/jvm/java-8-oracle/jre/lib/resources.jar:/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar:/usr/lib/jvm/java-8-oracle/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jsse.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jce.jar:/usr/lib/jvm/java-8-oracle/jre/lib/charsets.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jfr.jar:/usr/lib/jvm/java-8-oracle/jre/classes, java.vendor=Oracle Corporation, localRepository=/home/travis/.m2/repository, file.separator=/, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, sun.cpu.endian=little, sun.io.unicode.encoding=UnicodeLittle, liquibase.changelog=/liquibase/changelog.xml, hibernate.properties=embedded, sun.cpu.isalist=}
2021-12-18 06:29:36,585 DEBUG Unable to acquire Bean Validation ValidatorFactory, skipping activation
2021-12-18 06:29:36,585 DEBUG Skipping JACC integration as it was not enabled
2021-12-18 06:29:36,586 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-18 06:29:36,587 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-18 06:29:36,587 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-18 06:29:36,587 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-18 06:29:36,587 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-18 06:29:36,774 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-18 06:29:36,774 DEBUG  Row insert: insert into user_has_role (user_id, role_id) values (?, ?)
2021-12-18 06:29:36,774 DEBUG  Row update: update user_has_role set role_id=? where user_id=? and role_id=?
2021-12-18 06:29:36,774 DEBUG  Row delete: delete from user_has_role where user_id=? and role_id=?
2021-12-18 06:29:36,774 DEBUG  One-shot delete: delete from user_has_role where user_id=?
2021-12-18 06:29:36,774 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-18 06:29:36,774 DEBUG  Row insert: insert into user_has_role (role_id, user_id) values (?, ?)
2021-12-18 06:29:36,774 DEBUG  Row update: update user_has_role set user_id=? where role_id=? and user_id=?
2021-12-18 06:29:36,774 DEBUG  Row delete: delete from user_has_role where role_id=? and user_id=?
2021-12-18 06:29:36,774 DEBUG  One-shot delete: delete from user_has_role where role_id=?
2021-12-18 06:29:36,824 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,824 DEBUG  Version select: select id from user_account where id =?
2021-12-18 06:29:36,824 DEBUG  Snapshot select: select userentity_.id, userentity_.created_ts as created_2_4_, userentity_.date_format as date_for3_4_, userentity_.email as email4_4_, userentity_.last_login_ts as last_log5_4_, userentity_.name as name6_4_, userentity_.password as password7_4_, userentity_.local_session_id as local_se8_4_, userentity_.date_timezone as date_tim9_4_ from user_account userentity_ where userentity_.id=?
2021-12-18 06:29:36,824 DEBUG  Insert 0: insert into user_account (created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-12-18 06:29:36,824 DEBUG  Update 0: update user_account set created_ts=?, date_format=?, email=?, last_login_ts=?, name=?, password=?, local_session_id=?, date_timezone=? where id=?
2021-12-18 06:29:36,824 DEBUG  Delete 0: delete from user_account where id=?
2021-12-18 06:29:36,824 DEBUG  Identity insert: insert into user_account (id, created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone) values (default, ?, ?, ?, ?, ?, ?, ?, ?)
2021-12-18 06:29:36,852 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@df921b1]
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,854 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,857 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,857 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,857 DEBUG Building LoadPlan...
2021-12-18 06:29:36,874 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,878 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,880 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [NONE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-18 06:29:36,881 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@77bc2e16]
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,881 DEBUG Building LoadPlan...
2021-12-18 06:29:36,881 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,881 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,881 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-18 06:29:36,881 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@20a7953c]
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,881 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,882 DEBUG Building LoadPlan...
2021-12-18 06:29:36,882 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,882 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,882 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,882 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@411a5965]
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,882 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,882 DEBUG Building LoadPlan...
2021-12-18 06:29:36,882 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,883 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,883 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_NOWAIT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,883 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5377414a]
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,883 DEBUG Building LoadPlan...
2021-12-18 06:29:36,883 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,883 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,883 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_SKIPLOCKED]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,883 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@17aa8a11]
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,883 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,883 DEBUG Building LoadPlan...
2021-12-18 06:29:36,884 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,884 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,884 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [FORCE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,884 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18a25bbd]
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,884 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,884 DEBUG Building LoadPlan...
2021-12-18 06:29:36,884 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,884 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,884 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,885 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1ee27d73]
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,885 DEBUG Building LoadPlan...
2021-12-18 06:29:36,885 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,885 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,885 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_WRITE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,885 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@542f6803]
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,885 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,885 DEBUG Building LoadPlan...
2021-12-18 06:29:36,886 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,886 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,886 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-18 06:29:36,886 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5807efad]
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,886 DEBUG Building LoadPlan...
2021-12-18 06:29:36,886 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,886 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,886 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-18 06:29:36,886 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7ce85af2]
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,886 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,887 DEBUG Building LoadPlan...
2021-12-18 06:29:36,887 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,887 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-18 06:29:36,887 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-18 06:29:36,905 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-18 06:29:36,905 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-18 06:29:36,905 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-18 06:29:36,905 DEBUG  Version select: select updated_ts from oauth_session_context where id =?
2021-12-18 06:29:36,905 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_2_, oauthsessi_.created_ts as created_3_2_, oauthsessi_.approved_scope as approved4_2_, oauthsessi_.service_id as service_6_2_, oauthsessi_.updated_ts as updated_5_2_, oauthsessi_.user_id as user_id7_2_ from oauth_session_context oauthsessi_ where oauthsessi_.id=?
2021-12-18 06:29:36,905 DEBUG  Insert 0: insert into oauth_session_context (is_active, created_ts, approved_scope, service_id, updated_ts, user_id, id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-18 06:29:36,905 DEBUG  Update 0: update oauth_session_context set is_active=?, created_ts=?, approved_scope=?, service_id=?, updated_ts=?, user_id=? where id=? and updated_ts=?
2021-12-18 06:29:36,905 DEBUG  Delete 0: delete from oauth_session_context where id=? and updated_ts=?
2021-12-18 06:29:36,905 DEBUG  Identity insert: insert into oauth_session_context (id, is_active, created_ts, approved_scope, service_id, updated_ts, user_id) values (default, ?, ?, ?, ?, ?, ?)
2021-12-18 06:29:36,905 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6e3eb0cd]
2021-12-18 06:29:36,905 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,905 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,906 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,906 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,907 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@58d6e55a]
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.clientSecret
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.created
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.enabled
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.endpoints
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.name
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner
2021-12-18 06:29:36,909 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@311ff287]
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.created
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.dateFormat
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.email
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.lastLogin
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.name
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.password
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.roles
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.owner.timeZone
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : service.updated
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,909 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@31db34da]
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.created
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.dateFormat
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.email
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.lastLogin
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.name
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.password
2021-12-18 06:29:36,909 DEBUG Visiting attribute path : user.roles
2021-12-18 06:29:36,910 DEBUG Visiting attribute path : user.sessionReconnectKey
2021-12-18 06:29:36,910 DEBUG Visiting attribute path : user.timeZone
2021-12-18 06:29:36,910 DEBUG Building LoadPlan...
2021-12-18 06:29:36,910 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,911 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2021-12-18 06:29:36,911 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [NONE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2021-12-18 06:29:36,911 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7e307087]
2021-12-18 06:29:36,911 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,912 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a8b81e8]
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.clientSecret
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.created
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.enabled
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.endpoints
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.name
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner
2021-12-18 06:29:36,912 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5e8507f1]
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.created
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.dateFormat
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.email
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.lastLogin
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.name
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.password
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.roles
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.owner.timeZone
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : service.updated
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,912 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d08edc5]
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.created
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.dateFormat
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.email
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.lastLogin
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.name
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.password
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.roles
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.sessionReconnectKey
2021-12-18 06:29:36,912 DEBUG Visiting attribute path : user.timeZone
2021-12-18 06:29:36,912 DEBUG Building LoadPlan...
2021-12-18 06:29:36,913 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,913 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2021-12-18 06:29:36,913 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2021-12-18 06:29:36,913 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f362135]
2021-12-18 06:29:36,913 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,913 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,913 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,913 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,913 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bc24e72]
2021-12-18 06:29:36,913 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,913 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,914 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@724aefc3]
2021-12-18 06:29:36,914 DEBUG Building LoadPlan...
2021-12-18 06:29:36,914 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,914 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,914 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,914 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7cfb4736]
2021-12-18 06:29:36,914 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,914 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,914 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,914 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,914 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53c1179a]
2021-12-18 06:29:36,914 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,914 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,914 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7650ded6]
2021-12-18 06:29:36,914 DEBUG Building LoadPlan...
2021-12-18 06:29:36,914 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,914 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,915 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,915 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5034f5dd]
2021-12-18 06:29:36,915 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,915 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,915 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,915 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,915 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a916402]
2021-12-18 06:29:36,915 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,915 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,915 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a47a1e8]
2021-12-18 06:29:36,915 DEBUG Building LoadPlan...
2021-12-18 06:29:36,915 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,915 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,916 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,916 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@62d1dc3c]
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,916 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@24eeac69]
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,916 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18539cb1]
2021-12-18 06:29:36,916 DEBUG Building LoadPlan...
2021-12-18 06:29:36,916 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,916 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,916 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [FORCE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,916 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@748f93bb]
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,916 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e7157c7]
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,916 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,916 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2a43e0ac]
2021-12-18 06:29:36,917 DEBUG Building LoadPlan...
2021-12-18 06:29:36,917 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,917 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,917 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,917 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@22d9bc14]
2021-12-18 06:29:36,917 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,917 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,917 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,917 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,917 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1084f78c]
2021-12-18 06:29:36,917 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,917 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,917 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@25f723b0]
2021-12-18 06:29:36,917 DEBUG Building LoadPlan...
2021-12-18 06:29:36,917 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,917 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,918 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,918 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4aa11206]
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,918 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3382cf68]
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,918 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2f74900b]
2021-12-18 06:29:36,918 DEBUG Building LoadPlan...
2021-12-18 06:29:36,918 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,918 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,918 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,918 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d8796c1]
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,918 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27be17c8]
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,918 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,918 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c413ffc]
2021-12-18 06:29:36,918 DEBUG Building LoadPlan...
2021-12-18 06:29:36,919 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,919 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,919 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,919 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7d21852b]
2021-12-18 06:29:36,919 DEBUG Visiting attribute path : active
2021-12-18 06:29:36,919 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,919 DEBUG Visiting attribute path : scope
2021-12-18 06:29:36,919 DEBUG Visiting attribute path : service
2021-12-18 06:29:36,919 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3b8ec001]
2021-12-18 06:29:36,919 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,919 DEBUG Visiting attribute path : user
2021-12-18 06:29:36,919 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e95b653]
2021-12-18 06:29:36,919 DEBUG Building LoadPlan...
2021-12-18 06:29:36,919 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,920 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-18 06:29:36,920 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,920 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,920 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,920 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-18 06:29:36,920 DEBUG  Version select: select updated_ts from oauth_service where id =?
2021-12-18 06:29:36,920 DEBUG  Snapshot select: select oauthservi_.id, oauthservi_.client_secret as client_s2_0_, oauthservi_.created_ts as created_3_0_, oauthservi_.is_enabled as is_enabl4_0_, oauthservi_.client_endpoints as client_e5_0_, oauthservi_.client_name as client_n6_0_, oauthservi_.owner_id as owner_id8_0_, oauthservi_.updated_ts as updated_7_0_ from oauth_service oauthservi_ where oauthservi_.id=?
2021-12-18 06:29:36,920 DEBUG  Insert 0: insert into oauth_service (client_secret, created_ts, is_enabled, client_endpoints, client_name, owner_id, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-12-18 06:29:36,920 DEBUG  Update 0: update oauth_service set client_secret=?, created_ts=?, is_enabled=?, client_endpoints=?, client_name=?, owner_id=?, updated_ts=? where id=? and updated_ts=?
2021-12-18 06:29:36,921 DEBUG  Delete 0: delete from oauth_service where id=? and updated_ts=?
2021-12-18 06:29:36,921 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6f6c6077]
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,921 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@286090c]
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.created
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.dateFormat
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.email
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.lastLogin
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.name
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.password
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.roles
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.sessionReconnectKey
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : owner.timeZone
2021-12-18 06:29:36,921 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,921 DEBUG Building LoadPlan...
2021-12-18 06:29:36,921 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,921 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2021-12-18 06:29:36,922 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [NONE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2021-12-18 06:29:36,922 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3df1a1ac]
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,922 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a9cd0f8]
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.created
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.dateFormat
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.email
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.lastLogin
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.name
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.password
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.roles
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.sessionReconnectKey
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : owner.timeZone
2021-12-18 06:29:36,922 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,922 DEBUG Building LoadPlan...
2021-12-18 06:29:36,922 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,922 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2021-12-18 06:29:36,923 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2021-12-18 06:29:36,923 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7be2f29a]
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,923 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c2a027c]
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,923 DEBUG Building LoadPlan...
2021-12-18 06:29:36,923 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,923 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,923 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,923 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@118dcbbd]
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,923 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@350ec690]
2021-12-18 06:29:36,923 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,923 DEBUG Building LoadPlan...
2021-12-18 06:29:36,924 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,924 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,924 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_NOWAIT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,924 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@49cb1baf]
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,924 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@77dba4cd]
2021-12-18 06:29:36,924 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,924 DEBUG Building LoadPlan...
2021-12-18 06:29:36,924 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,924 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,924 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_SKIPLOCKED]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,924 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34a2d6e0]
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,925 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3458eca5]
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,925 DEBUG Building LoadPlan...
2021-12-18 06:29:36,925 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,925 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,925 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [FORCE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,925 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e0fdb2f]
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,925 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34b87182]
2021-12-18 06:29:36,925 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,925 DEBUG Building LoadPlan...
2021-12-18 06:29:36,926 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,926 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,926 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,926 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@47768e74]
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,926 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b5a4aed]
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,926 DEBUG Building LoadPlan...
2021-12-18 06:29:36,926 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,926 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,926 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_WRITE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,926 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2c991465]
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,926 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,927 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f973a14]
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,927 DEBUG Building LoadPlan...
2021-12-18 06:29:36,927 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,927 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,927 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-18 06:29:36,927 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76130a29]
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,927 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3451f01d]
2021-12-18 06:29:36,927 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,927 DEBUG Building LoadPlan...
2021-12-18 06:29:36,927 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,928 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,928 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-18 06:29:36,928 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@72503b19]
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : clientSecret
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : enabled
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : endpoints
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : owner
2021-12-18 06:29:36,928 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@66deec87]
2021-12-18 06:29:36,928 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,928 DEBUG Building LoadPlan...
2021-12-18 06:29:36,928 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,928 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-18 06:29:36,928 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-18 06:29:36,928 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-18 06:29:36,929 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-18 06:29:36,929 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.RoleEntity
2021-12-18 06:29:36,929 DEBUG  Version select: select id from role_definition where id =?
2021-12-18 06:29:36,929 DEBUG  Snapshot select: select roleentity_.id, roleentity_.caption as caption2_3_ from role_definition roleentity_ where roleentity_.id=?
2021-12-18 06:29:36,929 DEBUG  Insert 0: insert into role_definition (caption, id) values (?, ?)
2021-12-18 06:29:36,929 DEBUG  Update 0: update role_definition set caption=? where id=?
2021-12-18 06:29:36,929 DEBUG  Delete 0: delete from role_definition where id=?
2021-12-18 06:29:36,929 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d342959]
2021-12-18 06:29:36,929 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,929 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,929 DEBUG Building LoadPlan...
2021-12-18 06:29:36,929 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,929 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,929 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [NONE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-18 06:29:36,929 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53e76c11]
2021-12-18 06:29:36,929 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,929 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,929 DEBUG Building LoadPlan...
2021-12-18 06:29:36,929 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,930 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,930 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-18 06:29:36,930 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e4e8fdf]
2021-12-18 06:29:36,930 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,930 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,930 DEBUG Building LoadPlan...
2021-12-18 06:29:36,930 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,930 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,930 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,930 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2721044]
2021-12-18 06:29:36,930 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,930 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,930 DEBUG Building LoadPlan...
2021-12-18 06:29:36,930 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,930 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,930 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_NOWAIT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,930 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6aa7b67f]
2021-12-18 06:29:36,930 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,930 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,931 DEBUG Building LoadPlan...
2021-12-18 06:29:36,931 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,931 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,931 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_SKIPLOCKED]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,931 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@79aee22a]
2021-12-18 06:29:36,931 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,931 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,931 DEBUG Building LoadPlan...
2021-12-18 06:29:36,931 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,932 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,932 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [FORCE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,932 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@61514735]
2021-12-18 06:29:36,932 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,932 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,932 DEBUG Building LoadPlan...
2021-12-18 06:29:36,932 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,932 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,932 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,932 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@655f69da]
2021-12-18 06:29:36,932 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,932 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,932 DEBUG Building LoadPlan...
2021-12-18 06:29:36,932 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,933 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,933 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_WRITE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,933 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@28369db0]
2021-12-18 06:29:36,933 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,933 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,933 DEBUG Building LoadPlan...
2021-12-18 06:29:36,933 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,933 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,933 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-18 06:29:36,933 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2e86807a]
2021-12-18 06:29:36,933 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,933 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,933 DEBUG Building LoadPlan...
2021-12-18 06:29:36,933 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,933 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,933 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-18 06:29:36,933 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@590f0c50]
2021-12-18 06:29:36,934 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,934 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,934 DEBUG Building LoadPlan...
2021-12-18 06:29:36,934 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,934 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-18 06:29:36,934 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-18 06:29:36,936 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2021-12-18 06:29:36,937 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2021-12-18 06:29:36,937 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-18 06:29:36,937 DEBUG  Version select: select updated_ts from oauth_session where id =?
2021-12-18 06:29:36,937 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_1_, oauthsessi_.authorisation_code as authoris3_1_, oauthsessi_.context_id as context_9_1_, oauthsessi_.created_ts as created_4_1_, oauthsessi_.expires_ts as expires_5_1_, oauthsessi_.initiator_detail as initiato6_1_, oauthsessi_.current_token as current_7_1_, oauthsessi_.updated_ts as updated_8_1_ from oauth_session oauthsessi_ where oauthsessi_.id=?
2021-12-18 06:29:36,937 DEBUG  Insert 0: insert into oauth_session (is_active, authorisation_code, context_id, created_ts, expires_ts, initiator_detail, current_token, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-12-18 06:29:36,937 DEBUG  Update 0: update oauth_session set is_active=?, authorisation_code=?, context_id=?, created_ts=?, expires_ts=?, initiator_detail=?, current_token=?, updated_ts=? where id=? and updated_ts=?
2021-12-18 06:29:36,937 DEBUG  Delete 0: delete from oauth_session where id=? and updated_ts=?
2021-12-18 06:29:36,937 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2b7e8044]
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,937 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3a1706e1]
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.active
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.created
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.scope
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service
2021-12-18 06:29:36,937 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@63cf9de0]
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service.clientSecret
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service.created
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service.enabled
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service.endpoints
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service.name
2021-12-18 06:29:36,937 DEBUG Visiting attribute path : context.service.owner
2021-12-18 06:29:36,938 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5befbac1]
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.created
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.dateFormat
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.email
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.lastLogin
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.name
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.password
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.roles
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.owner.timeZone
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.service.updated
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.updated
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user
2021-12-18 06:29:36,938 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a565afb]
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.created
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.dateFormat
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.email
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.lastLogin
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.name
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.password
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.roles
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : context.user.timeZone
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,938 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,938 DEBUG Building LoadPlan...
2021-12-18 06:29:36,938 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,939 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2021-12-18 06:29:36,939 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [NONE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2021-12-18 06:29:36,939 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@949c598]
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,939 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bfaa0a6]
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.active
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.created
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.scope
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service
2021-12-18 06:29:36,939 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@314b9e4b]
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.clientSecret
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.created
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.enabled
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.endpoints
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.name
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner
2021-12-18 06:29:36,939 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@51dae791]
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.created
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.dateFormat
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.email
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.lastLogin
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.name
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.password
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.roles
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.owner.timeZone
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.service.updated
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.updated
2021-12-18 06:29:36,939 DEBUG Visiting attribute path : context.user
2021-12-18 06:29:36,940 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5de5e95]
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.created
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.dateFormat
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.email
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.lastLogin
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.name
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.password
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.roles
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context.user.timeZone
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,940 DEBUG Building LoadPlan...
2021-12-18 06:29:36,940 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,940 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2021-12-18 06:29:36,940 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2021-12-18 06:29:36,940 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@303c55fa]
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,940 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,941 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7eb200ce]
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,941 DEBUG Building LoadPlan...
2021-12-18 06:29:36,941 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,941 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,941 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,941 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2ee83775]
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,941 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@b5de58f]
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,941 DEBUG Building LoadPlan...
2021-12-18 06:29:36,941 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,941 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,941 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,941 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6587305a]
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,941 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,941 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3f81621c]
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,942 DEBUG Building LoadPlan...
2021-12-18 06:29:36,942 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,942 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,942 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,942 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b9499fe]
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,942 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@52a33c3f]
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,942 DEBUG Building LoadPlan...
2021-12-18 06:29:36,942 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,942 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,942 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [FORCE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,942 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@668625f5]
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,942 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@75babb67]
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,942 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,942 DEBUG Building LoadPlan...
2021-12-18 06:29:36,943 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,943 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,943 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,943 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3eb3232b]
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,943 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@60bb7995]
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,943 DEBUG Building LoadPlan...
2021-12-18 06:29:36,943 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,943 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,943 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,943 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40fa8766]
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,943 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@663f237a]
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,943 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,943 DEBUG Building LoadPlan...
2021-12-18 06:29:36,943 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,944 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,944 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-18 06:29:36,944 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d7399f9]
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,944 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@14fded9d]
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,944 DEBUG Building LoadPlan...
2021-12-18 06:29:36,944 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,944 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,944 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,944 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@bc6288b]
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : alive
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : authorisationCode
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : context
2021-12-18 06:29:36,944 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@34c70b5e]
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : expires
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : initiator
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : token
2021-12-18 06:29:36,944 DEBUG Visiting attribute path : updated
2021-12-18 06:29:36,944 DEBUG Building LoadPlan...
2021-12-18 06:29:36,944 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,944 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-18 06:29:36,945 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,945 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,945 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-18 06:29:36,951 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@5c7dfc05]
2021-12-18 06:29:36,951 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@345d053b]
2021-12-18 06:29:36,953 DEBUG Visiting attribute path : caption
2021-12-18 06:29:36,953 DEBUG Visiting attribute path : members
2021-12-18 06:29:36,953 DEBUG Property path deemed to be circular : members
2021-12-18 06:29:36,953 DEBUG Building LoadPlan...
2021-12-18 06:29:36,955 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,955 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.UserEntity.roles, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
          - SQL table alias mapping - roles0_
          - alias suffix - 0_
          - suffixed key columns - {user_id2_4_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_3_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
                - SQL table alias mapping - roleentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_3_1_}

2021-12-18 06:29:36,956 DEBUG Static select for collection com.peterphi.usermanager.db.entity.UserEntity.roles: select roles0_.user_id as user_id2_4_0_, roles0_.role_id as role_id1_5_0_, roleentity1_.id as id1_3_1_, roleentity1_.caption as caption2_3_1_ from user_has_role roles0_ inner join role_definition roleentity1_ on roles0_.role_id=roleentity1_.id where roles0_.user_id=?
2021-12-18 06:29:36,956 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@38cedb7d]
2021-12-18 06:29:36,956 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@772caabe]
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : created
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : dateFormat
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : email
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : lastLogin
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : name
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : password
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : roles
2021-12-18 06:29:36,956 DEBUG Property path deemed to be circular : roles
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-18 06:29:36,956 DEBUG Visiting attribute path : timeZone
2021-12-18 06:29:36,956 DEBUG Building LoadPlan...
2021-12-18 06:29:36,956 DEBUG processing queryspace <gen:0>
2021-12-18 06:29:36,956 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.RoleEntity.members, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
          - SQL table alias mapping - members0_
          - alias suffix - 0_
          - suffixed key columns - {role_id1_3_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_4_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2021-12-18 06:29:36,956 DEBUG Static select for collection com.peterphi.usermanager.db.entity.RoleEntity.members: select members0_.role_id as role_id1_3_0_, members0_.user_id as user_id2_5_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from user_has_role members0_ inner join user_account userentity1_ on members0_.user_id=userentity1_.id where members0_.role_id=? order by userentity1_.id desc
2021-12-18 06:29:36,959 DEBUG Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@3625a016
2021-12-18 06:29:36,961 DEBUG Registering SessionFactory: 1fe33711-31f1-4376-9358-4f2d69400bfe (<unnamed>)
2021-12-18 06:29:36,961 DEBUG Not binding SessionFactory to JNDI, no JNDI name configured
2021-12-18 06:29:36,961 DEBUG Instantiated session factory
2021-12-18 06:29:36,963 DEBUG Checking 0 named HQL queries
2021-12-18 06:29:36,963 DEBUG Checking 0 named SQL queries
2021-12-18 06:29:36,969 DEBUG Statistics initialized [enabled=false]
2021-12-18 06:29:36,970 DEBUG Known entities: [com.peterphi.usermanager.db.entity.UserEntity, com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, com.peterphi.usermanager.db.entity.OAuthServiceEntity, com.peterphi.usermanager.db.entity.RoleEntity, com.peterphi.usermanager.db.entity.OAuthSessionEntity]
2021-12-18 06:29:36,970 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,971 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2021-12-18 06:29:36,973 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2021-12-18 06:29:36,973 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2021-12-18 06:29:36,973 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-18 06:29:36,973 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-18 06:29:36,973 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-18 06:29:36,973 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-18 06:29:36,974 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-18 06:29:36,974 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-18 06:29:37,139 DEBUG begin
2021-12-18 06:29:37,140 DEBUG Obtaining JDBC connection
2021-12-18 06:29:37,140 DEBUG Obtained JDBC connection
2021-12-18 06:29:37,141 DEBUG initial autocommit status: false
2021-12-18 06:29:37,196 DEBUG select this_.id as id1_4_0_, this_.created_ts as created_2_4_0_, this_.date_format as date_for3_4_0_, this_.email as email4_4_0_, this_.last_login_ts as last_log5_4_0_, this_.name as name6_4_0_, this_.password as password7_4_0_, this_.local_session_id as local_se8_4_0_, this_.date_timezone as date_tim9_4_0_ from user_account this_
2021-12-18 06:29:37,204 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-18 06:29:37,204 DEBUG rolling back
2021-12-18 06:29:37,205 DEBUG rolled JDBC Connection
2021-12-18 06:29:37,205 DEBUG Releasing JDBC connection
2021-12-18 06:29:37,205 DEBUG Released JDBC connection
2021-12-18 06:29:37,209 DEBUG begin
2021-12-18 06:29:37,209 DEBUG Obtaining JDBC connection
2021-12-18 06:29:37,209 DEBUG Obtained JDBC connection
2021-12-18 06:29:37,209 DEBUG initial autocommit status: false
2021-12-18 06:29:37,209 DEBUG select this_.id as id1_3_0_, this_.caption as caption2_3_0_ from role_definition this_
2021-12-18 06:29:37,210 DEBUG Result set row: 0
2021-12-18 06:29:37,213 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#admin]
2021-12-18 06:29:37,218 DEBUG Result set row: 1
2021-12-18 06:29:37,218 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2021-12-18 06:29:37,218 DEBUG Result set row: 2
2021-12-18 06:29:37,218 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2021-12-18 06:29:37,218 DEBUG Result set row: 3
2021-12-18 06:29:37,218 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2021-12-18 06:29:37,219 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2021-12-18 06:29:37,226 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2021-12-18 06:29:37,226 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2021-12-18 06:29:37,226 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2021-12-18 06:29:37,226 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2021-12-18 06:29:37,226 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2021-12-18 06:29:37,226 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2021-12-18 06:29:37,227 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2021-12-18 06:29:37,227 DEBUG Transformed: 4 rows to: 4 distinct results
2021-12-18 06:29:37,227 DEBUG rolling back
2021-12-18 06:29:37,227 DEBUG rolled JDBC Connection
2021-12-18 06:29:37,227 DEBUG Releasing JDBC connection
2021-12-18 06:29:37,227 DEBUG Released JDBC connection
2021-12-18 06:29:37,228 DEBUG begin
2021-12-18 06:29:37,228 DEBUG Obtaining JDBC connection
2021-12-18 06:29:37,228 DEBUG Obtained JDBC connection
2021-12-18 06:29:37,228 DEBUG initial autocommit status: false
2021-12-18 06:29:37,229 DEBUG select this_.id as id1_0_1_, this_.client_secret as client_s2_0_1_, this_.created_ts as created_3_0_1_, this_.is_enabled as is_enabl4_0_1_, this_.client_endpoints as client_e5_0_1_, this_.client_name as client_n6_0_1_, this_.owner_id as owner_id8_0_1_, this_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from oauth_service this_ inner join user_account userentity2_ on this_.owner_id=userentity2_.id
2021-12-18 06:29:37,230 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-18 06:29:37,230 DEBUG rolling back
2021-12-18 06:29:37,230 DEBUG rolled JDBC Connection
2021-12-18 06:29:37,230 DEBUG Releasing JDBC connection
2021-12-18 06:29:37,230 DEBUG Released JDBC connection
2021-12-18 06:29:37,231 DEBUG begin
2021-12-18 06:29:37,231 DEBUG Obtaining JDBC connection
2021-12-18 06:29:37,231 DEBUG Obtained JDBC connection
2021-12-18 06:29:37,231 DEBUG initial autocommit status: false
2021-12-18 06:29:37,232 DEBUG select this_.id as id1_1_4_, this_.is_active as is_activ2_1_4_, this_.authorisation_code as authoris3_1_4_, this_.context_id as context_9_1_4_, this_.created_ts as created_4_1_4_, this_.expires_ts as expires_5_1_4_, this_.initiator_detail as initiato6_1_4_, this_.current_token as current_7_1_4_, this_.updated_ts as updated_8_1_4_, oauthsessi2_.id as id1_2_0_, oauthsessi2_.is_active as is_activ2_2_0_, oauthsessi2_.created_ts as created_3_2_0_, oauthsessi2_.approved_scope as approved4_2_0_, oauthsessi2_.service_id as service_6_2_0_, oauthsessi2_.updated_ts as updated_5_2_0_, oauthsessi2_.user_id as user_id7_2_0_, oauthservi3_.id as id1_0_1_, oauthservi3_.client_secret as client_s2_0_1_, oauthservi3_.created_ts as created_3_0_1_, oauthservi3_.is_enabled as is_enabl4_0_1_, oauthservi3_.client_endpoints as client_e5_0_1_, oauthservi3_.client_name as client_n6_0_1_, oauthservi3_.owner_id as owner_id8_0_1_, oauthservi3_.updated_ts as updated_7_0_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_, userentity5_.id as id1_4_3_, userentity5_.created_ts as created_2_4_3_, userentity5_.date_format as date_for3_4_3_, userentity5_.email as email4_4_3_, userentity5_.last_login_ts as last_log5_4_3_, userentity5_.name as name6_4_3_, userentity5_.password as password7_4_3_, userentity5_.local_session_id as local_se8_4_3_, userentity5_.date_timezone as date_tim9_4_3_ from oauth_session this_ inner join oauth_session_context oauthsessi2_ on this_.context_id=oauthsessi2_.id left outer join oauth_service oauthservi3_ on oauthsessi2_.service_id=oauthservi3_.id left outer join user_account userentity4_ on oauthservi3_.owner_id=userentity4_.id left outer join user_account userentity5_ on oauthsessi2_.user_id=userentity5_.id
2021-12-18 06:29:37,233 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-18 06:29:37,234 DEBUG rolling back
2021-12-18 06:29:37,234 DEBUG rolled JDBC Connection
2021-12-18 06:29:37,234 DEBUG Releasing JDBC connection
2021-12-18 06:29:37,234 DEBUG Released JDBC connection
2021-12-18 06:29:37,234 DEBUG begin
2021-12-18 06:29:37,234 DEBUG Obtaining JDBC connection
2021-12-18 06:29:37,234 DEBUG Obtained JDBC connection
2021-12-18 06:29:37,234 DEBUG initial autocommit status: false
2021-12-18 06:29:37,235 DEBUG select this_.id as id1_2_3_, this_.is_active as is_activ2_2_3_, this_.created_ts as created_3_2_3_, this_.approved_scope as approved4_2_3_, this_.service_id as service_6_2_3_, this_.updated_ts as updated_5_2_3_, this_.user_id as user_id7_2_3_, oauthservi2_.id as id1_0_0_, oauthservi2_.client_secret as client_s2_0_0_, oauthservi2_.created_ts as created_3_0_0_, oauthservi2_.is_enabled as is_enabl4_0_0_, oauthservi2_.client_endpoints as client_e5_0_0_, oauthservi2_.client_name as client_n6_0_0_, oauthservi2_.owner_id as owner_id8_0_0_, oauthservi2_.updated_ts as updated_7_0_0_, userentity3_.id as id1_4_1_, userentity3_.created_ts as created_2_4_1_, userentity3_.date_format as date_for3_4_1_, userentity3_.email as email4_4_1_, userentity3_.last_login_ts as last_log5_4_1_, userentity3_.name as name6_4_1_, userentity3_.password as password7_4_1_, userentity3_.local_session_id as local_se8_4_1_, userentity3_.date_timezone as date_tim9_4_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_ from oauth_session_context this_ inner join oauth_service oauthservi2_ on this_.service_id=oauthservi2_.id left outer join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on this_.user_id=userentity4_.id
2021-12-18 06:29:37,236 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-18 06:29:37,236 DEBUG rolling back
2021-12-18 06:29:37,236 DEBUG rolled JDBC Connection
2021-12-18 06:29:37,236 DEBUG Releasing JDBC connection
2021-12-18 06:29:37,236 DEBUG Released JDBC connection
2021-12-18 06:29:37,236  INFO Shutting down 1 service(s)
2021-12-18 06:29:37,237 DEBUG Requesting shutdown of com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@3ffb3598
2021-12-18 06:29:37,237  INFO Shut down Hibernate SessionFactory...
2021-12-18 06:29:37,237 DEBUG begin
2021-12-18 06:29:37,237 DEBUG Obtaining JDBC connection
2021-12-18 06:29:37,237 DEBUG Obtained JDBC connection
2021-12-18 06:29:37,237 DEBUG initial autocommit status: false
2021-12-18 06:29:37,238 DEBUG committing
2021-12-18 06:29:37,239 DEBUG committed JDBC Connection
2021-12-18 06:29:37,239 DEBUG Releasing JDBC connection
2021-12-18 06:29:37,239 DEBUG Released JDBC connection
2021-12-18 06:29:37,239 DEBUG HHH000031: Closing
2021-12-18 06:29:37,239 DEBUG Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2021-12-18 06:29:37,239  INFO HHH000030: Cleaning up connection pool [jdbc:hsqldb:mem:testdb]
2021-12-18 06:29:37,240 DEBUG Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2021-12-18 06:29:37,240  INFO Shutdown complete
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.177 sec - in com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  0.378 s]
[INFO] stdlib ............................................. SUCCESS [  5.800 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.036 s]
[INFO] stdlib guice common ................................ SUCCESS [  8.720 s]
[INFO] user-manager ....................................... SUCCESS [  0.011 s]
[INFO] user manager rest api .............................. SUCCESS [  0.036 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  1.447 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.044 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.030 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  6.816 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [ 17.027 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  6.291 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  5.783 s]
[INFO] carbon client ...................................... SUCCESS [  1.960 s]
[INFO] configuration ...................................... SUCCESS [  0.006 s]
[INFO] Configuration Service .............................. SUCCESS [  1.063 s]
[INFO] user manager service ............................... SUCCESS [ 12.395 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:08 min
[INFO] Finished at: 2021-12-18T06:29:37+00:00
[INFO] Final Memory: 18M/304M
[INFO] ------------------------------------------------------------------------

travis_time:end:156b6764:start=1639808907845308469,finish=1639808977893618894,duration=70048310425[0K
[32;1mThe command "mvn test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B" exited with 0.[0m
travis_fold:start:before_cache[0Ktravis_time:start:17ec5a3e[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory

travis_time:end:17ec5a3e:start=1639808977905111859,finish=1639808977916778975,duration=11667116[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:3801ab02[0K
travis_time:end:3801ab02:start=1639808977927496482,finish=1639808977936158890,duration=8662408[0Ktravis_time:start:21f7433a[0K/home/travis/.casher/bin/casher:190: warning: Insecure world writable dir /home/travis/build/passed/petergeneric/stdlib/. in PATH, mode 040777
[32;1mchanges detected, packing new archive[0m
/home/travis/.casher/bin/casher:213:in `cache_archive_name': undefined method `[]' for nil:NilClass (NoMethodError)
	from /home/travis/.casher/bin/casher:143:in `push'
	from /home/travis/.casher/bin/casher:53:in `block in run'
	from /home/travis/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/timeout.rb:69:in `timeout'
	from /home/travis/.casher/bin/casher:53:in `run'
	from /home/travis/.casher/bin/casher:263:in `<main>'
.
.
.
.
.
.
.
.
.
.
.
.

travis_time:end:21f7433a:start=1639808977946027568,finish=1639809041775436372,duration=63829408804[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 0.
