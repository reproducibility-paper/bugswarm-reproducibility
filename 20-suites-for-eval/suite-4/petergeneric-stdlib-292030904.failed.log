travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: trusty
Build id: ''
Job id: ''
[34m[1mBuild image provisioning date and time[0m
Tue Aug 29 02:50:02 UTC 2017
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 14.04.5 LTS
Release:	14.04
Codename:	trusty
[34m[1mCookbooks Version[0m
4642454 https://github.com/travis-ci/travis-cookbooks/tree/4642454
[34m[1mgit version[0m
git version 2.14.1
[34m[1mbash version[0m
GNU bash, version 4.3.11(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4
Copyright (C) 2013 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mdocker version[0m
Client:
 Version:      17.03.1-ce
 API version:  1.27
 Go version:   go1.7.5
 Git commit:   c6d412e
 Built:        Mon Mar 27 16:58:30 2017
 OS/Arch:      linux/amd64
[34m[1mclang version[0m
clang version 3.9.0 (tags/RELEASE_390/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /usr/local/clang-3.9.0/bin
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.4.6
[34m[1mshfmt version[0m
v1.3.1
[34m[1mccache version[0m
ccache version 3.1.9

Copyright (C) 2002-2007 Andrew Tridgell
Copyright (C) 2009-2011 Joel Rosdahl

This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation; either version 3 of the License, or (at your option) any later
version.
[34m[1mcmake version[0m
cmake version 3.2.2

CMake suite maintained and supported by Kitware (kitware.com/cmake).
[34m[1mheroku version[0m
heroku-cli/6.13.19-6cd27b3 (linux-x64) node-v8.3.0
[34m[1mimagemagick version[0m
Version: ImageMagick 6.7.7-10 2017-07-31 Q16 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.2
[34m[1mmercurial version[0m
Mercurial Distributed SCM (version 4.2.2)
(see https://mercurial-scm.org for more information)

Copyright (C) 2005-2017 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.6.33, for debian-linux-gnu (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.1f 6 Jan 2014
[34m[1mpacker version[0m
Packer v1.0.2

Your version of Packer is out of date! The latest version
is 1.0.4. You can update by downloading from www.packer.io
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 9.6.4
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
Copyright (c) 2001-2009 by Adrian Thurston
[34m[1msubversion version[0m
svn, version 1.8.8 (r1568071)
   compiled Aug 10 2017, 17:20:39 on x86_64-pc-linux-gnu

Copyright (C) 2013 The Apache Software Foundation.
This software consists of contributions made by many people;
see the NOTICE file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - using serf 1.3.3
  - handles 'http' scheme
  - handles 'https' scheme

[34m[1msudo version[0m
Sudo version 1.8.9p5
Configure options: --prefix=/usr -v --with-all-insults --with-pam --with-fqdn --with-logging=syslog --with-logfac=authpriv --with-env-editor --with-editor=/usr/bin/editor --with-timeout=15 --with-password-timeout=0 --with-passprompt=[sudo] password for %p:  --without-lecture --with-tty-tickets --disable-root-mailer --enable-admin-flag --with-sendmail=/usr/sbin/sendmail --with-timedir=/var/lib/sudo --mandir=/usr/share/man --libexecdir=/usr/lib/sudo --with-sssd --with-sssd-lib=/usr/lib/x86_64-linux-gnu --with-selinux
Sudoers policy plugin version 1.8.9p5
Sudoers file grammar version 43

Sudoers path: /etc/sudoers
Authentication methods: 'pam'
Syslog facility if syslog is being used for logging: authpriv
Syslog priority to use when user authenticates successfully: notice
Syslog priority to use when user authenticates unsuccessfully: alert
Send mail if the user is not in sudoers
Use a separate timestamp for each user/tty combo
Lecture user the first time they run sudo
Root may run sudo
Allow some information gathering to give useful error messages
Require fully-qualified hostnames in the sudoers file
Visudo will honor the EDITOR environment variable
Set the LOGNAME and USER environment variables
Length at which to wrap log file lines (0 for no wrap): 80
Authentication timestamp timeout: 15.0 minutes
Password prompt timeout: 0.0 minutes
Number of tries to enter a password: 3
Umask to use or 0777 to use user's: 022
Path to mail program: /usr/sbin/sendmail
Flags for mail program: -t
Address to send mail to: root
Subject line for mail messages: *** SECURITY information for %h ***
Incorrect password message: Sorry, try again.
Path to authentication timestamp dir: /var/lib/sudo
Default password prompt: [sudo] password for %p: 
Default user to run commands as: root
Value to override user's $PATH with: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
Path to the editor for use by visudo: /usr/bin/editor
When to require a password for 'list' pseudocommand: any
When to require a password for 'verify' pseudocommand: all
File descriptors >= 3 will be closed before executing a command
Environment variables to check for sanity:
	TZ
	TERM
	LINGUAS
	LC_*
	LANGUAGE
	LANG
	COLORTERM
Environment variables to remove:
	RUBYOPT
	RUBYLIB
	PYTHONUSERBASE
	PYTHONINSPECT
	PYTHONPATH
	PYTHONHOME
	TMPPREFIX
	ZDOTDIR
	READNULLCMD
	NULLCMD
	FPATH
	PERL5DB
	PERL5OPT
	PERL5LIB
	PERLLIB
	PERLIO_DEBUG 
	JAVA_TOOL_OPTIONS
	SHELLOPTS
	GLOBIGNORE
	PS4
	BASH_ENV
	ENV
	TERMCAP
	TERMPATH
	TERMINFO_DIRS
	TERMINFO
	_RLD*
	LD_*
	PATH_LOCALE
	NLSPATH
	HOSTALIASES
	RES_OPTIONS
	LOCALDOMAIN
	CDPATH
	IFS
Environment variables to preserve:
	JAVA_HOME
	TRAVIS
	CI
	DEBIAN_FRONTEND
	XAUTHORIZATION
	XAUTHORITY
	PS2
	PS1
	PATH
	LS_COLORS
	KRB5CCNAME
	HOSTNAME
	HOME
	DISPLAY
	COLORS
Locale to use while parsing sudoers: C
Directory in which to store input/output logs: /var/log/sudo-io
File in which to store the input/output log: %{seq}
Add an entry to the utmp/utmpx file when allocating a pty
PAM service name to use
PAM service name to use for login shells
Create a new PAM session for the command to run in
Maximum I/O log sequence number: 0

Local IP address and netmask pairs:
	172.17.0.2/255.255.0.0

Sudoers I/O plugin version 1.8.9p5
[34m[1mgzip version[0m
gzip 1.6
Copyright (C) 2007, 2010, 2011 Free Software Foundation, Inc.
Copyright (C) 1993 Jean-loup Gailly.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.

Written by Jean-loup Gailly.
[34m[1mzip version[0m
Copyright (c) 1990-2008 Info-ZIP - Type 'zip "-L"' for software license.
This is Zip 3.0 (July 5th 2008), by Info-ZIP.
Currently maintained by E. Gordon.  Please send bug reports to
the authors using the web page at www.info-zip.org; see README for details.

Latest sources and executables are at ftp://ftp.info-zip.org/pub/infozip,
as of above date; see http://www.info-zip.org/ for other sites.

Compiled with gcc 4.8.2 for Unix (Linux ELF) on Oct 21 2013.

Zip special compilation options:
	USE_EF_UT_TIME       (store Universal Time)
	BZIP2_SUPPORT        (bzip2 library version 1.0.6, 6-Sept-2010)
	    bzip2 code and library copyright (c) Julian R Seward
	    (See the bzip2 license for terms of use)
	SYMLINK_SUPPORT      (symbolic links supported)
	LARGE_FILE_SUPPORT   (can read and write large files on file system)
	ZIP64_SUPPORT        (use Zip64 to store large files in archives)
	UNICODE_SUPPORT      (store and read UTF-8 Unicode paths)
	STORE_UNIX_UIDs_GIDs (store UID/GID sizes/values using new extra field)
	UIDGID_NOT_16BIT     (old Unix 16-bit UID/GID extra field not used)
	[encryption, version 2.91 of 05 Jan 2007] (modified for Zip 3)

Encryption notice:
	The encryption code of this program is not copyrighted and is
	put in the public domain.  It was originally written in Europe
	and, to the best of our knowledge, can be freely distributed
	in both source and object forms from any country, including
	the USA under License Exception TSU of the U.S. Export
	Administration Regulations (section 740.13(e)) of 6 June 2002.

Zip environment options:
             ZIP:  [none]
          ZIPOPT:  [none]
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:43:18)
Included patches: 1-52
Extra patches: 8.0.0056
Modified by pkg-vim-maintainers@lists.alioth.debian.org
Compiled by buildd@
Huge version without GUI.  Features included (+) or not (-):
+acl             +farsi           +mouse_netterm   +syntax
+arabic          +file_in_path    +mouse_sgr       +tag_binary
+autocmd         +find_in_path    -mouse_sysmouse  +tag_old_static
-balloon_eval    +float           +mouse_urxvt     -tag_any_white
-browse          +folding         +mouse_xterm     -tcl
++builtin_terms  -footer          +multi_byte      +terminfo
+byte_offset     +fork()          +multi_lang      +termresponse
+cindent         +gettext         -mzscheme        +textobjects
-clientserver    -hangul_input    +netbeans_intg   +title
-clipboard       +iconv           +path_extra      -toolbar
+cmdline_compl   +insert_expand   -perl            +user_commands
+cmdline_hist    +jumplist        +persistent_undo +vertsplit
+cmdline_info    +keymap          +postscript      +virtualedit
+comments        +langmap         +printer         +visual
+conceal         +libcall         +profile         +visualextra
+cryptv          +linebreak       +python          +viminfo
+cscope          +lispindent      -python3         +vreplace
+cursorbind      +listcmds        +quickfix        +wildignore
+cursorshape     +localmap        +reltime         +wildmenu
+dialog_con      -lua             +rightleft       +windows
+diff            +menu            -ruby            +writebackup
+digraphs        +mksession       +scrollbind      -X11
-dnd             +modify_fname    +signs           -xfontset
-ebcdic          +mouse           +smartindent     -xim
+emacs_tags      -mouseshape      -sniff           -xsmp
+eval            +mouse_dec       +startuptime     -xterm_clipboard
+ex_extra        +mouse_gpm       +statusline      -xterm_save
+extra_search    -mouse_jsbterm   -sun_workshop    -xpm
   system vimrc file: "$VIM/vimrc"
     user vimrc file: "$HOME/.vimrc"
 2nd user vimrc file: "~/.vim/vimrc"
      user exrc file: "$HOME/.exrc"
  fall-back for $VIM: "/usr/share/vim"
Compilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H     -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1      
Linking: gcc   -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,--as-needed -o vim        -lm -ltinfo -lnsl  -lselinux  -lacl -lattr -lgpm -ldl    -L/usr/lib/python2.7/config-x86_64-linux-gnu -lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions      
[34m[1miptables version[0m
iptables v1.4.21
[34m[1mcurl version[0m
curl 7.35.0 (x86_64-pc-linux-gnu) libcurl/7.35.0 OpenSSL/1.0.1f zlib/1.2.8 libidn/1.28 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.15 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.0  protocol version 31
[34m[1mgimme version[0m
v1.2.0
[34m[1mnvm version[0m
0.33.2
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.80
[34m[1mphpenv version[0m
rbenv 1.1.1-4-g4ebd1bd
[34m[1mrvm version[0m
rvm 1.29.2 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io/]
[34m[1mdefault ruby version[0m
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 55.0.2
[34m[1mMongoDB version[0m
MongoDB 3.2.16
[34m[1mPre-installed PostgreSQL versions[0m
9.2.22
9.3.18
9.4.13
9.5.8
9.6.4
[34m[1mRabbitMQ Version[0m
3.6.11
[34m[1mRedis version[0m
redis-server 4.0.1
[34m[1mriak version[0m
2.2.3
[34m[1mPre-installed Go versions[0m
1.7.4
[34m[1mant version[0m
Apache Ant(TM) version 1.9.3 compiled on April 8 2014
[34m[1mmvn version[0m
Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T19:39:06Z)
Maven home: /usr/local/maven-3.5.0
Java version: 1.8.0_144, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.4.0-92-generic", arch: "amd64", family: "unix"
[34m[1mgradle version[0m

------------------------------------------------------------
Gradle 4.0.1
------------------------------------------------------------

Build time:   2017-07-07 14:02:41 UTC
Revision:     38e5dc0f772daecca1d2681885d3d85414eb6826

Groovy:       2.4.11
Ant:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015
JVM:          1.8.0_144 (Oracle Corporation 25.144-b01)
OS:           Linux 4.4.0-92-generic amd64

[34m[1mlein version[0m
WARNING: You're currently running as root; probably by accident.
Press control-C to abort or Enter to continue as root.
Set LEIN_ROOT to disable this warning.
Leiningen 2.7.1 on Java 1.8.0_144 Java HotSpot(TM) 64-Bit Server VM
[34m[1mPre-installed Node.js versions[0m
v4.8.4
v6.11.2
v6.9.4
v7.4.0
v8.4
[34m[1mphpenv versions[0m
  system
  5.6
* 5.6.31 (set by /home/travis/.phpenv/version)
  7.0
  7.0.22
  hhvm
  hhvm-stable
[34m[1mcomposer --version[0m
Composer version 1.4.2 2017-05-17 08:17:52
[34m[1mPre-installed Ruby versions[0m
ruby-2.2.7
ruby-2.3.4
ruby-2.4.1
travis_fold:end:system_info[0K
W: GPG error: http://dl.hhvm.com/ubuntu trusty InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY B4112585D386EB94
W: The repository 'http://dl.hhvm.com/ubuntu trusty InRelease' is not signed.
W: There is no public key available for the following key IDs:
B4112585D386EB94  
W: The repository 'http://www.apache.org/dist/cassandra/debian 39x Release' does not have a Release file.
W: GPG error: http://dl.google.com/linux/chrome/deb stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 78BD65473CB3BD13
W: The repository 'http://dl.google.com/linux/chrome/deb stable InRelease' is not signed.
W: There is no public key available for the following key IDs:
78BD65473CB3BD13  
W: GPG error: http://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/3.2 Release: The following signatures were invalid: KEYEXPIRED 1507497109
W: The repository 'http://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/3.2 Release' is not signed.
W: The repository 'http://apt.postgresql.org/pub/repos/apt trusty-pgdg Release' does not have a Release file.
W: GPG error: https://packagecloud.io/github/git-lfs/ubuntu trusty InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 6B05F25D762E3157
W: The repository 'https://packagecloud.io/github/git-lfs/ubuntu trusty InRelease' is not signed.
W: There is no public key available for the following key IDs:
6B05F25D762E3157  
W: The repository 'https://packagecloud.io/basho/riak/ubuntu trusty Release' does not have a Release file.
W: GPG error: https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu trusty InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY F6609E60DC62814E
W: The repository 'https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu trusty InRelease' is not signed.
W: There is no public key available for the following key IDs:
F6609E60DC62814E  
W: http://ppa.launchpad.net/couchdb/stable/ubuntu/dists/trusty/Release.gpg: Signature by key 15866BAFD9BCC4F3C1E0DFC7D69548E1C17EAB57 uses weak digest algorithm (SHA1)
E: Failed to fetch https://www.apache.org/dist/cassandra/debian/dists/39x/main/binary-amd64/Packages  gnutls_handshake() failed: Handshake failed
E: Failed to fetch https://www.apache.org/dist/cassandra/debian/dists/39x/main/binary-i386/Packages  gnutls_handshake() failed: Handshake failed
E: Failed to fetch http://apt.postgresql.org/pub/repos/apt/dists/trusty-pgdg/main/binary-amd64/Packages  404  Not Found [IP: 87.238.57.227 80]
E: Failed to fetch http://apt.postgresql.org/pub/repos/apt/dists/trusty-pgdg/main/binary-i386/Packages  404  Not Found [IP: 87.238.57.227 80]
E: Failed to fetch https://packagecloud.io/basho/riak/ubuntu/dists/trusty/main/source/Sources  402  Payment Required
E: Failed to fetch https://packagecloud.io/basho/riak/ubuntu/dists/trusty/main/binary-amd64/Packages  402  Payment Required
E: Failed to fetch https://packagecloud.io/basho/riak/ubuntu/dists/trusty/main/binary-i386/Packages  402  Payment Required
E: Some index files failed to download. They have been ignored, or old ones used instead.
sed: cannot rename /etc/hosts: Device or resource busy
sed: cannot rename /etc/hosts: Device or resource busy
$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
$ cd failed/petergeneric/stdlib

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:0ea82bca[0K
travis_time:end:0ea82bca:start=1641085005644809498,finish=1641085005657349350,duration=12539852[0Ktravis_time:start:063cf806[0K/home/travis/.casher/bin/casher:213:in `cache_archive_name': undefined method `[]' for nil:NilClass (NoMethodError)
	from /home/travis/.casher/bin/casher:65:in `block in fetch'
	from /home/travis/.casher/bin/casher:64:in `each'
	from /home/travis/.casher/bin/casher:64:in `fetch'
	from /home/travis/.casher/bin/casher:53:in `block in run'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:88:in `block in timeout'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:32:in `block in catch'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:32:in `catch'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:32:in `catch'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:103:in `timeout'
	from /home/travis/.casher/bin/casher:53:in `run'
	from /home/travis/.casher/bin/casher:263:in `<main>'
[32;1mattempting to download cache archive[0m

travis_time:end:063cf806:start=1641085005671527751,finish=1641085006624389668,duration=952861917[0Ktravis_time:start:0a8981e4[0K
travis_time:end:0a8981e4:start=1641085006637843742,finish=1641085006649347203,duration=11503461[0Ktravis_time:start:1ded15ac[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:1ded15ac:start=1641085006662631409,finish=1641085007666119099,duration=1003487690[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
java version "1.8.0_144"
Java(TM) SE Runtime Environment (build 1.8.0_144-b01)
Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)
$ javac -J-Xmx32m -version
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
javac 1.8.0_144
travis_fold:start:install[0Ktravis_time:start:0e1a7268[0K$ mvn -o install -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T19:39:06Z)
Maven home: /usr/local/maven-3.5.0
Java version: 1.8.0_144, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.15.0-109-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 22 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 22 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] Service Manager API
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] Host Agent
[INFO] user manager service
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] maven is executed in offline mode, Updating project files from SCM: skipped.
[INFO] Executing: /bin/sh -c cd /home/travis/build/failed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/failed/petergeneric/stdlib
[INFO] Storing buildNumber: babdc2ac4bc058b470b1995e3965de8d44e9959d at timestamp: 1641085025629
[INFO] Storing buildScmBranch: master
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/pom.xml to /home/travis/.m2/failed/com/peterphi/std/stdlib-parent/9.5.6-SNAPSHOT/stdlib-parent-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/stdlib/target/stdlib-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/stdlib/9.5.6-SNAPSHOT/stdlib-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/failed/com/peterphi/std/stdlib/9.5.6-SNAPSHOT/stdlib-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-parent/9.5.6-SNAPSHOT/stdlib-guice-parent-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-common/9.5.6-SNAPSHOT/stdlib-guice-common-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-common/9.5.6-SNAPSHOT/stdlib-guice-common-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/failed/com/peterphi/user-manager/user-manager-parent/9.5.6-SNAPSHOT/user-manager-parent-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/user-manager/user-manager-api/9.5.6-SNAPSHOT/user-manager-api-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/failed/com/peterphi/user-manager/user-manager-api/9.5.6-SNAPSHOT/user-manager-api-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-webapp/9.5.6-SNAPSHOT/stdlib-guice-webapp-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-webapp/9.5.6-SNAPSHOT/stdlib-guice-webapp-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-metrics/9.5.6-SNAPSHOT/stdlib-guice-metrics-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-metrics/9.5.6-SNAPSHOT/stdlib-guice-metrics-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-freemarker/9.5.6-SNAPSHOT/stdlib-guice-freemarker-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-freemarker/9.5.6-SNAPSHOT/stdlib-guice-freemarker-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-testing/9.5.6-SNAPSHOT/stdlib-guice-testing-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-testing/9.5.6-SNAPSHOT/stdlib-guice-testing-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-hibernate/9.5.6-SNAPSHOT/stdlib-guice-hibernate-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-hibernate/9.5.6-SNAPSHOT/stdlib-guice-hibernate-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.5.6-SNAPSHOT/stdlib-guice-hibernate-testing-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.5.6-SNAPSHOT/stdlib-guice-hibernate-testing-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-liquibase/9.5.6-SNAPSHOT/stdlib-guice-liquibase-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/failed/com/peterphi/std/guice/stdlib-guice-liquibase/9.5.6-SNAPSHOT/stdlib-guice-liquibase-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/util/carbon/carbon-client/9.5.6-SNAPSHOT/carbon-client-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/failed/com/peterphi/std/util/carbon/carbon-client/9.5.6-SNAPSHOT/carbon-client-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building service-manager 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/pom.xml to /home/travis/.m2/failed/com/peterphi/std/config/service-manager-parent/9.5.6-SNAPSHOT/service-manager-parent-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/target/configuration-9.5.6-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/src/main/webapp]
[INFO] Webapp assembled in [1404 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/target/configuration-9.5.6-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/target/configuration-9.5.6-SNAPSHOT.war to /home/travis/.m2/failed/com/peterphi/std/config/configuration/9.5.6-SNAPSHOT/configuration-9.5.6-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/pom.xml to /home/travis/.m2/failed/com/peterphi/std/config/configuration/9.5.6-SNAPSHOT/configuration-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager API 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ service-manager-api ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager-api ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/target/service-manager-api-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/config/service-manager-api/9.5.6-SNAPSHOT/service-manager-api-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/pom.xml to /home/travis/.m2/failed/com/peterphi/std/config/service-manager-api/9.5.6-SNAPSHOT/service-manager-api-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-rules 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-rules ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/rules/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-rules ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-rules ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/rules/target/stdlib-rules-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/stdlib-rules/9.5.6-SNAPSHOT/stdlib-rules-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/rules/pom.xml to /home/travis/.m2/failed/com/peterphi/std/stdlib-rules/9.5.6-SNAPSHOT/stdlib-rules-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-azure 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-azure ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/azure/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-azure ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-azure ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/azure/target/stdlib-azure-9.5.6-SNAPSHOT.jar to /home/travis/.m2/failed/com/peterphi/std/stdlib-azure/9.5.6-SNAPSHOT/stdlib-azure-9.5.6-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/azure/pom.xml to /home/travis/.m2/failed/com/peterphi/std/stdlib-azure/9.5.6-SNAPSHOT/stdlib-azure-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager Main 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ service-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [service-manager] in [/home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.5.6-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/src/main/webapp]
[INFO] Webapp assembled in [2193 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.5.6-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.5.6-SNAPSHOT.war to /home/travis/.m2/failed/com/peterphi/std/config/service-manager/9.5.6-SNAPSHOT/service-manager-9.5.6-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/pom.xml to /home/travis/.m2/failed/com/peterphi/std/config/service-manager/9.5.6-SNAPSHOT/service-manager-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building Host Agent 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ host-agent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ host-agent ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ host-agent ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ host-agent ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ host-agent ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ host-agent ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ host-agent ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ host-agent ---
[INFO] Packaging webapp
[INFO] Assembling webapp [host-agent] in [/home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/target/host-agent-9.5.6-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/src/main/webapp]
[INFO] Webapp assembled in [675 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/target/host-agent-9.5.6-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ host-agent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/target/host-agent-9.5.6-SNAPSHOT.war to /home/travis/.m2/failed/com/peterphi/std/config/host-agent/9.5.6-SNAPSHOT/host-agent-9.5.6-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/pom.xml to /home/travis/.m2/failed/com/peterphi/std/config/host-agent/9.5.6-SNAPSHOT/host-agent-9.5.6-SNAPSHOT.pom
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/failed/petergeneric/stdlib/user-manager/service/target/user-manager-9.5.6-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [676 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/user-manager/service/target/user-manager-9.5.6-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/service/target/user-manager-9.5.6-SNAPSHOT.war to /home/travis/.m2/failed/com/peterphi/user-manager/user-manager/9.5.6-SNAPSHOT/user-manager-9.5.6-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/failed/com/peterphi/user-manager/user-manager/9.5.6-SNAPSHOT/user-manager-9.5.6-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  5.788 s]
[INFO] stdlib ............................................. SUCCESS [  2.750 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.244 s]
[INFO] stdlib guice common ................................ SUCCESS [  1.502 s]
[INFO] user-manager ....................................... SUCCESS [  0.051 s]
[INFO] user manager rest api .............................. SUCCESS [  0.189 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  0.355 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.263 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.079 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.160 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  0.269 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  0.180 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.144 s]
[INFO] carbon client ...................................... SUCCESS [  0.263 s]
[INFO] service-manager .................................... SUCCESS [  0.019 s]
[INFO] Configuration Service .............................. SUCCESS [  3.080 s]
[INFO] Service Manager API ................................ SUCCESS [  0.090 s]
[INFO] stdlib-rules ....................................... SUCCESS [  0.406 s]
[INFO] stdlib-azure ....................................... SUCCESS [  0.846 s]
[INFO] Service Manager Main ............................... SUCCESS [  4.920 s]
[INFO] Host Agent ......................................... SUCCESS [  1.703 s]
[INFO] user manager service ............................... SUCCESS [  2.339 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 35.310 s
[INFO] Finished at: 2022-01-02T00:57:25Z
[INFO] Final Memory: 25M/492M
[INFO] ------------------------------------------------------------------------

travis_time:end:0e1a7268:start=1641085008017124215,finish=1641085046078163674,duration=38061039459[0Ktravis_fold:end:install[0Ktravis_time:start:21730a7c[0K$ mvn test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 22 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 22 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] Service Manager API
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] Host Agent
[INFO] user manager service
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/failed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/failed/petergeneric/stdlib
[INFO] Storing buildNumber: babdc2ac4bc058b470b1995e3965de8d44e9959d at timestamp: 1641085048679
[INFO] Storing buildScmBranch: master
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.619 sec - in com.peterphi.std.io.PropertyFileTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 32, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.321 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.509 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest

Results :

Tests run: 81, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.331 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.229 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.259 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.033 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.146 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.166 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.127 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Running com.peterphi.std.guice.web.rest.auth.userprovider.JWTTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.457 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.JWTTest
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest

Results :

Tests run: 6, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.763 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.5.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Picked up _JAVA_OPTIONS: -Xmx2048m -Xms512m
2022-01-02 00:57:44,135 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,136 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,199 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,199 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,201 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,201 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,235 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,236 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,237 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,237 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,268 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,268 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,270 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,270 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,272 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,272 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
Running com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest
2022-01-02 00:57:44,293 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,293 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-02 00:57:44,296  INFO Trying to create Guice Injector...
2022-01-02 00:57:44,315 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@3cda1055
2022-01-02 00:57:44,316 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@7a5d012c
2022-01-02 00:57:44,319 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@3fb6a447
2022-01-02 00:57:44,319 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@79b4d0f
2022-01-02 00:57:44,319 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@3cda1055
2022-01-02 00:57:44,319 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@7a5d012c
2022-01-02 00:57:44,365 TRACE Search for config files with name: environment.properties
2022-01-02 00:57:44,365 TRACE Search for config files with name: service.properties
2022-01-02 00:57:44,370 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@475530b9
2022-01-02 00:57:44,441 TRACE Found source: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/entitycollection/
2022-01-02 00:57:44,531 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2022-01-02 00:57:44,531 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@10bbd20a, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@48503868, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@6895a785, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@184f6be2, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@56aac163, com.peterphi.std.guice.common.metrics.CoreMetricsModule@1f7030a6, com.peterphi.std.guice.common.cached.module.CacheModule@5a1c0542, com.peterphi.std.guice.common.retry.module.RetryModule@396f6598, com.peterphi.std.guice.common.JAXBModule@394e1a0f, com.peterphi.std.guice.common.logging.Log4JModule@64729b1e, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@27a5f880]
2022-01-02 00:57:44,917 DEBUG Loading log4j configuration from embedded
2022-01-02 00:57:45,384 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:45,384 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:45,384 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:45,384 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:45,395 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:45,519  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
2022-01-02 00:57:46,741  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.ASSET_ALTERNATE_ID
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.ASSET_ALTERNATE_ID
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
2022-01-02 00:57:46,745  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.CHILD_ENTITY
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.CHILD_ENTITY
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
2022-01-02 00:57:46,748  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.CHILD_ENTITY
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.CHILD_ENTITY
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
2022-01-02 00:57:46,750  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.REFS_HAVING_ALTID
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.REFS_HAVING_ALTID
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:46,773 TRACE Hibernate Setup Complete.
2022-01-02 00:57:46,779 DEBUG Known entities: [parent_entity, child_entity, having_altid, refs_having_altid]
2022-01-02 00:57:46,779 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:46,783 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:46,808 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:46,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:46,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:46,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@288ca5f0
2022-01-02 00:57:46,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@288ca5f0
2022-01-02 00:57:46,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:46,809 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:46,809 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:46,950 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select alternatei0_.id as id1_4_0_, alternatei0_.referenced_id as referenc2_4_0_, havingalte1_.id as id1_2_1_, alternatei2_.asset_id as asset_id1_0_2_, alternatei2_.id_system as id_syste2_0_2_, alternatei2_.id_value as id_value3_0_2_ from refs_having_altid alternatei0_ left outer join having_altid havingalte1_ on alternatei0_.referenced_id=havingalte1_.id left outer join asset_alternate_id alternatei2_ on havingalte1_.id=alternatei2_.asset_id where alternatei0_.id=?
2022-01-02 00:57:46,978 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4f89331f
2022-01-02 00:57:46,983  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:46,983 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:46,985 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@76ad6715
2022-01-02 00:57:47,212 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,212 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,212 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,212 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,213 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:47,218  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:47,264 TRACE Hibernate Setup Complete.
2022-01-02 00:57:47,264 DEBUG Known entities: [having_altid, child_entity, parent_entity, refs_having_altid]
2022-01-02 00:57:47,264 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,265 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@6002e944
2022-01-02 00:57:47,265 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@6002e944
2022-01-02 00:57:47,265 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,265 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,265 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,265 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,265 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,265 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,265 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,267 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from parent_entity parententi0_
2022-01-02 00:57:47,390 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@50085d9c
2022-01-02 00:57:47,390  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:47,390 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:47,391 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@63a9c661
2022-01-02 00:57:47,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,580 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,580 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:47,587  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:47,632 TRACE Hibernate Setup Complete.
2022-01-02 00:57:47,633 DEBUG Known entities: [refs_having_altid, child_entity, parent_entity, having_altid]
2022-01-02 00:57:47,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4ebd6fd6
2022-01-02 00:57:47,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4ebd6fd6
2022-01-02 00:57:47,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,633 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,633 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,634 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:47,636 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,660 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,662 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,662 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,663 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,663 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,663 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,664 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,664 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@b75b890
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:47,697 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:47,775 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children2_.id as id1_1_1_, parententi3_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children2_.flag as flag2_1_1_, children2_.friend_id as friend_i3_1_1_, children2_.parent_id as parent_i4_1_1_, children2_.parent_id as parent_i4_1_0__, children2_.id as id1_1_0__, parententi3_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join child_entity children2_ on parententi0_.id=children2_.parent_id left outer join parent_entity parententi3_ on children2_.friend_id=parententi3_.id where children1_.flag=?
Hibernate: select parententi0_.id as id1_3_0_, children2_.id as id1_1_1_, parententi3_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children2_.flag as flag2_1_1_, children2_.friend_id as friend_i3_1_1_, children2_.parent_id as parent_i4_1_1_, children2_.parent_id as parent_i4_1_0__, children2_.id as id1_1_0__, parententi3_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join child_entity children2_ on parententi0_.id=children2_.parent_id left outer join parent_entity parententi3_ on children2_.friend_id=parententi3_.id where children1_.flag=?
2022-01-02 00:57:47,784 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@600bbf9e
SQL: select parententi0_.id as id1_3_0_, children2_.id as id1_1_1_, parententi3_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children2_.flag as flag2_1_1_, children2_.friend_id as friend_i3_1_1_, children2_.parent_id as parent_i4_1_1_, children2_.parent_id as parent_i4_1_0__, children2_.id as id1_1_0__, parententi3_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join child_entity children2_ on parententi0_.id=children2_.parent_id left outer join parent_entity parententi3_ on children2_.friend_id=parententi3_.id where children1_.flag=?
SQL Statements: 1
[ParentEntity{id=1}, ParentEntity{id=5}]
1 - children 3,4,2
5 - children 6,8,7
2022-01-02 00:57:47,789  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:47,789 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:47,789 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@66f2ec1c
2022-01-02 00:57:47,940 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,940 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,940 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,940 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,940 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:47,945  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:47,981 TRACE Hibernate Setup Complete.
2022-01-02 00:57:47,981 DEBUG Known entities: [refs_having_altid, child_entity, having_altid, parent_entity]
2022-01-02 00:57:47,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@20f63ddc
2022-01-02 00:57:47,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@20f63ddc
2022-01-02 00:57:47,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:47,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:47,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:47,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:47,983 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:47,983 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,984 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,984 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,984 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,985 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,985 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,986 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,986 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:47,987 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@6a543e09
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:47,990 TRACE Creating new transaction to call public java.util.List<com.peterphi.std.guice.hibernate.entitycollection.ParentEntity> com.peterphi.std.guice.hibernate.entitycollection.ParentDao.getByQuery(java.lang.String)
Hibernate: select distinct parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__ from parent_entity parententi0_ inner join child_entity children1_ on parententi0_.id=children1_.parent_id inner join child_entity children2_ on parententi0_.id=children2_.parent_id where children2_.flag=true
2022-01-02 00:57:48,000 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@120d6cbf
1 - children 4,2,3
5 - children 6,7,8
2022-01-02 00:57:48,001  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:48,002 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:48,002 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@64ed18ec
2022-01-02 00:57:48,117 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,117 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,117 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,117 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,117 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:48,120  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:48,152 TRACE Hibernate Setup Complete.
2022-01-02 00:57:48,153 DEBUG Known entities: [parent_entity, child_entity, refs_having_altid, having_altid]
2022-01-02 00:57:48,153 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,153 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,153 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,153 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,153 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,153 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,153 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4e45fbd0
2022-01-02 00:57:48,153 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4e45fbd0
2022-01-02 00:57:48,153 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,153 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,154 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:48,154 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,155 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,155 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,155 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,156 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,156 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,156 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,157 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,157 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@42db955e
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:48,161 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:48,169 TRACE Hibernate executing SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where children1_.flag=? and (parententi2_.id is null or parententi2_.id<>?) limit ?
Hibernate: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where children1_.flag=? and (parententi2_.id is null or parententi2_.id<>?) limit ?
2022-01-02 00:57:48,181 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
2022-01-02 00:57:48,183 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@78508e6b
SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where children1_.flag=? and (parententi2_.id is null or parententi2_.id<>?) limit ?
select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
SQL Statements: 2
2022-01-02 00:57:48,184  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:48,184 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:48,184 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@2cc97e47
2022-01-02 00:57:48,294 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,294 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,294 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,294 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,294 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:48,298  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:48,326 TRACE Hibernate Setup Complete.
2022-01-02 00:57:48,326 DEBUG Known entities: [having_altid, refs_having_altid, child_entity, parent_entity]
2022-01-02 00:57:48,326 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,326 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@55e88bc
2022-01-02 00:57:48,326 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@55e88bc
2022-01-02 00:57:48,326 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,326 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,326 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,326 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,326 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,326 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,326 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,327 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:48,327 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,328 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,328 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,328 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,329 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,329 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,329 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,329 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,330 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@f472245
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:48,333 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_3_0_, parententi0_.capacity as capacity2_3_0_, children1_.parent_id as parent_i4_1_1_, children1_.id as id1_1_1_, children1_.id as id1_1_2_, children1_.flag as flag2_1_2_, children1_.friend_id as friend_i3_1_2_, children1_.parent_id as parent_i4_1_2_, parententi2_.id as id1_3_3_, parententi2_.capacity as capacity2_3_3_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id=?
2022-01-02 00:57:48,338 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@633c0a61
2022-01-02 00:57:48,338  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:48,339 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:48,339 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@5eae392d
2022-01-02 00:57:48,450 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,450 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,450 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,450 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,450 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:48,453  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:48,480 TRACE Hibernate Setup Complete.
2022-01-02 00:57:48,480 DEBUG Known entities: [refs_having_altid, having_altid, parent_entity, child_entity]
2022-01-02 00:57:48,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@38ae69f7
2022-01-02 00:57:48,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@38ae69f7
2022-01-02 00:57:48,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,480 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,480 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,481 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:48,481 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,482 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,482 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,483 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,483 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,483 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,483 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,484 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,484 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4dc5b887
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:48,487 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:48,492 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where 1=1
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where 1=1
2022-01-02 00:57:48,494 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4bdbfbc6
SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where 1=1
SQL Statements: 1
[ParentEntity{id=1}, ParentEntity{id=5}]
1 - children 2,3,4
5 - children 6,7,8
2022-01-02 00:57:48,495  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:48,495 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:48,495 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4d2f8ee7
2022-01-02 00:57:48,633 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,633 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,633 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,633 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,634 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:48,638  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:48,674 TRACE Hibernate Setup Complete.
2022-01-02 00:57:48,675 DEBUG Known entities: [refs_having_altid, child_entity, having_altid, parent_entity]
2022-01-02 00:57:48,675 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,675 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,675 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@17e323fd
2022-01-02 00:57:48,675 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@17e323fd
2022-01-02 00:57:48,675 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,675 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,675 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,675 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,675 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,675 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,676 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:48,676 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,677 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,678 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,678 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,679 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,679 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,679 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,680 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,680 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4bc75792
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:48,685 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:48,689 TRACE Hibernate executing SQL: select childentit0_.id as id1_1_0_, parententi1_.id as id1_3_1_, childentit0_.flag as flag2_1_0_, childentit0_.friend_id as friend_i3_1_0_, childentit0_.parent_id as parent_i4_1_0_, parententi1_.capacity as capacity2_3_1_ from child_entity childentit0_ left outer join parent_entity parententi1_ on childentit0_.friend_id=parententi1_.id where 1=1
Hibernate: select childentit0_.id as id1_1_0_, parententi1_.id as id1_3_1_, childentit0_.flag as flag2_1_0_, childentit0_.friend_id as friend_i3_1_0_, childentit0_.parent_id as parent_i4_1_0_, parententi1_.capacity as capacity2_3_1_ from child_entity childentit0_ left outer join parent_entity parententi1_ on childentit0_.friend_id=parententi1_.id where 1=1
2022-01-02 00:57:48,694 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@6527f68a
SQL: select childentit0_.id as id1_1_0_, parententi1_.id as id1_3_1_, childentit0_.flag as flag2_1_0_, childentit0_.friend_id as friend_i3_1_0_, childentit0_.parent_id as parent_i4_1_0_, parententi1_.capacity as capacity2_3_1_ from child_entity childentit0_ left outer join parent_entity parententi1_ on childentit0_.friend_id=parententi1_.id where 1=1
2022-01-02 00:57:48,694  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:48,695 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:48,695 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@77b0ff24
2022-01-02 00:57:48,834 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,834 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,834 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,834 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,834 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:48,838  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:48,872 TRACE Hibernate Setup Complete.
2022-01-02 00:57:48,872 DEBUG Known entities: [parent_entity, child_entity, refs_having_altid, having_altid]
2022-01-02 00:57:48,872 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,872 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,872 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:48,872 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:48,872 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,872 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,872 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@9be2897
2022-01-02 00:57:48,872 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@9be2897
2022-01-02 00:57:48,872 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:48,873 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:48,873 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:48,873 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,874 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,875 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,875 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,875 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,875 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,876 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,876 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:48,876 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@724a80d2
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:48,879 TRACE Creating new transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getListById(java.util.List<ID>)
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id=1 or parententi0_.id=5
2022-01-02 00:57:48,891 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@695f382c
2022-01-02 00:57:48,891  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:48,892 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:48,892 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4b2ca159
2022-01-02 00:57:49,013 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,013 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,013 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,013 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,013 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:49,016  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:49,039 TRACE Hibernate Setup Complete.
2022-01-02 00:57:49,040 DEBUG Known entities: [refs_having_altid, child_entity, parent_entity, having_altid]
2022-01-02 00:57:49,040 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,040 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,040 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@2eb6e166
2022-01-02 00:57:49,040 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@2eb6e166
2022-01-02 00:57:49,040 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,040 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,040 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,040 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,040 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,040 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,041 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,041 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@34b56a5a
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
2022-01-02 00:57:49,042 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_3_0_, parententi0_.capacity as capacity2_3_0_, children1_.parent_id as parent_i4_1_1_, children1_.id as id1_1_1_, children1_.id as id1_1_2_, children1_.flag as flag2_1_2_, children1_.friend_id as friend_i3_1_2_, children1_.parent_id as parent_i4_1_2_, parententi2_.id as id1_3_3_, parententi2_.capacity as capacity2_3_3_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id=?
2022-01-02 00:57:49,044 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@7262532a
2022-01-02 00:57:49,044 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from parent_entity parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from child_entity childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from child_entity childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2022-01-02 00:57:49,053 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@357f0cc9
2022-01-02 00:57:49,054 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,054 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4cae7d5
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,056 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from parent_entity parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from child_entity childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from child_entity childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2022-01-02 00:57:49,057 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@1508bc71
2022-01-02 00:57:49,057 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,058 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@290ebbbe
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,058 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from parent_entity parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from child_entity childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from child_entity childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2022-01-02 00:57:49,060 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@7602da1a
2022-01-02 00:57:49,060 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,061 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@2810d9
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,062 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from parent_entity parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from child_entity childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from child_entity childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2022-01-02 00:57:49,066 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@814b60b
2022-01-02 00:57:49,066  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:49,066 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:49,066 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@197d6cc9
2022-01-02 00:57:49,204 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,204 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,204 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,204 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,204 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:49,209  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:49,234 TRACE Hibernate Setup Complete.
2022-01-02 00:57:49,234 DEBUG Known entities: [having_altid, parent_entity, refs_having_altid, child_entity]
2022-01-02 00:57:49,234 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,234 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@9cabd07
2022-01-02 00:57:49,234 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@9cabd07
2022-01-02 00:57:49,234 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,234 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,234 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,234 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,234 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,234 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,234 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,235 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:49,235 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,236 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,236 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,237 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,237 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,237 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,237 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,238 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,238 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@77d5395a
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,241 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:49,247 TRACE Hibernate executing SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where children1_.flag=? and (parententi2_.id is null or parententi2_.id<>?) limit ?
Hibernate: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where children1_.flag=? and (parententi2_.id is null or parententi2_.id<>?) limit ?
2022-01-02 00:57:49,254 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
2022-01-02 00:57:49,256 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@5920c4ed
SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where children1_.flag=? and (parententi2_.id is null or parententi2_.id<>?) limit ?
select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
SQL Statements: 2
2022-01-02 00:57:49,256  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:49,257 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:49,257 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4f8eb97c
2022-01-02 00:57:49,392 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,392 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,392 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,392 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,393 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:49,401  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:49,433 TRACE Hibernate Setup Complete.
2022-01-02 00:57:49,433 DEBUG Known entities: [having_altid, refs_having_altid, parent_entity, child_entity]
2022-01-02 00:57:49,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@fbb39ea
2022-01-02 00:57:49,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@fbb39ea
2022-01-02 00:57:49,434 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,434 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,434 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,434 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,434 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,434 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,434 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,435 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:49,435 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,435 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,436 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,436 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,437 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,437 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,437 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,438 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,438 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@5a0d25ba
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,442 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:49,448 TRACE Hibernate executing SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join child_entity children2_ on parententi0_.id=children2_.parent_id left outer join parent_entity parententi3_ on children2_.friend_id=parententi3_.id where children1_.flag=? and (parententi3_.id is null or parententi3_.id<>?) limit ?
Hibernate: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join child_entity children2_ on parententi0_.id=children2_.parent_id left outer join parent_entity parententi3_ on children2_.friend_id=parententi3_.id where children1_.flag=? and (parententi3_.id is null or parententi3_.id<>?) limit ?
2022-01-02 00:57:49,456 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
2022-01-02 00:57:49,458 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@566c6b91
SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join child_entity children2_ on parententi0_.id=children2_.parent_id left outer join parent_entity parententi3_ on children2_.friend_id=parententi3_.id where children1_.flag=? and (parententi3_.id is null or parententi3_.id<>?) limit ?
select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
SQL Statements: 2
2022-01-02 00:57:49,458  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:49,459 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:49,459 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4b68d2a6
2022-01-02 00:57:49,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,599 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,599 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:49,603  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:49,630 TRACE Hibernate Setup Complete.
2022-01-02 00:57:49,630 DEBUG Known entities: [having_altid, parent_entity, refs_having_altid, child_entity]
2022-01-02 00:57:49,630 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,630 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@1a26f595
2022-01-02 00:57:49,630 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@1a26f595
2022-01-02 00:57:49,630 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,630 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,630 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,630 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,630 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,630 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,630 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,631 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:49,631 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,632 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,632 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,632 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,633 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,633 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,633 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,634 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,634 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@2fb0867c
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,637 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:49,640 TRACE Hibernate executing SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=? limit ?
Hibernate: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=? limit ?
2022-01-02 00:57:49,648 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
2022-01-02 00:57:49,650 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@7aab77f
SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=? limit ?
select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
SQL Statements: 2
[ParentEntity{id=1}, ParentEntity{id=5}]
1 - children 3,4,2
5 - children 7,8,6
2022-01-02 00:57:49,651  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:49,651 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:49,651 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@75fe135a
2022-01-02 00:57:49,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,787 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,787 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:49,790  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:49,812 TRACE Hibernate Setup Complete.
2022-01-02 00:57:49,812 DEBUG Known entities: [child_entity, having_altid, parent_entity, refs_having_altid]
2022-01-02 00:57:49,812 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,812 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,812 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,812 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,812 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,812 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@33650678
2022-01-02 00:57:49,812 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@33650678
2022-01-02 00:57:49,812 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,813 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,813 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,813 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:49,813 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,814 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,815 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,815 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,815 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,816 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,816 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,816 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,816 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@703e55da
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,819 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:49,822 TRACE Hibernate executing SQL: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=? limit ?
Hibernate: select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=? limit ?
2022-01-02 00:57:49,829 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
Hibernate: select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)
2022-01-02 00:57:49,831 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@79893462
SQL: [select distinct parententi0_.id as col_0_0_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=? limit ?, select parententi0_.id as id1_3_0_, children1_.id as id1_1_1_, parententi2_.id as id1_3_2_, parententi0_.capacity as capacity2_3_0_, children1_.flag as flag2_1_1_, children1_.friend_id as friend_i3_1_1_, children1_.parent_id as parent_i4_1_1_, children1_.parent_id as parent_i4_1_0__, children1_.id as id1_1_0__, parententi2_.capacity as capacity2_3_2_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id left outer join parent_entity parententi2_ on children1_.friend_id=parententi2_.id where parententi0_.id in (? , ?)]
SQL Statements: 2
[ParentEntity{id=1}, ParentEntity{id=5}]
1 - children 3,2,4
5 - children 7,8,6
2022-01-02 00:57:49,832  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:49,833 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:49,833 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@46c09751
2022-01-02 00:57:49,954 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,954 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,954 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,954 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,954 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:49,958  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table asset_alternate_id drop constraint FKhdag9du7irj5v3sliknkgwm1v
Hibernate: alter table child_entity drop constraint FK11qr2as1nab8idathnw1hyoep
Hibernate: alter table child_entity drop constraint FK3uwb4qmw23u0rr8gwqltlepc3
Hibernate: alter table refs_having_altid drop constraint FKcrnmosah3i85ud2gvki0qghp5
Hibernate: drop table asset_alternate_id if exists
Hibernate: drop table child_entity if exists
Hibernate: drop table having_altid if exists
Hibernate: drop table parent_entity if exists
Hibernate: drop table refs_having_altid if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table asset_alternate_id (asset_id bigint not null, id_system varchar(255) not null, id_value varchar(255) not null, primary key (asset_id, id_system, id_value))
Hibernate: create table child_entity (id bigint not null, flag boolean not null, friend_id bigint, parent_id bigint not null, primary key (id))
Hibernate: create table having_altid (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table parent_entity (id bigint not null, capacity integer not null, primary key (id))
Hibernate: create table refs_having_altid (id bigint generated by default as identity (start with 1), referenced_id bigint, primary key (id))
Hibernate: alter table asset_alternate_id add constraint FKhdag9du7irj5v3sliknkgwm1v foreign key (asset_id) references having_altid
Hibernate: alter table child_entity add constraint FK11qr2as1nab8idathnw1hyoep foreign key (friend_id) references parent_entity
Hibernate: alter table child_entity add constraint FK3uwb4qmw23u0rr8gwqltlepc3 foreign key (parent_id) references parent_entity
Hibernate: alter table refs_having_altid add constraint FKcrnmosah3i85ud2gvki0qghp5 foreign key (referenced_id) references having_altid
2022-01-02 00:57:49,980 TRACE Hibernate Setup Complete.
2022-01-02 00:57:49,980 DEBUG Known entities: [having_altid, parent_entity, refs_having_altid, child_entity]
2022-01-02 00:57:49,980 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,980 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@28c776f2
2022-01-02 00:57:49,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@28c776f2
2022-01-02 00:57:49,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.HavingAlternateIdEntity
2022-01-02 00:57:49,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ChildEntity
2022-01-02 00:57:49,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.ParentEntity
2022-01-02 00:57:49,981 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,981 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.entitycollection.AlternateIdReferencingEntity
2022-01-02 00:57:49,981 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest.load()
2022-01-02 00:57:49,982 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,982 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,983 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,983 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,983 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,984 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,984 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,984 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:49,984 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@8bac10b
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into parent_entity (capacity, id) values (?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
Hibernate: insert into child_entity (flag, friend_id, parent_id, id) values (?, ?, ?, ?)
2022-01-02 00:57:49,987 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:49,990 TRACE Hibernate executing SQL: select parententi0_.id as id1_3_, parententi0_.capacity as capacity2_3_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=?
Hibernate: select parententi0_.id as id1_3_, parententi0_.capacity as capacity2_3_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=?
2022-01-02 00:57:49,991 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@f92ee1b
SQL: select parententi0_.id as id1_3_, parententi0_.capacity as capacity2_3_ from parent_entity parententi0_ left outer join child_entity children1_ on parententi0_.id=children1_.parent_id where children1_.flag=?
SQL Statements: 1
2022-01-02 00:57:49,991  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:49,991 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:49,992 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@38ab2740
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.71 sec - in com.peterphi.std.guice.hibernate.entitycollection.EntityCollectionTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2022-01-02 00:57:50,174 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-02 00:57:50,174 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-02 00:57:50,174 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:50,178  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint not null, name varchar(255) not null, primary key (id))
2022-01-02 00:57:50,200 TRACE Hibernate Setup Complete.
2022-01-02 00:57:50,200 DEBUG Known entities: [complex_pk_entity, simple_pk_entity]
2022-01-02 00:57:50,201 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-02 00:57:50,201 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.SomePrimaryKey from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@78513ad9
2022-01-02 00:57:50,201 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.SomePrimaryKey from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@78513ad9
2022-01-02 00:57:50,201 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-02 00:57:50,201 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-02 00:57:50,201 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-02 00:57:50,201 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2022-01-02 00:57:50,203 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,203 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,204 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,204 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,204 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,204 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
2022-01-02 00:57:50,208  WARN HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2022-01-02 00:57:50,210  WARN HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2022-01-02 00:57:50,236 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select distinct largetable0_.id as col_0_0_ from simple_pk_entity largetable0_ where largetable0_.name like ?
Hibernate: select largetable0_.id as id1_1_, largetable0_.name as name2_1_ from simple_pk_entity largetable0_ where largetable0_.id in (? , ?)
2022-01-02 00:57:50,243 DEBUG NullPointerException causes rollback
2022-01-02 00:57:50,248 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2022-01-02 00:57:50,354 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,355 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,355 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,355 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,355 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,355 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select distinct largetable0_.id as col_0_0_, largetable0_.ts as col_0_1_ from complex_pk_entity largetable0_ where largetable0_.name like ?
Hibernate: select largetable0_.id as id1_0_, largetable0_.ts as ts2_0_, largetable0_.name as name3_0_ from complex_pk_entity largetable0_ where largetable0_.id=? and largetable0_.ts=? or largetable0_.id=? and largetable0_.ts=?
2022-01-02 00:57:50,364 DEBUG NullPointerException causes rollback
2022-01-02 00:57:50,365 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorksWithOrder()
2022-01-02 00:57:50,365 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,365 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,365 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,366 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,366 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,449 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: select distinct largetable0_.id as col_0_0_, largetable0_.name as col_1_0_ from simple_pk_entity largetable0_ where largetable0_.name like ? order by largetable0_.name desc
Hibernate: select largetable0_.id as id1_1_, largetable0_.name as name2_1_ from simple_pk_entity largetable0_ where largetable0_.id in (? , ?) order by largetable0_.name desc
2022-01-02 00:57:50,459 DEBUG NullPointerException causes rollback
2022-01-02 00:57:50,460 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPKIDs()
2022-01-02 00:57:50,460 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,460 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,460 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,460 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,461 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-02 00:57:50,461 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select distinct largetable0_.id as col_0_0_, largetable0_.ts as col_0_1_ from complex_pk_entity largetable0_ where largetable0_.name like ?
2022-01-02 00:57:50,463 DEBUG NullPointerException causes rollback
2022-01-02 00:57:50,463 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchForPrimaryKeyWorks()
2022-01-02 00:57:50,464 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,464 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,464 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,465 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,465 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:50,465 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
2022-01-02 00:57:50,465  WARN HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2022-01-02 00:57:50,465  WARN HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: insert into simple_pk_entity (name, id) values (?, ?)
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2022-01-02 00:57:50,467 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select distinct largetable0_.id as col_0_0_ from simple_pk_entity largetable0_ where largetable0_.name like ?
Hibernate: select distinct count(largetable0_.id) as col_0_0_ from simple_pk_entity largetable0_ where largetable0_.name like ?
2022-01-02 00:57:50,471 DEBUG NullPointerException causes rollback
Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 0.466 sec <<< FAILURE! - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
testSearchWorks(com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest)  Time elapsed: 0.048 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks(LargeTableQueryTest.java:74)

testSearchComplexPK(com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest)  Time elapsed: 0.115 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK(LargeTableQueryTest.java:117)

testSearchWorksWithOrder(com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest)  Time elapsed: 0.095 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorksWithOrder(LargeTableQueryTest.java:94)

testSearchComplexPKIDs(com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest)  Time elapsed: 0.003 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPKIDs(LargeTableQueryTest.java:134)

testSearchForPrimaryKeyWorks(com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest)  Time elapsed: 0.008 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchForPrimaryKeyWorks(LargeTableQueryTest.java:48)

Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2022-01-02 00:57:50,756 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2022-01-02 00:57:50,756 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:50,760  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table Q (id bigint not null, primary key (id))
2022-01-02 00:57:50,771 TRACE Hibernate Setup Complete.
2022-01-02 00:57:50,771 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2022-01-02 00:57:50,776 DEBUG KillTransaction causes rollback
2022-01-02 00:57:50,776  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:50,776 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:50,776 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@27a0d7c8
2022-01-02 00:57:50,914 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2022-01-02 00:57:50,914 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:50,917  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table Q (id bigint not null, primary key (id))
2022-01-02 00:57:50,927 TRACE Hibernate Setup Complete.
2022-01-02 00:57:50,927 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2022-01-02 00:57:50,927 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@612e1ba2
2022-01-02 00:57:50,928  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:50,928 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:50,928 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@7a7fdd22
2022-01-02 00:57:51,069 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2022-01-02 00:57:51,069 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:51,072  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table Q (id bigint not null, primary key (id))
2022-01-02 00:57:51,083 TRACE Hibernate Setup Complete.
2022-01-02 00:57:51,084  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:51,084 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:51,084 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@72e0ce40
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.577 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2022-01-02 00:57:51,212 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2022-01-02 00:57:51,212 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:51,215  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table test_entity (id bigint not null, updated_ts bigint not null, primary key (id))
2022-01-02 00:57:51,227 TRACE Hibernate Setup Complete.
2022-01-02 00:57:51,227 DEBUG Known entities: [test_entity]
2022-01-02 00:57:51,227 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2022-01-02 00:57:51,227 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2022-01-02 00:57:51,228 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:51,228 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4a9fb5e9
Hibernate: insert into test_entity (updated_ts, id) values (?, ?)
2022-01-02 00:57:51,229 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2022-01-02 00:57:51,230 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@3b396dbf
2022-01-02 00:57:51,230 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2022-01-02 00:57:51,231 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@3984f360
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2022-01-02 00:57:51,234  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:51,234 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:51,234 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@311ce8c0
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.142 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2022-01-02 00:57:51,454 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2022-01-02 00:57:51,454 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:51,457  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table test_entity (id bigint not null, some_date date not null, some_date_nullable date, primary key (id))
2022-01-02 00:57:51,468 TRACE Hibernate Setup Complete.
2022-01-02 00:57:51,468 DEBUG Known entities: [test_entity]
2022-01-02 00:57:51,468 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2022-01-02 00:57:51,468 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2022-01-02 00:57:51,485 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:51,486 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@76c6ded8
Hibernate: insert into test_entity (some_date, some_date_nullable, id) values (?, ?, ?)
2022-01-02 00:57:51,487 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2022-01-02 00:57:51,488 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@1b48170a
2022-01-02 00:57:51,489 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2022-01-02 00:57:51,489 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4cfd3d7e
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2022-01-02 00:57:51,490  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:51,490 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:51,490 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@33032086
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.253 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-02 00:57:51,739 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-02 00:57:51,740 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:51,743  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FKj7t557e8a7axr8jinbltht20y
2022-01-02 00:57:51,791  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.CHILDENTITY
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.CHILDENTITY
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table inherit_one drop constraint FKlu6huhy2g08akv8wpudpfvqir
2022-01-02 00:57:51,793  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.INHERIT_ONE
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.INHERIT_ONE
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table inherit_two drop constraint FKe5yjuoa6qr80cm4gcilq1gubk
2022-01-02 00:57:51,794  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.INHERIT_TWO
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.INHERIT_TWO
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table parent_friends drop constraint FKn858qj6gf7i97mfmurc47k6e8
2022-01-02 00:57:51,795  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.PARENT_FRIENDS
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.PARENT_FRIENDS
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: alter table ParentEntity drop constraint FKd0cteits00p7vm083x9iod1lw
2022-01-02 00:57:51,796  WARN GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:331)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:230)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:53)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.get(HibernateSessionFactoryProvider.java:20)
	at com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e.get(<generated>)
	at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)
	at com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)
	at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:61)
	at com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:62)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1103)
	at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
	at com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:145)
	at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:41)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:54)
	at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:132)
	at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)
	at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
	at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:267)
	at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:1016)
	at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1092)
	at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:1012)
	at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1051)
	at com.peterphi.std.guice.testing.GuiceUnit.createTest(GuiceUnit.java:50)
	at org.junit.runners.BlockJUnit4ClassRunner$1.runReflectiveCall(BlockJUnit4ClassRunner.java:266)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:263)
	at com.peterphi.std.guice.testing.GuiceUnit.methodBlock(GuiceUnit.java:57)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at com.peterphi.std.guice.testing.GuiceUnit.run(GuiceUnit.java:78)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: PUBLIC.PARENTENTITY
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 59 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: PUBLIC.PARENTENTITY
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getUserTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlterTable(Unknown Source)
	at org.hsqldb.ParserDDL.compileAlter(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatements(Unknown Source)
	at org.hsqldb.Session.executeDirectStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 62 more
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: drop table parent_friends if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table ChildEntity (id bigint not null, obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table inherit_base (id bigint not null, primary key (id))
Hibernate: create table inherit_one (someId varchar(255), id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint not null, created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: create table parent_friends (parent_id bigint not null, firstName varchar(255), fullName varchar(255), lastName varchar(255), sortName varchar(255))
Hibernate: create table ParentEntity (id bigint not null, deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: alter table ChildEntity add constraint FKj7t557e8a7axr8jinbltht20y foreign key (parent_id) references ParentEntity
Hibernate: alter table inherit_one add constraint FKlu6huhy2g08akv8wpudpfvqir foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FKe5yjuoa6qr80cm4gcilq1gubk foreign key (id) references inherit_base
Hibernate: alter table parent_friends add constraint FKn858qj6gf7i97mfmurc47k6e8 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FKd0cteits00p7vm083x9iod1lw foreign key (other_object_id) references ChildEntity
2022-01-02 00:57:51,801 TRACE Hibernate Setup Complete.
2022-01-02 00:57:51,801 DEBUG Known entities: [inherit_base, inherit_one, mapped_superclass_test_entity, ParentEntity, inherit_two, EmbeddedPkEntity, ChildEntity]
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.HumanEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@70d524d6
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.HumanEmbeddedEntity from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@70d524d6
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-02 00:57:51,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.SomePrimaryKey from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4dcf44c4
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.SomePrimaryKey from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4dcf44c4
2022-01-02 00:57:51,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-02 00:57:51,802 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,804 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,804 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,809 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,810 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,810 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,810 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,811 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,812 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,812 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,812 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,813 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,814 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,814 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,814 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,815 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,816 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,816 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,816 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,817 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,817 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,817 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,817 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,818 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,819 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,819 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,819 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,820 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,821 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,821 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,821 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,822 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,823 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,823 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,823 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,824 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,824 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,824 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,824 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,825 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,826 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,826 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,826 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,827 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,828 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,828 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,828 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,829 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,829 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,829 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,829 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,830 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,831 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,831 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,831 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,832 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,833 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,833 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,833 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,834 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,835 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,835 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,835 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,836 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,836 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,836 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,836 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,837 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,838 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,838 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,838 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,839 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,840 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,840 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,840 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,841 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,842 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,842 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,842 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,843 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,843 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,843 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,843 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,844 DEBUG NullPointerException causes rollback
2022-01-02 00:57:51,845 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-02 00:57:51,845 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
2022-01-02 00:57:51,845 TRACE Joining existing transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select childentit0_.id as id1_0_0_, parententi1_.id as id1_7_1_, childentit0_.obj_name as obj_name2_0_0_, childentit0_.parent_id as parent_i3_0_0_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__, parententi1_.deprecated as deprecat2_7_1_, parententi1_.obj_name as obj_name3_7_1_, parententi1_.other_object_id as other_ob5_7_1_, parententi1_.someBytes as someByte4_7_1_, friends2_.parent_id as parent_i1_6_0__, friends2_.firstName as firstNam2_6_0__, friends2_.fullName as fullName3_6_0__, friends2_.lastName as lastName4_6_0__, friends2_.sortName as sortName5_6_0__ from ChildEntity childentit0_ left outer join ParentEntity parententi1_ on childentit0_.parent_id=parententi1_.id left outer join parent_friends friends2_ on parententi1_.id=friends2_.parent_id where 1=1
2022-01-02 00:57:51,846 DEBUG NullPointerException causes rollback
Tests run: 22, Failures: 0, Errors: 22, Skipped: 0, Time elapsed: 0.354 sec <<< FAILURE! - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
testOrderingByLazyAssociatedRelationThatIsNotSelectedWorks(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.008 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testCreateSchema(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testNestedAssociatorConstraintWorksInGetByUniqueProperty(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testPropertyRefWorks(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testByBooleanField(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testGetByUniquePropertyWithAliasOnCollection(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testComputeSizeWithOrder(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testGetByRelationIdIsNull(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testGetUsingPropertiesOfEmbeddedCollection(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testGetByUniquePropertyOnCollection(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testConstrainSize(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testOrderDesc(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testEntityWrappedId(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testDynamicQuerySeesManyToOneRelation(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testEqRefReturnsValue(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testGetIdList(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testNestedAssociatorConstraintWorks(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testLogSQL(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testGetByUniqueProperty(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testNestedAssociatorThatIsMadeUpDoesNotWork(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testOrderAsc(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.001 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

testMappedSuperclassFieldSearch(com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest)  Time elapsed: 0.002 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest(DynamicQueryTest.java:48)

Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2022-01-02 00:57:52,152 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-02 00:57:52,152 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-02 00:57:52,152 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-02 00:57:52,152 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:52,156  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FKlu6huhy2g08akv8wpudpfvqir
Hibernate: alter table inherit_two drop constraint FKe5yjuoa6qr80cm4gcilq1gubk
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop sequence hibernate_sequence if exists
Hibernate: create sequence hibernate_sequence start with 1 increment by 1
Hibernate: create table inherit_base (id bigint not null, primary key (id))
Hibernate: create table inherit_one (someId varchar(255), id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FKlu6huhy2g08akv8wpudpfvqir foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FKe5yjuoa6qr80cm4gcilq1gubk foreign key (id) references inherit_base
2022-01-02 00:57:52,171 TRACE Hibernate Setup Complete.
2022-01-02 00:57:52,171 DEBUG Known entities: [inherit_base, inherit_one, inherit_two]
2022-01-02 00:57:52,171 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-02 00:57:52,171 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-02 00:57:52,171 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-02 00:57:52,171 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-02 00:57:52,172 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:52,173 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@216bd7cb
Hibernate: insert into inherit_base (id) values (?)
Hibernate: insert into inherit_one (someId, id) values (?, ?)
2022-01-02 00:57:52,174 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:52,174 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@1001ede3
Hibernate: insert into inherit_base (id) values (?)
Hibernate: insert into inherit_two (id) values (?)
2022-01-02 00:57:52,175 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
2022-01-02 00:57:52,175 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-02 00:57:52,175 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select mychildobj0_.id as id1_0_, mychildobj0_.someId as someId1_1_ from inherit_one mychildobj0_ inner join inherit_base mychildobj0_1_ on mychildobj0_.id=mychildobj0_1_.id where mychildobj0_.id in (? , ?)
2022-01-02 00:57:52,185 DEBUG NullPointerException causes rollback
2022-01-02 00:57:52,187 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:52,187 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@7bf1c78
Hibernate: insert into inherit_base (id) values (?)
Hibernate: insert into inherit_one (someId, id) values (?, ?)
2022-01-02 00:57:52,188 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:52,189 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@77129106
Hibernate: insert into inherit_base (id) values (?)
Hibernate: insert into inherit_two (id) values (?)
2022-01-02 00:57:52,189 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select mychildobj0_.id as id1_0_, mychildobj0_.someId as someId1_1_ from inherit_one mychildobj0_ inner join inherit_base mychildobj0_1_ on mychildobj0_.id=mychildobj0_1_.id where mychildobj0_.someId=?
2022-01-02 00:57:52,192 DEBUG NullPointerException causes rollback
2022-01-02 00:57:52,192 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:52,193 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@62fd809b
Hibernate: insert into inherit_base (id) values (?)
Hibernate: insert into inherit_one (someId, id) values (?, ?)
2022-01-02 00:57:52,193 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: call next value for hibernate_sequence
2022-01-02 00:57:52,193 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@2ab254ca
Hibernate: insert into inherit_base (id) values (?)
Hibernate: insert into inherit_two (id) values (?)
2022-01-02 00:57:52,194 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, mybaseobje0_2_.someId as someId1_1_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2022-01-02 00:57:52,195 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@15763605
2022-01-02 00:57:52,195 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, mybaseobje0_2_.someId as someId1_1_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2022-01-02 00:57:52,196 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@5570d921
2022-01-02 00:57:52,196  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:52,196 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:52,196 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@124a070c
Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.188 sec <<< FAILURE! - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
testDiscriminatorInWebQuery(com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest)  Time elapsed: 0.014 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest.testDiscriminatorInWebQuery(DiscriminatorDynamicQueryTest.java:73)

testDiscriminatorInWebQueryAllowsUseOfSubclassFields(com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest)  Time elapsed: 0.006 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest.testDiscriminatorInWebQueryAllowsUseOfSubclassFields(DiscriminatorDynamicQueryTest.java:55)

Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2022-01-02 00:57:52,349 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-02 00:57:52,349 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-02 00:57:52,354  WARN HHH10001002: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2022-01-02 00:57:52,368 TRACE Hibernate Setup Complete.
2022-01-02 00:57:52,368 DEBUG Known entities: [EmbeddedPkEntity]
2022-01-02 00:57:52,368 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-02 00:57:52,368 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.SomePrimaryKey from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4cb7d26b
2022-01-02 00:57:52,368 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.SomePrimaryKey from EmbeddableType org.hibernate.metamodel.internal.EmbeddableTypeImpl@4cb7d26b
2022-01-02 00:57:52,368 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-02 00:57:52,369 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select embeddedpk0_.id as id1_0_, embeddedpk0_.timestamp as timestam2_0_, embeddedpk0_.some_name as some_nam3_0_ from EmbeddedPkEntity embeddedpk0_ where embeddedpk0_.id=? and embeddedpk0_.timestamp=?
2022-01-02 00:57:52,372 DEBUG NullPointerException causes rollback
2022-01-02 00:57:52,373 TRACE Creating new transaction to call public <RT> com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<RT> com.peterphi.std.guice.hibernate.dao.HibernateDao.find(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery,com.peterphi.std.guice.hibernate.webquery.impl.jpa.JPASearchStrategy,java.util.function.Function<?, RT>)
Hibernate: select embeddedpk0_.id as id1_0_, embeddedpk0_.timestamp as timestam2_0_, embeddedpk0_.some_name as some_nam3_0_ from EmbeddedPkEntity embeddedpk0_ where embeddedpk0_.timestamp=?
2022-01-02 00:57:52,376 DEBUG NullPointerException causes rollback
2022-01-02 00:57:52,377 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
2022-01-02 00:57:52,379  WARN HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2022-01-02 00:57:52,380 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@4f58822a
2022-01-02 00:57:52,380  INFO Shut down Hibernate SessionFactory...
2022-01-02 00:57:52,380 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-02 00:57:52,380 TRACE Complete org.hibernate.engine.transaction.internal.TransactionImpl@13f7b0d1
Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.167 sec <<< FAILURE! - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
testSearchByIdAndTimestamp(com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest)  Time elapsed: 0.005 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testSearchByIdAndTimestamp(DynamicQueryEmbeddedPkTest.java:45)

testSearchByTimestamp(com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest)  Time elapsed: 0.004 sec  <<< ERROR!
java.lang.NullPointerException
	at com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testSearchByTimestamp(DynamicQueryEmbeddedPkTest.java:30)

Running com.peterphi.std.guice.hibernate.webquery.impl.WQTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec - in com.peterphi.std.guice.hibernate.webquery.impl.WQTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.impl.jpa.jpafunctions.WQPathSegmentTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.jpa.jpafunctions.WQPathSegmentTest
Running com.peterphi.std.guice.hibernate.webquery.impl.jpa.jpafunctions.WQPathTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.jpa.jpafunctions.WQPathTest

Results :

Tests in error: 
  LargeTableQueryTest.testSearchComplexPK:117 » NullPointer
  LargeTableQueryTest.testSearchComplexPKIDs:134 » NullPointer
  LargeTableQueryTest.testSearchForPrimaryKeyWorks:48 » NullPointer
  LargeTableQueryTest.testSearchWorks:74 » NullPointer
  LargeTableQueryTest.testSearchWorksWithOrder:94 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DynamicQueryTest.clearDatabaseBeforeTest:48 » NullPointer
  DiscriminatorDynamicQueryTest.testDiscriminatorInWebQuery:73 » NullPointer
  DiscriminatorDynamicQueryTest.testDiscriminatorInWebQueryAllowsUseOfSubclassFields:55 » NullPointer
  DynamicQueryEmbeddedPkTest.testSearchByIdAndTimestamp:45 » NullPointer
  DynamicQueryEmbeddedPkTest.testSearchByTimestamp:30 » NullPointer

Tests run: 76, Failures: 0, Errors: 31, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  0.490 s]
[INFO] stdlib ............................................. SUCCESS [  6.819 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.028 s]
[INFO] stdlib guice common ................................ SUCCESS [  4.515 s]
[INFO] user-manager ....................................... SUCCESS [  0.007 s]
[INFO] user manager rest api .............................. SUCCESS [  0.043 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  1.410 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.068 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.039 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  1.615 s]
[INFO] stdlib guice hibernate ............................. FAILURE [  9.438 s]
[INFO] stdlib guice hibernate testing support ............. SKIPPED
[INFO] stdlib guice liquibase support ..................... SKIPPED
[INFO] carbon client ...................................... SKIPPED
[INFO] service-manager .................................... SKIPPED
[INFO] Configuration Service .............................. SKIPPED
[INFO] Service Manager API ................................ SKIPPED
[INFO] stdlib-rules ....................................... SKIPPED
[INFO] stdlib-azure ....................................... SKIPPED
[INFO] Service Manager Main ............................... SKIPPED
[INFO] Host Agent ......................................... SKIPPED
[INFO] user manager service ............................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 25.412 s
[INFO] Finished at: 2022-01-02T00:57:52Z
[INFO] Final Memory: 24M/762M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19:test (default-test) on project stdlib-guice-hibernate: There are test failures.
[ERROR] 
[ERROR] Please refer to /home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :stdlib-guice-hibernate

travis_time:end:21730a7c:start=1641085046090368188,finish=1641085073045292402,duration=26954924214[0K
[31;1mThe command "mvn test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B" exited with 1.[0m
travis_fold:start:before_cache[0Ktravis_time:start:1b2e8039[0K$ rm -f $HOME/.m2/repository/com/peterphi

travis_time:end:1b2e8039:start=1641085073058771624,finish=1641085073072063998,duration=13292374[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:02aaad33[0K
travis_time:end:02aaad33:start=1641085073084633387,finish=1641085073095585978,duration=10952591[0Ktravis_time:start:02462331[0K/home/travis/.casher/bin/casher:190: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040757
[32;1mchanges detected, packing new archive[0m
/home/travis/.casher/bin/casher:213:in `cache_archive_name': undefined method `[]' for nil:NilClass (NoMethodError)
	from /home/travis/.casher/bin/casher:143:in `push'
	from /home/travis/.casher/bin/casher:53:in `block in run'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:88:in `block in timeout'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:32:in `block in catch'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:32:in `catch'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:32:in `catch'
	from /home/travis/.rvm/rubies/ruby-2.2.7/lib/ruby/2.2.0/timeout.rb:103:in `timeout'
	from /home/travis/.casher/bin/casher:53:in `run'
	from /home/travis/.casher/bin/casher:263:in `<main>'
.
.
.
.
.
.
.
.

travis_time:end:02462331:start=1641085073107613183,finish=1641085117014532816,duration=43906919633[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 1.
