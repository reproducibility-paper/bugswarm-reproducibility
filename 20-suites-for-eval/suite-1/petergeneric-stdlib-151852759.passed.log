travis_time:start:06b040d0[0Ktravis_time:end:06b040d0:start=1639242637007549282,finish=1639242637163933933,duration=156384651,event=no_world_writable_dirs[0Ktravis_time:start:16103f55[0Ktravis_time:end:16103f55:start=1639242637170403032,finish=1639242637175413087,duration=5010055,event=check_unsupported[0Ktravis_time:start:072aeef8[0Ktravis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: ''
Job id: ''
Runtime kernel version: 4.15.0-109-generic
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
travis_time:end:072aeef8:start=1639242637181456130,finish=1639242637190439538,duration=8983408,event=show_system_info[0Ktravis_time:start:280c13a6[0Ktravis_time:end:280c13a6:start=1639242637197013613,finish=1639242637216639001,duration=19625388,event=rm_riak_source[0Ktravis_time:start:098f5e60[0Ktravis_time:end:098f5e60:start=1639242637223654087,finish=1639242637234877416,duration=11223329,event=fix_rwky_redis[0Ktravis_time:start:023f739b[0K[31;1mTimeout waiting for network availability.[0m
travis_time:end:023f739b:start=1639242637241092270,finish=1639242657904643631,duration=20663551361,event=wait_for_network[0Ktravis_time:start:13340c52[0Ktravis_time:end:13340c52:start=1639242657916861189,finish=1639242661083737743,duration=3166876554,event=update_apt_keys[0Ktravis_time:start:177ae3da[0Ktravis_time:end:177ae3da:start=1639242661089593341,finish=1639242661157057754,duration=67464413,event=fix_hhvm_source[0Ktravis_time:start:1ec85a08[0Ktravis_time:end:1ec85a08:start=1639242661163191833,finish=1639242661168785526,duration=5593693,event=update_mongo_arch[0Ktravis_time:start:0306fee0[0Ktravis_time:end:0306fee0:start=1639242661176495356,finish=1639242661224350963,duration=47855607,event=fix_sudo_enabled_trusty[0Ktravis_time:start:0cb7a96b[0Ktravis_time:end:0cb7a96b:start=1639242661229821122,finish=1639242661247026791,duration=17205669,event=clean_up_path[0Ktravis_time:start:1a6d5e56[0Ktravis_time:end:1a6d5e56:start=1639242661255411083,finish=1639242661276300139,duration=20889056,event=fix_resolv_conf[0Ktravis_time:start:0b9c4684[0Ktravis_time:end:0b9c4684:start=1639242661291980281,finish=1639242661311296963,duration=19316682,event=fix_etc_hosts[0Ktravis_time:start:3c46ac40[0Ktravis_time:end:3c46ac40:start=1639242661316935320,finish=1639242661335742261,duration=18806941,event=fix_mvn_settings_xml[0Ktravis_time:start:0369cf9c[0Ktravis_time:end:0369cf9c:start=1639242661341527679,finish=1639242661356972540,duration=15444861,event=no_ipv6_localhost[0Ktravis_time:start:02bfc11c[0Ktravis_time:end:02bfc11c:start=1639242661362499441,finish=1639242661904134155,duration=541634714,event=fix_etc_mavenrc[0Ktravis_time:start:079b9a68[0Ktravis_time:end:079b9a68:start=1639242661908789486,finish=1639242661913465381,duration=4675895,event=fix_wwdr_certificate[0Ktravis_time:start:1833cb70[0Ktravis_time:end:1833cb70:start=1639242661920252344,finish=1639242661959453164,duration=39200820,event=put_localhost_first[0Ktravis_time:start:00c10bc4[0Ktravis_time:end:00c10bc4:start=1639242661964725773,finish=1639242661969231352,duration=4505579,event=home_paths[0Ktravis_time:start:298d328c[0Ktravis_time:end:298d328c:start=1639242661973914333,finish=1639242662502053809,duration=528139476,event=disable_initramfs[0Ktravis_time:start:0c969323[0Ktravis_time:end:0c969323:start=1639242662507805941,finish=1639242662929696879,duration=421890938,event=disable_ssh_roaming[0Ktravis_time:start:19dcf523[0Ktravis_time:end:19dcf523:start=1639242662935489626,finish=1639242662939112705,duration=3623079,event=debug_tools[0Ktravis_time:start:059ed939[0Ktravis_time:end:059ed939:start=1639242662945067646,finish=1639242662951292775,duration=6225129,event=uninstall_oclint[0Ktravis_time:start:1326ce6a[0Ktravis_time:end:1326ce6a:start=1639242662956735751,finish=1639242662960774170,duration=4038419,event=rvm_use[0Ktravis_time:start:0bed0d95[0Ktravis_time:end:0bed0d95:start=1639242662965611806,finish=1639242662979302605,duration=13690799,event=rm_etc_boto_cfg[0Ktravis_time:start:2a30b0f8[0Ktravis_time:end:2a30b0f8:start=1639242662985221205,finish=1639242662989869461,duration=4648256,event=rm_oraclejdk8_symlink[0Ktravis_time:start:1456a997[0Ktravis_time:end:1456a997:start=1639242662995604606,finish=1639242663033852538,duration=38247932,event=enable_i386[0Ktravis_time:start:0453bc1f[0Ktravis_time:end:0453bc1f:start=1639242663039119029,finish=1639242663045334394,duration=6215365,event=update_rubygems[0Ktravis_time:start:25bd5aa0[0Ktravis_time:end:25bd5aa0:start=1639242663051862784,finish=1639242663060216265,duration=8353481,event=ensure_path_components[0Ktravis_time:start:17c20f25[0Ktravis_time:end:17c20f25:start=1639242663065190545,finish=1639242663069187470,duration=3996925,event=redefine_curl[0Ktravis_time:start:07816878[0Ktravis_time:end:07816878:start=1639242663074732221,finish=1639242663078972770,duration=4240549,event=nonblock_pipe[0Ktravis_time:start:0ca448d5[0Ktravis_time:end:0ca448d5:start=1639242663084261169,finish=1639242666151087790,duration=3066826621,event=apt_get_update[0Ktravis_time:start:03a71bac[0Ktravis_time:end:03a71bac:start=1639242666156256394,finish=1639242666160172840,duration=3916446,event=deprecate_xcode_64[0Ktravis_time:start:258ed664[0Ktravis_time:end:258ed664:start=1639242666165359075,finish=1639242666171575200,duration=6216125,event=update_heroku[0Ktravis_time:start:0ddadb50[0Ktravis_time:end:0ddadb50:start=1639242666176650544,finish=1639242666180683383,duration=4032839,event=shell_session_update[0Ktravis_time:start:00b8d474[0Ktravis_fold:start:docker_mtu[0Ktee: /etc/docker/daemon.json: No such file or directory
docker: unrecognized service
travis_fold:end:docker_mtu[0Ktravis_time:end:00b8d474:start=1639242666185338118,finish=1639242666221900330,duration=36562212,event=set_docker_mtu[0Ktravis_time:start:040d5e00[0Ktravis_time:end:040d5e00:start=1639242666227484071,finish=1639242666242041276,duration=14557205,event=resolvconf[0Ktravis_time:start:1fd474f4[0Ktravis_time:end:1fd474f4:start=1639242666246914659,finish=1639242666398076935,duration=151162276,event=maven_https[0K
travis_fold:start:install_jdk[0K[33;1mInstalling oraclejdk8[0m
$ jdk_switcher use "oraclejdk8"
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
travis_fold:end:install_jdk[0Ktravis_time:start:00756798[0Ktravis_time:end:00756798:start=1639242666416058267,finish=1639242666419843078,duration=3784811,event=fix_ps4[0Ktravis_time:start:0608bf90[0K
$ cd passed/petergeneric/stdlib

travis_time:end:0608bf90:start=1639242666425231299,finish=1639242666429723931,duration=4492632,event=checkout[0Ktravis_time:start:04b27e7a[0K
[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

travis_time:end:04b27e7a:start=1639242666434836778,finish=1639242668019989270,duration=1585152492,event=env[0Ktravis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=${TRAVIS_HOME}/.casher
travis_time:start:0306e400[0K$ Installing caching utilities

[31;1mThe command "eval curl -sf  -o $CASHER_DIR/bin/casher https:///files/casher " failed. Retrying, 2 of 3.[0m


[31;1mThe command "eval curl -sf  -o $CASHER_DIR/bin/casher https:///files/casher " failed. Retrying, 3 of 3.[0m


[31;1mThe command "eval curl -sf  -o $CASHER_DIR/bin/casher https:///files/casher " failed 3 times.[0m

travis_time:end:0306e400:start=1639242669388647085,finish=1639242672476356210,duration=3087709125,event=setup_casher[0Ktravis_time:start:0b697615[0K$ Installing caching utilities from the Travis CI server (https:///files/casher) failed, failing over to using GitHub (https://raw.githubusercontent.com/travis-ci/casher/bash/bin/casher)
travis_time:end:0b697615:start=1639242672481715172,finish=1639242672538546285,duration=56831113,event=setup_casher[0Ktravis_time:start:0d724cbc[0Ktravis_time:end:0d724cbc:start=1639242672552316330,finish=1639242672560535005,duration=8218675,event=setup_casher[0Ktravis_time:start:1e437a6f[0KYAML safe loading is not available. Please upgrade psych to a version that supports safe loading (>= 2.0).
attempting to download cache archive[0m
[31;1mcould not download cache[0m
travis_time:end:1e437a6f:start=1639242672566784185,finish=1639242673943793820,duration=1377009635,event=setup_casher[0Ktravis_time:start:01ea2505[0Ktravis_time:end:01ea2505:start=1639242673950645475,finish=1639242673955367333,duration=4721858,event=setup_casher[0Ktravis_time:start:18d46328[0KYAML safe loading is not available. Please upgrade psych to a version that supports safe loading (>= 2.0).
adding /home/travis/.m2 to cache[0m
travis_time:end:18d46328:start=1639242673961211399,finish=1639242676467114344,duration=2505902945,event=setup_casher[0Ktravis_fold:end:cache.1[0K
$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:071a3294[0K$ mvn -o install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.15.0-109-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] maven is executed in offline mode, Updating project files from SCM: skipped.
[INFO] Executing: /bin/sh -c cd /home/travis/build/passed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/passed/petergeneric/stdlib
[INFO] Storing buildNumber: 26f261a15c1768a7bf56b0001363d2a0776375f1 at timestamp: 1639242682774
[INFO] Storing buildScmBranch: master
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.1.2-SNAPSHOT/stdlib-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/stdlib/target/stdlib-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.2-SNAPSHOT/stdlib-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.1.2-SNAPSHOT/stdlib-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.1.2-SNAPSHOT/stdlib-guice-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.2-SNAPSHOT/stdlib-guice-common-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.1.2-SNAPSHOT/stdlib-guice-common-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.1.2-SNAPSHOT/user-manager-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.2-SNAPSHOT/user-manager-api-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.1.2-SNAPSHOT/user-manager-api-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.2-SNAPSHOT/stdlib-guice-webapp-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.1.2-SNAPSHOT/stdlib-guice-webapp-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.2-SNAPSHOT/stdlib-guice-metrics-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.1.2-SNAPSHOT/stdlib-guice-metrics-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.2-SNAPSHOT/stdlib-guice-freemarker-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.1.2-SNAPSHOT/stdlib-guice-freemarker-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.2-SNAPSHOT/stdlib-guice-testing-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.1.2-SNAPSHOT/stdlib-guice-testing-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.2-SNAPSHOT/stdlib-guice-hibernate-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.1.2-SNAPSHOT/stdlib-guice-hibernate-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.2-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.1.2-SNAPSHOT/stdlib-guice-hibernate-testing-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.2-SNAPSHOT/stdlib-guice-liquibase-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.1.2-SNAPSHOT/stdlib-guice-liquibase-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.1.2-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.2-SNAPSHOT/carbon-client-9.1.2-SNAPSHOT.jar
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.1.2-SNAPSHOT/carbon-client-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ config-parent ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/config-parent/9.1.2-SNAPSHOT/config-parent-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/passed/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.2-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/passed/petergeneric/stdlib/configuration/configuration/src/main/webapp]
[INFO] Webapp assembled in [4103 msecs]
[INFO] Building war: /home/travis/build/passed/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.2-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/configuration/configuration/target/configuration-9.1.2-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/configuration-9.1.2-SNAPSHOT.war
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/configuration/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.1.2-SNAPSHOT/configuration-9.1.2-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.2-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/passed/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [2306 msecs]
[INFO] Building war: /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.2-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/user-manager-9.1.2-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.2-SNAPSHOT/user-manager-9.1.2-SNAPSHOT.war
[INFO] Installing /home/travis/build/passed/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.1.2-SNAPSHOT/user-manager-9.1.2-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  1.017 s]
[INFO] stdlib ............................................. SUCCESS [  2.072 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.141 s]
[INFO] stdlib guice common ................................ SUCCESS [  1.553 s]
[INFO] user-manager ....................................... SUCCESS [  0.251 s]
[INFO] user manager rest api .............................. SUCCESS [  0.528 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  0.849 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.988 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.808 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.792 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  1.354 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  0.689 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.792 s]
[INFO] carbon client ...................................... SUCCESS [  1.293 s]
[INFO] configuration ...................................... SUCCESS [  0.644 s]
[INFO] Configuration Service .............................. SUCCESS [  6.219 s]
[INFO] user manager service ............................... SUCCESS [  4.406 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 28.849 s
[INFO] Finished at: 2021-12-11T17:11:46+00:00
[INFO] Final Memory: 22M/364M
[INFO] ------------------------------------------------------------------------
travis_time:end:071a3294:start=1639242676740630052,finish=1639242717135653950,duration=40395023898,event=install[0Ktravis_fold:end:install[0Ktravis_time:start:1a210a24[0K$ mvn test -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 17 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 17 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] configuration
[INFO] Configuration Service
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/passed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/passed/petergeneric/stdlib
[INFO] Storing buildNumber: 26f261a15c1768a7bf56b0001363d2a0776375f1 at timestamp: 1639242720105
[INFO] Storing buildScmBranch: master
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.631 sec - in com.peterphi.std.io.PropertyFileTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.109 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.07 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.346 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.111 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.605 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.07 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.248 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.469 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.079 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.243 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.355 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.098 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.237 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.184 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.155 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/passed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.014 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2021-12-11 17:12:19,130 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,132 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,190 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,249 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,249 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,250 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,253 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,253 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,254 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,291 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,292 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,292 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,293 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,293 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,294 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,309 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,309 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,310 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,312 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,312 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,313 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,316 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,317 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,317 TRACE [PropertyFile] {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2021-12-11 17:12:19,338 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,338 DEBUG Loading property file: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2021-12-11 17:12:19,339 TRACE [PropertyFile] {set} key=unit-test; value=true
2021-12-11 17:12:19,342  INFO Trying to create Guice Injector...
2021-12-11 17:12:19,381 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@13969fbe
2021-12-11 17:12:19,382 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@6aaa5eb0
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_tag; value=
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=container; value=docker
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_root; value=/
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=casher_dir; value=/home/travis/.casher
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_allow_failure; value=
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_apt_proxy; value=
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_os_name; value=linux
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_commit_message; value=Instead of making the CurrentUser available on the HTTP Session, make it available through the currentUser templater variable (which also means the templater won't be calling CurrentUser methods directly, and as such we don't have to worry about OGNL having problems accessing default implementations of interface methods as if they were properties, which it still seems to have trouble with)
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=rvm_version; value=1.26.8 (1.26.8)
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=travis_event_type; value=
2021-12-11 17:12:19,387 TRACE [PropertyFile] {set} key=pwd; value=/home/travis/build/passed/petergeneric/stdlib/guice/hibernate
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=travis_osx_image; value=
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=has_antares_three_little_fronzies_badge; value=true
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=travis_secure_env_vars; value=false
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=pager; value=cat
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=ansi_clear; value=\033[0K
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=travis_internal_ruby_regex; value=^ruby-(2\.[0-4]\.[0-9]|1\.9\.3)
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=travis_test_result; value=
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=rvm_path; value=/home/travis/.rvm
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=coverity_scan_token; value=[secure]
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=travis_dist; value=precise
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=travis_timer_start_time; value=1639242717142876097
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=rvm_autoupdate_flag; value=0
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=shlvl; value=2
2021-12-11 17:12:19,388 TRACE [PropertyFile] {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=term; value=xterm
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis_init; value=upstart
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis_job_number; value=
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=ansi_red; value=\033[31;1m
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=merb_env; value=test
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=rack_env; value=test
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis_language; value=java
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis_branch; value=
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis; value=true
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=ci; value=true
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis_commit_range; value=
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=travis_pull_request_sha; value=
2021-12-11 17:12:19,389 TRACE [PropertyFile] {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_commit; value=
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_repo_slug; value=petergeneric/stdlib
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_build_stage_name; value=
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_home; value=/home/travis
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_arch; value=amd64
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_job_id; value=
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_pull_request_branch; value=
2021-12-11 17:12:19,390 TRACE [PropertyFile] {set} key=travis_jdk_version; value=oraclejdk8
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=travis_sudo; value=true
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=ps4; value=+
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=travis_build_web_url; value=https:///petergeneric/stdlib/builds/
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=rvm_silence_path_mismatch_check_flag; value=1
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=git_askpass; value=echo
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=travis_timer_id; value=1a210a24
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=travis_cmd; value=mvn test -B
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=travis_cpu_arch; value=amd64
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=rails_env; value=test
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=shell; value=/bin/bash
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=composer_no_interaction; value=1
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=travis_tmpdir; value=/tmp/tmp.OdnspyXW2D
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=oldpwd; value=/home/travis/build/passed/petergeneric/stdlib/guice/hibernate
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2021-12-11 17:12:19,391 TRACE [PropertyFile] {set} key=continuous_integration; value=true
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=ruby_version; value=ruby-1.9.3-p551
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=debian_frontend; value=noninteractive
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=ansi_green; value=\033[32;1m
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=_system_name; value=Ubuntu
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=m2_home; value=/usr/local/maven
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=travis_build_number; value=
2021-12-11 17:12:19,392 TRACE [PropertyFile] {set} key=travis_infra; value=unknown
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=_system_arch; value=x86_64
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=has_josh_k_seal_of_approval; value=true
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=travis_job_name; value=
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=travis_build_id; value=
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=rvm_prefix; value=/home/travis
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=lang; value=en_US.UTF-8
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=travis_pull_request; value=false
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=ansi_reset; value=\033[0m
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=apt_key_dont_warn_on_dangerous_usage; value=1
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=maven_cmd_line_args; value=test -B
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2021-12-11 17:12:19,393 TRACE [PropertyFile] {set} key=travis_pull_request_slug; value=
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=nvm_dir; value=/home/travis/.nvm
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=ansi_yellow; value=\033[33;1m
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=_system_type; value=Linux
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=travis_build_dir; value=/home/travis/build/petergeneric/stdlib
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=_system_version; value=12.04
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=user; value=travis
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=travis_app_host; value=
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=travis_job_web_url; value=https:///petergeneric/stdlib/jobs/
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=hostname; value=e4855414a9b5
2021-12-11 17:12:19,394 TRACE [PropertyFile] {set} key=home; value=/home/travis
2021-12-11 17:12:19,394 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@3498ed
2021-12-11 17:12:19,394 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@1a407d53
2021-12-11 17:12:19,395 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@13969fbe
2021-12-11 17:12:19,395 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@6aaa5eb0
2021-12-11 17:12:19,451 TRACE Search for config files with name: environment.properties
2021-12-11 17:12:19,452 TRACE Search for config files with name: service.properties
2021-12-11 17:12:19,453 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@1593948d
2021-12-11 17:12:19,472  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/hqlchildcount/
2021-12-11 17:12:19,610 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2021-12-11 17:12:19,616 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@21213b92, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@a67c67e, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@3327bd23, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@4e1d422d, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@66480dd7, com.peterphi.std.guice.common.metrics.CoreMetricsModule@52a86356, com.peterphi.std.guice.common.cached.module.CacheModule@5ce81285, com.peterphi.std.guice.common.retry.module.RetryModule@78c03f1f, com.peterphi.std.guice.common.JAXBModule@5ec0a365, com.peterphi.std.guice.common.Log4JModule@4fe3c938, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@5383967b]
2021-12-11 17:12:20,070 DEBUG Discovered new property: guice.bootstrap.class
2021-12-11 17:12:20,071 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,071 DEBUG Discovered new property: scan.packages
2021-12-11 17:12:20,071 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,071 DEBUG Discovered new property: override-properties.file
2021-12-11 17:12:20,071 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,071 DEBUG Discovered new property: mode
2021-12-11 17:12:20,071 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,071 DEBUG Discovered new property: log4j.properties
2021-12-11 17:12:20,071 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,071 DEBUG Discovered new property: guice.jaxb.moxy
2021-12-11 17:12:20,071 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,072 DEBUG Discovered new property: unit-test
2021-12-11 17:12:20,072 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,072 DEBUG Discovered new property: service.config.endpoint
2021-12-11 17:12:20,072 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,072 DEBUG Discovered new property: service.config.path
2021-12-11 17:12:20,072 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,072 DEBUG Discovered new property: service.config.instance-id
2021-12-11 17:12:20,072 TRACE Discovered new binding for property service.config.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,072 DEBUG Discovered new property: service.config.last-revision
2021-12-11 17:12:20,072 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,072 DEBUG Discovered new property: restutils.allow-restart
2021-12-11 17:12:20,072 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,081 DEBUG Discovered new property: restutils.show-serviceprops
2021-12-11 17:12:20,081 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,081 DEBUG Discovered new property: restutils.allow-reconfigure
2021-12-11 17:12:20,081 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,081 DEBUG Discovered new property: restutils.show-bound-values
2021-12-11 17:12:20,081 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,081 DEBUG Discovered new property: local.restservices.endpoint
2021-12-11 17:12:20,081 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,081 DEBUG Discovered new property: local.restservices.prefix
2021-12-11 17:12:20,081 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: servlet.context-name
2021-12-11 17:12:20,082 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: context-name
2021-12-11 17:12:20,082 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: role.jaxrs-server.auto
2021-12-11 17:12:20,082 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: framework.restcoreservices.disabled
2021-12-11 17:12:20,082 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: local.webapp.endpoint
2021-12-11 17:12:20,082 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: local.container.endpoint
2021-12-11 17:12:20,082 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,082 DEBUG Discovered new property: local.webapp.context-path
2021-12-11 17:12:20,082 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2021-12-11 17:12:20,083 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.suppress-ClientAbortException
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.provider
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.enabled
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.only-servlet-request
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.scope.default.role
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.scope.default.skip
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.jwt.secret
2021-12-11 17:12:20,083 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,083 DEBUG Discovered new property: framework.webauth.jwt.issuer
2021-12-11 17:12:20,084 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: framework.webauth.jwt.audience
2021-12-11 17:12:20,084 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: framework.webauth.jwt.header-name
2021-12-11 17:12:20,084 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2021-12-11 17:12:20,084 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: service.oauth2.endpoint
2021-12-11 17:12:20,084 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: service.oauth2.client_id
2021-12-11 17:12:20,084 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: service.oauth2.client_secret
2021-12-11 17:12:20,084 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: framework.http-request.default-to-utf8
2021-12-11 17:12:20,084 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,084 DEBUG Discovered new property: hibernate.properties
2021-12-11 17:12:20,084 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2021-12-11 17:12:20,085 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: role.hibernate.auto
2021-12-11 17:12:20,085 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: role.thymeleaf.auto
2021-12-11 17:12:20,085 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: role.metrics-jaxrs.auto
2021-12-11 17:12:20,085 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: metrics-jaxrs.show-samples
2021-12-11 17:12:20,085 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: role.dbunit.auto
2021-12-11 17:12:20,085 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: liquibase.action
2021-12-11 17:12:20,085 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: liquibase.changelog
2021-12-11 17:12:20,085 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,085 DEBUG Discovered new property: liquibase.contexts
2021-12-11 17:12:20,085 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,086 DEBUG Discovered new property: liquibase.labels
2021-12-11 17:12:20,086 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,086 DEBUG Discovered new property: liquibase.parameter.
2021-12-11 17:12:20,086 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2021-12-11 17:12:20,120 DEBUG Loading log4j configuration from embedded
2021-12-11 17:12:20,172 TRACE [PropertyFile] {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2021-12-11 17:12:20,172 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2021-12-11 17:12:20,172 TRACE [PropertyFile] {set} key=log4j.rootCategory; value=WARN, logconsole
2021-12-11 17:12:20,172 TRACE [PropertyFile] {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2021-12-11 17:12:20,172 TRACE [PropertyFile] {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2021-12-11 17:12:20,172 TRACE [PropertyFile] {set} key=log4j.properties; value=embedded
2021-12-11 17:12:20,859 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-11 17:12:20,865 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-11 17:12:20,946 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:21,059  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2021-12-11 17:12:22,529 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2021-12-11 17:12:22,530 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2021-12-11 17:12:22,547 TRACE Hibernate Setup Complete.
2021-12-11 17:12:22,548 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2021-12-11 17:12:22,548 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-11 17:12:22,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-11 17:12:22,595 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-11 17:12:22,596 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-11 17:12:22,728 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2021-12-11 17:12:23,011 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b051a5c
2021-12-11 17:12:23,028  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:23,032 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:23,044 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@ad3324b
2021-12-11 17:12:23,401 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-11 17:12:23,401 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-11 17:12:23,402 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:23,427  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2021-12-11 17:12:23,482 TRACE Hibernate Setup Complete.
2021-12-11 17:12:23,483 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2021-12-11 17:12:23,483 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-11 17:12:23,483 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-11 17:12:23,483 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2021-12-11 17:12:23,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2021-12-11 17:12:23,486 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2021-12-11 17:12:23,524 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b47731f
2021-12-11 17:12:23,531 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2021-12-11 17:12:23,557 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@467233e4
2021-12-11 17:12:23,559 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2021-12-11 17:12:23,593 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@168b4cb0
2021-12-11 17:12:23,594 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2021-12-11 17:12:23,597 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@23cbbd07
2021-12-11 17:12:23,598 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2021-12-11 17:12:23,600 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2007435e
2021-12-11 17:12:23,601 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2021-12-11 17:12:23,608 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4d157493
2021-12-11 17:12:23,609 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2021-12-11 17:12:23,612 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@640cc04b
2021-12-11 17:12:23,612 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2021-12-11 17:12:23,614 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6723610b
2021-12-11 17:12:23,614 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2021-12-11 17:12:23,636 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@26837057
2021-12-11 17:12:23,636  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:23,637 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:23,637 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@991cbde
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.308 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2021-12-11 17:12:24,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-11 17:12:24,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-11 17:12:24,067 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:24,095  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2021-12-11 17:12:24,195 TRACE Hibernate Setup Complete.
2021-12-11 17:12:24,195 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2021-12-11 17:12:24,195 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-11 17:12:24,196 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-11 17:12:24,196 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-11 17:12:24,196 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-11 17:12:24,197 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2021-12-11 17:12:24,199 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-11 17:12:24,201 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-11 17:12:24,203 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-11 17:12:24,204 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-11 17:12:24,205 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2021-12-11 17:12:24,206 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2021-12-11 17:12:24,302 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:24,302 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2021-12-11 17:12:24,396 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5ca4dce5
2021-12-11 17:12:24,397  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:24,397 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:24,397 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d133fb7
2021-12-11 17:12:24,634 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-11 17:12:24,634 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-11 17:12:24,635 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:24,639  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2021-12-11 17:12:24,666 TRACE Hibernate Setup Complete.
2021-12-11 17:12:24,666 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2021-12-11 17:12:24,666 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-11 17:12:24,666 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2021-12-11 17:12:24,666 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-11 17:12:24,673 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2021-12-11 17:12:24,674 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2021-12-11 17:12:24,737 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-11 17:12:24,739 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-11 17:12:24,740 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-11 17:12:24,740 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-11 17:12:24,741 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2021-12-11 17:12:24,741 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:24,742 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2021-12-11 17:12:24,772 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@68d8eb4f
2021-12-11 17:12:24,773  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:24,774 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:24,775 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@105dc04d
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.141 sec - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2021-12-11 17:12:25,059 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2021-12-11 17:12:25,060 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:25,064  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2021-12-11 17:12:25,084 ERROR HHH000389: Unsuccessful: drop table Q if exists
2021-12-11 17:12:25,084 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-11 17:12:25,085 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-11 17:12:25,085 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2021-12-11 17:12:25,085 TRACE Hibernate Setup Complete.
2021-12-11 17:12:25,086 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2021-12-11 17:12:25,091 DEBUG KillTransaction causes rollback
2021-12-11 17:12:25,097  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:25,097 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:25,098 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@f01fc6d
2021-12-11 17:12:25,295 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2021-12-11 17:12:25,296 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:25,300  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2021-12-11 17:12:25,315 ERROR HHH000389: Unsuccessful: drop table Q if exists
2021-12-11 17:12:25,315 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-11 17:12:25,315 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-11 17:12:25,315 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2021-12-11 17:12:25,316 TRACE Hibernate Setup Complete.
2021-12-11 17:12:25,323 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2021-12-11 17:12:25,323 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7bdf94f2
2021-12-11 17:12:25,324  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:25,324 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:25,324 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5d67b2b3
2021-12-11 17:12:25,527 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2021-12-11 17:12:25,528 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:25,531  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2021-12-11 17:12:25,545 ERROR HHH000389: Unsuccessful: drop table Q if exists
2021-12-11 17:12:25,546 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-11 17:12:25,546 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2021-12-11 17:12:25,546 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2021-12-11 17:12:25,547 TRACE Hibernate Setup Complete.
2021-12-11 17:12:25,547  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:25,547 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:25,547 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3b764e66
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.762 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2021-12-11 17:12:25,744 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2021-12-11 17:12:25,745 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:25,749  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2021-12-11 17:12:25,778 TRACE Hibernate Setup Complete.
2021-12-11 17:12:25,778 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2021-12-11 17:12:25,778 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2021-12-11 17:12:25,778 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2021-12-11 17:12:25,779 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2021-12-11 17:12:25,781 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3545c913
2021-12-11 17:12:25,781 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2021-12-11 17:12:25,783 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@604e8a6
2021-12-11 17:12:25,783 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2021-12-11 17:12:25,787 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@44103266
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2021-12-11 17:12:25,792  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:25,792 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:25,792 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@61d4155b
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.231 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2021-12-11 17:12:25,993 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2021-12-11 17:12:25,994 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:25,997  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2021-12-11 17:12:26,020 TRACE Hibernate Setup Complete.
2021-12-11 17:12:26,021 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2021-12-11 17:12:26,021 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2021-12-11 17:12:26,021 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2021-12-11 17:12:26,059 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2021-12-11 17:12:26,061 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@baf87a5
2021-12-11 17:12:26,062 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2021-12-11 17:12:26,064 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3da8a302
2021-12-11 17:12:26,064 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2021-12-11 17:12:26,064 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@318ca53a
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2021-12-11 17:12:26,066  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:26,066 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:26,066 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3d273300
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.272 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2021-12-11 17:12:26,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:26,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:26,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:26,401 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:26,401 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:26,401 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:26,401 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:26,401 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:26,406  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2021-12-11 17:12:26,511 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2021-12-11 17:12:26,511 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2021-12-11 17:12:26,511 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2021-12-11 17:12:26,512 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2021-12-11 17:12:26,512 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2021-12-11 17:12:26,512 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2021-12-11 17:12:26,512 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2021-12-11 17:12:26,512 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:26,517 TRACE Hibernate Setup Complete.
2021-12-11 17:12:26,517 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:26,517 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:26,517 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:26,518 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:26,518 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:26,518 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:26,518 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:26,518 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:26,518 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:26,518 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:26,518 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:26,518 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:26,518 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:26,520 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:26,522 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:26,527 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:26,529 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@610115e8
2021-12-11 17:12:26,536 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:26,537 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:26,578  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:26,578 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:26,578 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@67441705
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:26,772 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:26,773 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:26,777  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:26,835 TRACE Hibernate Setup Complete.
2021-12-11 17:12:26,835 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:26,835 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:26,835 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:26,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:26,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:26,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:26,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:26,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:26,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:26,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:26,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:26,846 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:26,846 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:26,847 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:26,847 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:26,850 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:26,851 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@79d538c1
2021-12-11 17:12:26,852 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2021-12-11 17:12:26,853 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:26,853 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2021-12-11 17:12:26,862 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6bed8d98
2021-12-11 17:12:26,862  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:26,863 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:26,863 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5ae06c93
2021-12-11 17:12:27,048 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,048 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:27,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,049 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,049 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:27,052  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:27,099 TRACE Hibernate Setup Complete.
2021-12-11 17:12:27,099 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:27,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,099 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,100 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,100 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,100 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,100 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,100 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,100 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,100 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,100 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,101 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,101 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,102 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:27,102 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,104 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,106 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7029653c
2021-12-11 17:12:27,106 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:27,106 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=otherobjec2_.obj_name limit ?
2021-12-11 17:12:27,110 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7e93497d
2021-12-11 17:12:27,111 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:27,111 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name<=otherobjec2_.obj_name limit ?
2021-12-11 17:12:27,114 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4cda8d3b
2021-12-11 17:12:27,114  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:27,114 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:27,115 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b12157b
2021-12-11 17:12:27,300 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,300 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,301 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,301 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:27,301 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,301 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,301 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,301 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:27,305  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:27,345 TRACE Hibernate Setup Complete.
2021-12-11 17:12:27,345 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:27,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,348 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,348 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,348 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:27,349 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,352 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,353 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7a680b69
2021-12-11 17:12:27,354 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:27,365 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1aaab222
2021-12-11 17:12:27,367 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:27,369 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@330888a
2021-12-11 17:12:27,370 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:27,370 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2021-12-11 17:12:27,378 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e58f26d
2021-12-11 17:12:27,379 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:27,379 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2021-12-11 17:12:27,381 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@84398a
2021-12-11 17:12:27,382  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:27,382 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:27,382 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@66a5a12c
2021-12-11 17:12:27,558 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:27,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,559 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,559 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:27,563  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:27,614 TRACE Hibernate Setup Complete.
2021-12-11 17:12:27,615 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:27,615 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,615 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,615 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,615 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,615 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,615 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,615 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,615 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,615 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,615 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,615 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,616 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,616 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:27,616 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,618 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,620 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3fbf4614
2021-12-11 17:12:27,620 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:27,623 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@65fbb726
2021-12-11 17:12:27,624 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:27,624 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2021-12-11 17:12:27,627 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@35950e2
2021-12-11 17:12:27,633  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:27,633 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:27,633 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6c9c375
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,817 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,818 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:27,820  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:27,858 TRACE Hibernate Setup Complete.
2021-12-11 17:12:27,858 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:27,858 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,858 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,858 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:27,858 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:27,859 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,859 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:27,859 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,859 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:27,859 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,859 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:27,859 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,859 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:27,860 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:27,860 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,862 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:27,863 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7bfb9224
2021-12-11 17:12:27,863 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2021-12-11 17:12:27,864 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:27,864 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2021-12-11 17:12:27,868 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7240599c
2021-12-11 17:12:27,869  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:27,869 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:27,869 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7359781c
2021-12-11 17:12:28,010 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,011 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,011 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,011 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:28,011 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,011 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,011 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,011 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:28,013  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:28,051 TRACE Hibernate Setup Complete.
2021-12-11 17:12:28,051 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:28,051 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,052 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,052 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,052 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,052 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,052 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,052 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,052 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,052 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,052 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,052 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,052 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,053 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:28,053 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,055 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,056 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7ebda858
2021-12-11 17:12:28,057 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:28,059 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1a100769
2021-12-11 17:12:28,060 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:28,062 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4c775b94
2021-12-11 17:12:28,063 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2021-12-11 17:12:28,065 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2021-12-11 17:12:28,066 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6ae91e0b
2021-12-11 17:12:28,067  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:28,067 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:28,067 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b7b281
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,208 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,209 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:28,215  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:28,260 TRACE Hibernate Setup Complete.
2021-12-11 17:12:28,260 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:28,260 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,260 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,261 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,261 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,261 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,261 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,261 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,261 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,261 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,261 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,261 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,262 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,262 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:28,263 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,265 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,267 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@715ab10f
2021-12-11 17:12:28,267 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:28,276 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a3ace4
2021-12-11 17:12:28,277 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:28,278 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@345b515e
2021-12-11 17:12:28,279 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2021-12-11 17:12:28,279 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@744f4027
2021-12-11 17:12:28,280 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2021-12-11 17:12:28,283 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5a0b3704
2021-12-11 17:12:28,284 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:28,284 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2021-12-11 17:12:28,289 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6a6fc416
2021-12-11 17:12:28,290 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:28,290 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2021-12-11 17:12:28,294 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4913778f
2021-12-11 17:12:28,295 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:28,295 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2021-12-11 17:12:28,299 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@555bb408
2021-12-11 17:12:28,300  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:28,300 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:28,301 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1cdf48b9
2021-12-11 17:12:28,441 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,441 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,442 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,442 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:28,442 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,442 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,442 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,442 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:28,444  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:28,469 TRACE Hibernate Setup Complete.
2021-12-11 17:12:28,469 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:28,469 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,469 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,470 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,470 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,470 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,470 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,470 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,470 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,470 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,470 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,470 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,470 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,470 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:28,471 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,472 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,473 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@59f7a495
2021-12-11 17:12:28,473 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:28,475 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3269a5c3
2021-12-11 17:12:28,475 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:28,477 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@23cfcd4a
2021-12-11 17:12:28,582 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:28,583 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2021-12-11 17:12:28,588 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@699f5e36
2021-12-11 17:12:28,595  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:28,595 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:28,595 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@55fc6954
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,764 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,765 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:28,767  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:28,801 TRACE Hibernate Setup Complete.
2021-12-11 17:12:28,801 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:28,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,801 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,801 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,802 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,802 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,802 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,802 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,802 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,802 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:28,803 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,804 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:28,807 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7ec77f27
2021-12-11 17:12:28,808 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:28,808 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2021-12-11 17:12:28,810 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2c5241ca
2021-12-11 17:12:28,810  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:28,811 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:28,811 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@34486068
2021-12-11 17:12:28,991 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:28,991 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:28,991 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:28,991 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:28,992 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:28,992 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:28,992 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:28,992 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:28,995  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:29,030 TRACE Hibernate Setup Complete.
2021-12-11 17:12:29,031 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:29,031 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,031 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,031 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,031 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,031 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,031 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,031 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,031 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,031 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,031 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,031 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,031 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,032 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:29,032 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,034 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,036 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7b5d68fc
2021-12-11 17:12:29,036 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2021-12-11 17:12:29,037 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@419ffde3
2021-12-11 17:12:29,038 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:29,040 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@253caf40
2021-12-11 17:12:29,040 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:29,041 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2021-12-11 17:12:29,043 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a192cc6
2021-12-11 17:12:29,044 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:29,044 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2021-12-11 17:12:29,046 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2cee7445
2021-12-11 17:12:29,046  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:29,047 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:29,047 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7acec6db
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,226 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:29,230  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:29,270 TRACE Hibernate Setup Complete.
2021-12-11 17:12:29,270 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:29,270 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,271 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,271 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,272 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:29,272 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,274 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,280 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3f962128
2021-12-11 17:12:29,281 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:29,281 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2021-12-11 17:12:29,284 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4a87c283
2021-12-11 17:12:29,284  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:29,284 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:29,284 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4f1e0c5b
2021-12-11 17:12:29,505 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,505 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,505 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:29,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,506 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,506 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:29,510  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:29,556 TRACE Hibernate Setup Complete.
2021-12-11 17:12:29,556 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:29,556 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,556 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,556 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,556 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,556 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,556 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,556 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,557 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:29,557 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,560 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,561 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@365e2ef6
2021-12-11 17:12:29,562 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:29,562 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2021-12-11 17:12:29,564 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@18db7998
2021-12-11 17:12:29,564  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:29,564 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:29,564 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4fc1f04e
2021-12-11 17:12:29,743 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,743 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,743 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,743 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:29,743 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,746 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,746 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,747 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:29,750  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:29,796 TRACE Hibernate Setup Complete.
2021-12-11 17:12:29,796 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:29,796 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,796 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,796 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,796 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,796 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,797 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,797 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,797 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,797 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,797 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,797 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,797 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,798 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:29,798 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,803 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:29,804 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@74b3f968
2021-12-11 17:12:29,804 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:29,805 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2021-12-11 17:12:29,806 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2ef32703
2021-12-11 17:12:29,807  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:29,807 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:29,807 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@43dbbaf5
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:29,985 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:29,985 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:29,988  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:30,026 TRACE Hibernate Setup Complete.
2021-12-11 17:12:30,027 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:30,027 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,027 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,027 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,027 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,027 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,027 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,027 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,027 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,027 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,027 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,027 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,027 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,028 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:30,028 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,030 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,031 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@38abd486
2021-12-11 17:12:30,031 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2021-12-11 17:12:30,031 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:30,032 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2021-12-11 17:12:30,033 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@653b3345
2021-12-11 17:12:30,033  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:30,033 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:30,034 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@54878611
2021-12-11 17:12:30,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,225 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,226 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,226 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:30,226 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,226 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,226 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,226 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:30,229  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:30,268 TRACE Hibernate Setup Complete.
2021-12-11 17:12:30,268 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:30,268 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,268 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,269 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,269 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,269 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,269 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,269 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,269 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,269 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,269 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,270 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,270 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,271 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:30,271 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,272 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,274 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@49425914
2021-12-11 17:12:30,274 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:30,275 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:30,275 DEBUG IllegalArgumentException causes rollback
2021-12-11 17:12:30,276  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:30,276 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:30,276 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@43d921d3
2021-12-11 17:12:30,467 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,468 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,468 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,468 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:30,468 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,468 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,468 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,469 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:30,471  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:30,521 TRACE Hibernate Setup Complete.
2021-12-11 17:12:30,521 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:30,521 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,521 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,521 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,521 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,521 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,521 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,521 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,522 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,522 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,522 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,522 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,522 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,522 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:30,523 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,524 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,525 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@60c1370f
2021-12-11 17:12:30,526 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:30,540 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@402e88b3
2021-12-11 17:12:30,540 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2021-12-11 17:12:30,542 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6d16b32f
2021-12-11 17:12:30,543 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:30,544 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2021-12-11 17:12:30,548 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@46e71093
2021-12-11 17:12:30,548  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:30,549 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:30,549 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@66c35446
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,724 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,725 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:30,727  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:30,755 TRACE Hibernate Setup Complete.
2021-12-11 17:12:30,756 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:30,756 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,756 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,756 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2021-12-11 17:12:30,756 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2021-12-11 17:12:30,756 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,756 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2021-12-11 17:12:30,756 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,756 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:30,756 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,756 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,756 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,756 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,757 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2021-12-11 17:12:30,757 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,758 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2021-12-11 17:12:30,759 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7a8aa326
2021-12-11 17:12:30,761 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:30,761 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2021-12-11 17:12:30,768 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@18904f72
2021-12-11 17:12:30,768  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:30,768 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:30,768 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@cbb7a27
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.7 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.029 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2021-12-11 17:12:30,976 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,976 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,976 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:30,976 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:30,979  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:30,999 TRACE Hibernate Setup Complete.
2021-12-11 17:12:30,999 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:30,999 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,999 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:30,999 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:30,999 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:31,000 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2021-12-11 17:12:31,001 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@733ca3e8
2021-12-11 17:12:31,001 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2021-12-11 17:12:31,002 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@493fedb8
2021-12-11 17:12:31,003 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:31,003 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:31,003 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:31,003 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_two this_1_ on this_.id=this_1_.id left outer join inherit_one this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2021-12-11 17:12:31,011 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@122e5f4
2021-12-11 17:12:31,012  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:31,012 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:31,012 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4559f51a
2021-12-11 17:12:31,190 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:31,190 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:31,190 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2021-12-11 17:12:31,191 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:31,193  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2021-12-11 17:12:31,225 TRACE Hibernate Setup Complete.
2021-12-11 17:12:31,225 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2021-12-11 17:12:31,225 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:31,225 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2021-12-11 17:12:31,225 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:31,226 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2021-12-11 17:12:31,226 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2021-12-11 17:12:31,227 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@38e77cad
2021-12-11 17:12:31,228 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2021-12-11 17:12:31,229 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@551ecf45
2021-12-11 17:12:31,230 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2021-12-11 17:12:31,231 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3c035820
2021-12-11 17:12:31,231 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2021-12-11 17:12:31,232 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a1d0722
2021-12-11 17:12:31,232  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:31,233 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:31,233 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7d59d23d
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.431 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2021-12-11 17:12:31,413 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,413 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:31,416  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2021-12-11 17:12:31,426 TRACE Hibernate Setup Complete.
2021-12-11 17:12:31,426 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2021-12-11 17:12:31,426 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,426 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,427 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:31,427 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2021-12-11 17:12:31,428 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@33c5b7f5
2021-12-11 17:12:31,428  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:31,428 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:31,428 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@47bfda9e
2021-12-11 17:12:31,560 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,560 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:31,563  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2021-12-11 17:12:31,572 TRACE Hibernate Setup Complete.
2021-12-11 17:12:31,572 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2021-12-11 17:12:31,572 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,572 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,573 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2021-12-11 17:12:31,573 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2021-12-11 17:12:31,574 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1221a708
2021-12-11 17:12:31,574  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:31,575 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:31,575 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5fb18396
2021-12-11 17:12:31,713 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,714 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2021-12-11 17:12:31,721  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2021-12-11 17:12:31,730 TRACE Hibernate Setup Complete.
2021-12-11 17:12:31,731 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2021-12-11 17:12:31,731 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,731 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2021-12-11 17:12:31,731 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2021-12-11 17:12:31,734 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@61781c28
2021-12-11 17:12:31,734  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:31,734 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2021-12-11 17:12:31,734 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2760d9e4
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.499 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest

Results :

Tests run: 55, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.hibernatetest.DbunitModuleTest
2021-12-11 17:12:34,482  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2021-12-11 17:12:35,526 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_immmw5r3yntht63c24psmno0m
2021-12-11 17:12:35,526 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2021-12-11 17:12:35,527 ERROR HHH000389: Unsuccessful: alter table simple_entity_join_table drop constraint FK_f2ec0exlk361s4ww77hdync48
2021-12-11 17:12:35,527 ERROR user lacks privilege or object not found: PUBLIC.SIMPLE_ENTITY_JOIN_TABLE
Hibernate: drop table GroupEntity if exists
Hibernate: drop table SimpleEntity if exists
Hibernate: drop table simple_entity_join_table if exists
Hibernate: create table GroupEntity (id bigint not null, primary key (id))
Hibernate: create table SimpleEntity (id bigint not null, name varchar(255), primary key (id))
Hibernate: create table simple_entity_join_table (simple_id bigint not null, group_id bigint not null, primary key (simple_id, group_id))
Hibernate: alter table simple_entity_join_table add constraint FK_immmw5r3yntht63c24psmno0m foreign key (group_id) references GroupEntity
Hibernate: alter table simple_entity_join_table add constraint FK_f2ec0exlk361s4ww77hdync48 foreign key (simple_id) references SimpleEntity
Dec 11, 2021 5:12:35 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 11, 2021 5:12:35 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 11, 2021 5:12:35 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: select groupentit_.id from GroupEntity groupentit_ where groupentit_.id=?
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into GroupEntity (id) values (?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into SimpleEntity (name, id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Hibernate: insert into simple_entity_join_table (simple_id, group_id) values (?, ?)
Dec 11, 2021 5:12:35 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 11, 2021 5:12:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Dec 11, 2021 5:12:36 PM org.dbunit.dataset.AbstractTableMetaData getDataTypeFactory
WARNING: Potential problem found: The configured data type factory 'class org.dbunit.dataset.datatype.DefaultDataTypeFactory' might cause problems with the current database 'HSQL Database Engine' (e.g. some datatypes may not be supported properly). In rare cases you might see this message because the list of supported database products is incomplete (list=[derby]). If so please request a java-class update via the forums.If you are using your own IDataTypeFactory extending DefaultDataTypeFactory, ensure that you override getValidDbProducts() to specify the supported database products.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.226 sec - in com.peterphi.std.guice.hibernatetest.DbunitModuleTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Running com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
INFO 12/11/21 5:12 PM: liquibase: Successfully acquired change log lock
INFO 12/11/21 5:12 PM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 12/11/21 5:12 PM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: Sequence hibernate_sequence created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::nobody: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::nobody ran successfully in 1ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: Table something created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_tables::nobody: ChangeSet ./000-Original.xml::original_tables::nobody ran successfully in 2ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: Data deleted from something
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::meaningless_delete::nobody: ChangeSet ./000-Original.xml::meaningless_delete::nobody ran successfully in 1ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: New row inserted into something
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::original_data::nobody: ChangeSet ./000-Original.xml::original_data::nobody ran successfully in 1ms
INFO 12/11/21 5:12 PM: liquibase: Successfully released change log lock
2021-12-11 17:12:42,022  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: select this_.id as id1_0_0_, this_.name as name2_0_0_ from something this_
Hibernate: select someentity0_.id as id1_0_0_, someentity0_.name as name2_0_0_ from something someentity0_ where someentity0_.id=?
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.329 sec - in com.peterphi.std.guice.liquibase.hibernate.LiquibaseCoreTest
Running com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.038 sec - in com.peterphi.std.guice.web.rest.service.servicedescription.freemarker.RestServiceInfoTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.carbon.util.mediainfo.MediaInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.252 sec - in com.peterphi.carbon.util.mediainfo.MediaInfoTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building configuration 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ config-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ config-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.configuration.service.git.RepoHelperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.218 sec - in com.peterphi.configuration.service.git.RepoHelperTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.1.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest
2021-12-11 17:12:46,018  INFO Trying to create Guice Injector...
2021-12-11 17:12:46,268  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/test-classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/stdlib/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/common/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/classes/com/peterphi/
2021-12-11 17:12:46,269  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/classes/com/peterphi/
2021-12-11 17:12:46,270  INFO Found source: file:/home/travis/build/passed/petergeneric/stdlib/guice/testing/target/classes/com/peterphi/
2021-12-11 17:12:50,153 DEBUG Discovered new property: dbunit.schema
2021-12-11 17:12:50,207 DEBUG Injector for (app) created in 3955 ms
2021-12-11 17:12:50,207 DEBUG Class scanner stats: insts=1 cached createTime=3126, scanTime=0
2021-12-11 17:12:50,232 DEBUG Discovered new property: hibernate.perform-separate-id-query-for-large-tables
2021-12-11 17:12:50,340 DEBUG Logging Provider: org.jboss.logging.Log4jLoggerProvider
2021-12-11 17:12:50,363 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@3f363cf5
2021-12-11 17:12:50,363 DEBUG Adding type registration boolean -> org.hibernate.type.BooleanType@3f363cf5
2021-12-11 17:12:50,364 DEBUG Adding type registration java.lang.Boolean -> org.hibernate.type.BooleanType@3f363cf5
2021-12-11 17:12:50,365 DEBUG Adding type registration numeric_boolean -> org.hibernate.type.NumericBooleanType@22d6f11
2021-12-11 17:12:50,367 DEBUG Adding type registration true_false -> org.hibernate.type.TrueFalseType@3e34ace1
2021-12-11 17:12:50,368 DEBUG Adding type registration yes_no -> org.hibernate.type.YesNoType@4de41af9
2021-12-11 17:12:50,370 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@62435e70
2021-12-11 17:12:50,370 DEBUG Adding type registration byte -> org.hibernate.type.ByteType@62435e70
2021-12-11 17:12:50,370 DEBUG Adding type registration java.lang.Byte -> org.hibernate.type.ByteType@62435e70
2021-12-11 17:12:50,371 DEBUG Adding type registration character -> org.hibernate.type.CharacterType@3234f74e
2021-12-11 17:12:50,372 DEBUG Adding type registration char -> org.hibernate.type.CharacterType@3234f74e
2021-12-11 17:12:50,372 DEBUG Adding type registration java.lang.Character -> org.hibernate.type.CharacterType@3234f74e
2021-12-11 17:12:50,374 DEBUG Adding type registration short -> org.hibernate.type.ShortType@366ef90e
2021-12-11 17:12:50,374 DEBUG Adding type registration short -> org.hibernate.type.ShortType@366ef90e
2021-12-11 17:12:50,374 DEBUG Adding type registration java.lang.Short -> org.hibernate.type.ShortType@366ef90e
2021-12-11 17:12:50,376 DEBUG Adding type registration integer -> org.hibernate.type.IntegerType@78fb9a67
2021-12-11 17:12:50,376 DEBUG Adding type registration int -> org.hibernate.type.IntegerType@78fb9a67
2021-12-11 17:12:50,376 DEBUG Adding type registration java.lang.Integer -> org.hibernate.type.IntegerType@78fb9a67
2021-12-11 17:12:50,378 DEBUG Adding type registration long -> org.hibernate.type.LongType@6b5894c8
2021-12-11 17:12:50,378 DEBUG Adding type registration long -> org.hibernate.type.LongType@6b5894c8
2021-12-11 17:12:50,378 DEBUG Adding type registration java.lang.Long -> org.hibernate.type.LongType@6b5894c8
2021-12-11 17:12:50,380 DEBUG Adding type registration float -> org.hibernate.type.FloatType@1c80e49b
2021-12-11 17:12:50,381 DEBUG Adding type registration float -> org.hibernate.type.FloatType@1c80e49b
2021-12-11 17:12:50,381 DEBUG Adding type registration java.lang.Float -> org.hibernate.type.FloatType@1c80e49b
2021-12-11 17:12:50,382 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@56f6d40b
2021-12-11 17:12:50,383 DEBUG Adding type registration double -> org.hibernate.type.DoubleType@56f6d40b
2021-12-11 17:12:50,383 DEBUG Adding type registration java.lang.Double -> org.hibernate.type.DoubleType@56f6d40b
2021-12-11 17:12:50,385 DEBUG Adding type registration big_decimal -> org.hibernate.type.BigDecimalType@7b64240d
2021-12-11 17:12:50,386 DEBUG Adding type registration java.math.BigDecimal -> org.hibernate.type.BigDecimalType@7b64240d
2021-12-11 17:12:50,387 DEBUG Adding type registration big_integer -> org.hibernate.type.BigIntegerType@4f2613d1
2021-12-11 17:12:50,388 DEBUG Adding type registration java.math.BigInteger -> org.hibernate.type.BigIntegerType@4f2613d1
2021-12-11 17:12:50,389 DEBUG Adding type registration string -> org.hibernate.type.StringType@426b6a74
2021-12-11 17:12:50,389 DEBUG Adding type registration java.lang.String -> org.hibernate.type.StringType@426b6a74
2021-12-11 17:12:50,390 DEBUG Adding type registration nstring -> org.hibernate.type.StringNVarcharType@773cbf4f
2021-12-11 17:12:50,391 DEBUG Adding type registration ncharacter -> org.hibernate.type.CharacterNCharType@2756c0a7
2021-12-11 17:12:50,392 DEBUG Adding type registration url -> org.hibernate.type.UrlType@5536379e
2021-12-11 17:12:50,393 DEBUG Adding type registration java.net.URL -> org.hibernate.type.UrlType@5536379e
2021-12-11 17:12:50,400 DEBUG Adding type registration date -> org.hibernate.type.DateType@5ddabb18
2021-12-11 17:12:50,400 DEBUG Adding type registration java.sql.Date -> org.hibernate.type.DateType@5ddabb18
2021-12-11 17:12:50,403 DEBUG Adding type registration time -> org.hibernate.type.TimeType@28d6290
2021-12-11 17:12:50,403 DEBUG Adding type registration java.sql.Time -> org.hibernate.type.TimeType@28d6290
2021-12-11 17:12:50,405 DEBUG Adding type registration timestamp -> org.hibernate.type.TimestampType@77602954
2021-12-11 17:12:50,406 DEBUG Adding type registration java.sql.Timestamp -> org.hibernate.type.TimestampType@77602954
2021-12-11 17:12:50,406 DEBUG Adding type registration java.util.Date -> org.hibernate.type.TimestampType@77602954
2021-12-11 17:12:50,409 DEBUG Adding type registration dbtimestamp -> org.hibernate.type.DbTimestampType@34a97744
2021-12-11 17:12:50,410 DEBUG Adding type registration calendar -> org.hibernate.type.CalendarType@6731787b
2021-12-11 17:12:50,411 DEBUG Adding type registration java.util.Calendar -> org.hibernate.type.CalendarType@6731787b
2021-12-11 17:12:50,411 DEBUG Adding type registration java.util.GregorianCalendar -> org.hibernate.type.CalendarType@6731787b
2021-12-11 17:12:50,412 DEBUG Adding type registration calendar_date -> org.hibernate.type.CalendarDateType@34a1d21f
2021-12-11 17:12:50,413 DEBUG Adding type registration locale -> org.hibernate.type.LocaleType@2c104774
2021-12-11 17:12:50,414 DEBUG Adding type registration java.util.Locale -> org.hibernate.type.LocaleType@2c104774
2021-12-11 17:12:50,415 DEBUG Adding type registration currency -> org.hibernate.type.CurrencyType@1d7f7be7
2021-12-11 17:12:50,416 DEBUG Adding type registration java.util.Currency -> org.hibernate.type.CurrencyType@1d7f7be7
2021-12-11 17:12:50,417 DEBUG Adding type registration timezone -> org.hibernate.type.TimeZoneType@34625ccd
2021-12-11 17:12:50,417 DEBUG Adding type registration java.util.TimeZone -> org.hibernate.type.TimeZoneType@34625ccd
2021-12-11 17:12:50,419 DEBUG Adding type registration class -> org.hibernate.type.ClassType@533377b
2021-12-11 17:12:50,419 DEBUG Adding type registration java.lang.Class -> org.hibernate.type.ClassType@533377b
2021-12-11 17:12:50,421 DEBUG Adding type registration uuid-binary -> org.hibernate.type.UUIDBinaryType@59d2103b
2021-12-11 17:12:50,422 DEBUG Adding type registration java.util.UUID -> org.hibernate.type.UUIDBinaryType@59d2103b
2021-12-11 17:12:50,422 DEBUG Adding type registration uuid-char -> org.hibernate.type.UUIDCharType@f6c03cb
2021-12-11 17:12:50,424 DEBUG Adding type registration pg-uuid -> org.hibernate.type.PostgresUUIDType@4c6daf0
2021-12-11 17:12:50,425 DEBUG Adding type registration binary -> org.hibernate.type.BinaryType@55787112
2021-12-11 17:12:50,426 DEBUG Adding type registration byte[] -> org.hibernate.type.BinaryType@55787112
2021-12-11 17:12:50,426 DEBUG Adding type registration [B -> org.hibernate.type.BinaryType@55787112
2021-12-11 17:12:50,427 DEBUG Adding type registration wrapper-binary -> org.hibernate.type.WrapperBinaryType@3f28bd56
2021-12-11 17:12:50,428 DEBUG Adding type registration Byte[] -> org.hibernate.type.WrapperBinaryType@3f28bd56
2021-12-11 17:12:50,428 DEBUG Adding type registration [Ljava.lang.Byte; -> org.hibernate.type.WrapperBinaryType@3f28bd56
2021-12-11 17:12:50,429 DEBUG Adding type registration image -> org.hibernate.type.ImageType@7383eae2
2021-12-11 17:12:50,430 DEBUG Adding type registration characters -> org.hibernate.type.CharArrayType@72a85671
2021-12-11 17:12:50,431 DEBUG Adding type registration char[] -> org.hibernate.type.CharArrayType@72a85671
2021-12-11 17:12:50,431 DEBUG Adding type registration [C -> org.hibernate.type.CharArrayType@72a85671
2021-12-11 17:12:50,432 DEBUG Adding type registration wrapper-characters -> org.hibernate.type.CharacterArrayType@3a94964
2021-12-11 17:12:50,433 DEBUG Adding type registration [Ljava.lang.Character; -> org.hibernate.type.CharacterArrayType@3a94964
2021-12-11 17:12:50,433 DEBUG Adding type registration Character[] -> org.hibernate.type.CharacterArrayType@3a94964
2021-12-11 17:12:50,434 DEBUG Adding type registration text -> org.hibernate.type.TextType@34a75079
2021-12-11 17:12:50,435 DEBUG Adding type registration ntext -> org.hibernate.type.NTextType@2e029d61
2021-12-11 17:12:50,442 DEBUG Adding type registration blob -> org.hibernate.type.BlobType@32f0fba8
2021-12-11 17:12:50,442 DEBUG Adding type registration java.sql.Blob -> org.hibernate.type.BlobType@32f0fba8
2021-12-11 17:12:50,443 DEBUG Adding type registration materialized_blob -> org.hibernate.type.MaterializedBlobType@ab7a938
2021-12-11 17:12:50,448 DEBUG Adding type registration clob -> org.hibernate.type.ClobType@4ebea12c
2021-12-11 17:12:50,448 DEBUG Adding type registration java.sql.Clob -> org.hibernate.type.ClobType@4ebea12c
2021-12-11 17:12:50,452 DEBUG Adding type registration nclob -> org.hibernate.type.NClobType@77192705
2021-12-11 17:12:50,452 DEBUG Adding type registration java.sql.NClob -> org.hibernate.type.NClobType@77192705
2021-12-11 17:12:50,453 DEBUG Adding type registration materialized_clob -> org.hibernate.type.MaterializedClobType@5cc126dc
2021-12-11 17:12:50,453 DEBUG Adding type registration materialized_nclob -> org.hibernate.type.MaterializedNClobType@89c10b7
2021-12-11 17:12:50,455 DEBUG Adding type registration serializable -> org.hibernate.type.SerializableType@1a1da881
2021-12-11 17:12:50,459 DEBUG Adding type registration object -> org.hibernate.type.ObjectType@7b139eab
2021-12-11 17:12:50,459 DEBUG Adding type registration java.lang.Object -> org.hibernate.type.ObjectType@7b139eab
2021-12-11 17:12:50,459 DEBUG Adding type registration imm_date -> org.hibernate.type.AdaptedImmutableType@5f2f577
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_time -> org.hibernate.type.AdaptedImmutableType@6273c5a4
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_timestamp -> org.hibernate.type.AdaptedImmutableType@5d465e4b
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_dbtimestamp -> org.hibernate.type.AdaptedImmutableType@53e211ee
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_calendar -> org.hibernate.type.AdaptedImmutableType@41a90fa8
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_calendar_date -> org.hibernate.type.AdaptedImmutableType@3d8bbcdc
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_binary -> org.hibernate.type.AdaptedImmutableType@52500920
2021-12-11 17:12:50,460 DEBUG Adding type registration imm_serializable -> org.hibernate.type.AdaptedImmutableType@117e0fe5
2021-12-11 17:12:50,487  INFO HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2021-12-11 17:12:50,496  INFO HHH000412: Hibernate Core {4.3.8.Final}
2021-12-11 17:12:50,498  INFO HHH000206: hibernate.properties not found
2021-12-11 17:12:50,499  INFO HHH000021: Bytecode provider name : javassist
2021-12-11 17:12:50,512 DEBUG Registering IdentifierGenerator strategy [uuid2] -> [org.hibernate.id.UUIDGenerator]
2021-12-11 17:12:50,513 DEBUG Registering IdentifierGenerator strategy [guid] -> [org.hibernate.id.GUIDGenerator]
2021-12-11 17:12:50,513 DEBUG Registering IdentifierGenerator strategy [uuid] -> [org.hibernate.id.UUIDHexGenerator]
2021-12-11 17:12:50,514 DEBUG Registering IdentifierGenerator strategy [uuid.hex] -> [org.hibernate.id.UUIDHexGenerator]
2021-12-11 17:12:50,525 DEBUG Registering IdentifierGenerator strategy [hilo] -> [org.hibernate.id.TableHiLoGenerator]
2021-12-11 17:12:50,526 DEBUG Registering IdentifierGenerator strategy [assigned] -> [org.hibernate.id.Assigned]
2021-12-11 17:12:50,528 DEBUG Registering IdentifierGenerator strategy [identity] -> [org.hibernate.id.IdentityGenerator]
2021-12-11 17:12:50,528 DEBUG Registering IdentifierGenerator strategy [select] -> [org.hibernate.id.SelectGenerator]
2021-12-11 17:12:50,529 DEBUG Registering IdentifierGenerator strategy [sequence] -> [org.hibernate.id.SequenceGenerator]
2021-12-11 17:12:50,529 DEBUG Registering IdentifierGenerator strategy [seqhilo] -> [org.hibernate.id.SequenceHiLoGenerator]
2021-12-11 17:12:50,530 DEBUG Registering IdentifierGenerator strategy [increment] -> [org.hibernate.id.IncrementGenerator]
2021-12-11 17:12:50,530 DEBUG Registering IdentifierGenerator strategy [foreign] -> [org.hibernate.id.ForeignGenerator]
2021-12-11 17:12:50,531 DEBUG Registering IdentifierGenerator strategy [sequence-identity] -> [org.hibernate.id.SequenceIdentityGenerator]
2021-12-11 17:12:50,532 DEBUG Registering IdentifierGenerator strategy [enhanced-sequence] -> [org.hibernate.id.enhanced.SequenceStyleGenerator]
2021-12-11 17:12:50,533 DEBUG Registering IdentifierGenerator strategy [enhanced-table] -> [org.hibernate.id.enhanced.TableGenerator]
2021-12-11 17:12:50,546 DEBUG Adding type registration java.util.Date -> org.hibernate.type.CustomType@114a85c2
2021-12-11 17:12:50,547  INFO HHH000270: Type registration [java.util.Date] overrides previous : org.hibernate.type.TimestampType@77602954
2021-12-11 17:12:50,548 DEBUG Adding type registration org.joda.time.DateTime -> org.hibernate.type.CustomType@f415a95
2021-12-11 17:12:50,549 DEBUG Adding type registration com.peterphi.std.types.Timecode -> org.hibernate.type.CustomType@cf65451
2021-12-11 17:12:50,550 DEBUG Adding type registration com.peterphi.std.types.SampleCount -> org.hibernate.type.CustomType@724f138e
2021-12-11 17:12:50,550 DEBUG Adding type registration org.joda.time.LocalDate -> org.hibernate.type.CustomType@37eeec90
2021-12-11 17:12:50,556 DEBUG Execute called: UPDATE
2021-12-11 17:12:50,566 DEBUG Create JDBC Connection directly: jdbc:hsqldb:mem:testdb
2021-12-11 17:12:51,843 DEBUG Execute liquibase action: UPDATE
INFO 12/11/21 5:12 PM: liquibase: Successfully acquired change log lock
INFO 12/11/21 5:12 PM: liquibase: Creating database history table with name: PUBLIC.DATABASECHANGELOG
INFO 12/11/21 5:12 PM: liquibase: Reading from PUBLIC.DATABASECHANGELOG
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: Sequence hibernate_sequence created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com: ChangeSet ./000-Original.xml::pk_sequence_on_supported_dbs::peter@peterphi.com ran successfully in 6ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Table user_account created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: Unique constraint added to user_account(email)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_user_account::peter@peterphi.com: ChangeSet ./000-Original.xml::create_user_account::peter@peterphi.com ran successfully in 9ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table role_definition created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Table user_has_role created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (user_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Foreign key constraint added to user_has_role (role_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: Primary key added to user_has_role (user_id, role_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: New row inserted into role_definition
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::add_role_definition_table::peter@peterphi.com: ChangeSet ./000-Original.xml::add_role_definition_table::peter@peterphi.com ran successfully in 16ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_service created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session_context created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: Table oauth_session created
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_tables::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_tables::peter@peterphi.com ran successfully in 11ms
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_service (owner_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (service_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session_context (user_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: Foreign key constraint added to oauth_session (context_id)
INFO 12/11/21 5:12 PM: liquibase: /liquibase/changelog.xml: ./000-Original.xml::create_oauth_constraints::peter@peterphi.com: ChangeSet ./000-Original.xml::create_oauth_constraints::peter@peterphi.com ran successfully in 8ms
INFO 12/11/21 5:12 PM: liquibase: Successfully released change log lock
2021-12-11 17:12:53,107 DEBUG Register for shutdown: com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@53ed09e8
2021-12-11 17:12:53,119 DEBUG Adding Integrator [org.hibernate.cfg.beanvalidation.BeanValidationIntegrator].
2021-12-11 17:12:53,121 DEBUG Adding Integrator [org.hibernate.secure.spi.JaccIntegrator].
2021-12-11 17:12:53,123 DEBUG Adding Integrator [org.hibernate.cache.internal.CollectionCacheInvalidator].
2021-12-11 17:12:53,139 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5] -> [org.hibernate.dialect.MySQL5Dialect] (replacing [org.hibernate.dialect.MySQL5Dialect])
2021-12-11 17:12:53,139 DEBUG Registering named strategy selector [org.hibernate.dialect.Dialect] : [MySQL5InnoDB] -> [org.hibernate.dialect.MySQL5InnoDBDialect] (replacing [org.hibernate.dialect.MySQL5InnoDBDialect])
2021-12-11 17:12:53,187 DEBUG Overriding existing service binding [org.hibernate.secure.spi.JaccService]
2021-12-11 17:12:53,187 DEBUG Preparing to build session factory with filters : {}
2021-12-11 17:12:53,196  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
2021-12-11 17:12:53,197  INFO HHH000401: using driver [org.hsqldb.jdbcDriver] at URL [jdbc:hsqldb:mem:testdb]
2021-12-11 17:12:53,198  INFO HHH000046: Connection properties: {user=sa, password=, readOnly=false}
2021-12-11 17:12:53,198  INFO HHH000006: Autocommit mode: false
2021-12-11 17:12:53,199  INFO HHH000115: Hibernate connection pool size: 20 (min=1)
2021-12-11 17:12:53,199 DEBUG Initializing Connection pool with 1 Connections
2021-12-11 17:12:53,208 DEBUG Database ->
       name : HSQL Database Engine
    version : 2.3.2
      major : 2
      minor : 3
2021-12-11 17:12:53,209 DEBUG Driver ->
       name : HSQL Database Engine Driver
    version : 2.3.2
      major : 2
      minor : 3
2021-12-11 17:12:53,209 DEBUG JDBC version : 4.0
2021-12-11 17:12:53,211 DEBUG Unexpected error trying to gauge level of JDBC REF_CURSOR support : null
2021-12-11 17:12:53,230  INFO HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2021-12-11 17:12:53,283 DEBUG Processing hbm.xml files
2021-12-11 17:12:53,284 DEBUG Process annotated classes
2021-12-11 17:12:53,289 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,321 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-11 17:12:53,323 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-11 17:12:53,332 DEBUG Import with entity name user_account
2021-12-11 17:12:53,339 DEBUG Bind entity com.peterphi.usermanager.db.entity.UserEntity on table user_account
2021-12-11 17:12:53,371 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,376 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-11 17:12:53,378 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:id]
2021-12-11 17:12:53,380 DEBUG building SimpleValue for id
2021-12-11 17:12:53,382 DEBUG Building property id
2021-12-11 17:12:53,387 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,387 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-11 17:12:53,387 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:created]
2021-12-11 17:12:53,387 DEBUG building SimpleValue for created
2021-12-11 17:12:53,387 DEBUG Building property created
2021-12-11 17:12:53,387 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_format, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,388 DEBUG MetadataSourceProcessor property dateFormat with lazy=false
2021-12-11 17:12:53,388 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:dateFormat]
2021-12-11 17:12:53,388 DEBUG building SimpleValue for dateFormat
2021-12-11 17:12:53,388 DEBUG Building property dateFormat
2021-12-11 17:12:53,388 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=email, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,388 DEBUG MetadataSourceProcessor property email with lazy=false
2021-12-11 17:12:53,388 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:email]
2021-12-11 17:12:53,388 DEBUG building SimpleValue for email
2021-12-11 17:12:53,388 DEBUG Building property email
2021-12-11 17:12:53,390 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=last_login_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,391 DEBUG MetadataSourceProcessor property lastLogin with lazy=false
2021-12-11 17:12:53,391 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:lastLogin]
2021-12-11 17:12:53,391 DEBUG building SimpleValue for lastLogin
2021-12-11 17:12:53,391 DEBUG Building property lastLogin
2021-12-11 17:12:53,391 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=name, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,391 DEBUG MetadataSourceProcessor property name with lazy=false
2021-12-11 17:12:53,391 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:name]
2021-12-11 17:12:53,391 DEBUG building SimpleValue for name
2021-12-11 17:12:53,391 DEBUG Building property name
2021-12-11 17:12:53,391 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=password, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,392 DEBUG MetadataSourceProcessor property password with lazy=false
2021-12-11 17:12:53,392 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:password]
2021-12-11 17:12:53,392 DEBUG building SimpleValue for password
2021-12-11 17:12:53,392 DEBUG Building property password
2021-12-11 17:12:53,393 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=null, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,406 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=element, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,407 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=roles_KEY, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,409 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='roles_KEY', referencedColumn='null', mappedBy='null'}
2021-12-11 17:12:53,412 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2021-12-11 17:12:53,412 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='null', referencedColumn='null', mappedBy='members'}
2021-12-11 17:12:53,413 DEBUG Collection role: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-11 17:12:53,416 DEBUG Building property roles
2021-12-11 17:12:53,417 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=local_session_id, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,417 DEBUG MetadataSourceProcessor property sessionReconnectKey with lazy=false
2021-12-11 17:12:53,417 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:sessionReconnectKey]
2021-12-11 17:12:53,417 DEBUG building SimpleValue for sessionReconnectKey
2021-12-11 17:12:53,417 DEBUG Building property sessionReconnectKey
2021-12-11 17:12:53,418 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(user_account), mappingColumn=date_timezone, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,418 DEBUG MetadataSourceProcessor property timeZone with lazy=false
2021-12-11 17:12:53,418 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.UserEntity:timeZone]
2021-12-11 17:12:53,418 DEBUG building SimpleValue for timeZone
2021-12-11 17:12:53,418 DEBUG Building property timeZone
2021-12-11 17:12:53,420 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.RoleEntity
2021-12-11 17:12:53,420 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-11 17:12:53,420 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-11 17:12:53,420 DEBUG Import with entity name role_definition
2021-12-11 17:12:53,420 DEBUG Bind entity com.peterphi.usermanager.db.entity.RoleEntity on table role_definition
2021-12-11 17:12:53,430 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,430 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-11 17:12:53,430 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:id]
2021-12-11 17:12:53,430 DEBUG building SimpleValue for id
2021-12-11 17:12:53,430 DEBUG Building property id
2021-12-11 17:12:53,430 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=caption, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,430 DEBUG MetadataSourceProcessor property caption with lazy=false
2021-12-11 17:12:53,430 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.RoleEntity:caption]
2021-12-11 17:12:53,431 DEBUG building SimpleValue for caption
2021-12-11 17:12:53,431 DEBUG Building property caption
2021-12-11 17:12:53,431 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=null, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,431 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=element, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,431 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(role_definition), mappingColumn=members_KEY, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,431 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='members_KEY', referencedColumn='null', mappedBy='null'}
2021-12-11 17:12:53,432 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='role_id', referencedColumn='id', mappedBy=''}
2021-12-11 17:12:53,432 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='id', mappedBy=''}
2021-12-11 17:12:53,433 DEBUG Collection role: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-11 17:12:53,433 DEBUG Building property members
2021-12-11 17:12:53,433 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-11 17:12:53,433 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-11 17:12:53,433 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-11 17:12:53,433 DEBUG Import with entity name oauth_session
2021-12-11 17:12:53,433 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionEntity on table oauth_session
2021-12-11 17:12:53,438 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,438 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-11 17:12:53,438 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:id]
2021-12-11 17:12:53,438 DEBUG building SimpleValue for id
2021-12-11 17:12:53,439 DEBUG Building property id
2021-12-11 17:12:53,439 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,439 DEBUG MetadataSourceProcessor property alive with lazy=false
2021-12-11 17:12:53,439 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:alive]
2021-12-11 17:12:53,439 DEBUG building SimpleValue for alive
2021-12-11 17:12:53,439 DEBUG Building property alive
2021-12-11 17:12:53,439 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=authorisation_code, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,439 DEBUG MetadataSourceProcessor property authorisationCode with lazy=false
2021-12-11 17:12:53,440 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:authorisationCode]
2021-12-11 17:12:53,440 DEBUG building SimpleValue for authorisationCode
2021-12-11 17:12:53,440 DEBUG Building property authorisationCode
2021-12-11 17:12:53,440 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='context_id', referencedColumn='', mappedBy=''}
2021-12-11 17:12:53,440 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=context, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,443 DEBUG Building property context
2021-12-11 17:12:53,443 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,443 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-11 17:12:53,444 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:created]
2021-12-11 17:12:53,444 DEBUG building SimpleValue for created
2021-12-11 17:12:53,444 DEBUG Building property created
2021-12-11 17:12:53,444 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=expires_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,444 DEBUG MetadataSourceProcessor property expires with lazy=false
2021-12-11 17:12:53,444 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:expires]
2021-12-11 17:12:53,444 DEBUG building SimpleValue for expires
2021-12-11 17:12:53,445 DEBUG Building property expires
2021-12-11 17:12:53,445 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=initiator_detail, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,445 DEBUG MetadataSourceProcessor property initiator with lazy=false
2021-12-11 17:12:53,445 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:initiator]
2021-12-11 17:12:53,445 DEBUG building SimpleValue for initiator
2021-12-11 17:12:53,445 DEBUG Building property initiator
2021-12-11 17:12:53,445 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=current_token, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,445 DEBUG MetadataSourceProcessor property token with lazy=false
2021-12-11 17:12:53,445 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:token]
2021-12-11 17:12:53,445 DEBUG building SimpleValue for token
2021-12-11 17:12:53,445 DEBUG Building property token
2021-12-11 17:12:53,446 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,446 DEBUG MetadataSourceProcessor property updated with lazy=false
2021-12-11 17:12:53,446 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionEntity:updated]
2021-12-11 17:12:53,446 DEBUG building SimpleValue for updated
2021-12-11 17:12:53,446 DEBUG Building property updated
2021-12-11 17:12:53,447 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-11 17:12:53,447 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-11 17:12:53,447 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-11 17:12:53,447 DEBUG Import with entity name oauth_session_context
2021-12-11 17:12:53,447 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity on table oauth_session_context
2021-12-11 17:12:53,449 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,449 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-11 17:12:53,450 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:id]
2021-12-11 17:12:53,450 DEBUG building SimpleValue for id
2021-12-11 17:12:53,450 DEBUG Building property id
2021-12-11 17:12:53,450 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=is_active, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,450 DEBUG MetadataSourceProcessor property active with lazy=false
2021-12-11 17:12:53,450 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:active]
2021-12-11 17:12:53,451 DEBUG building SimpleValue for active
2021-12-11 17:12:53,451 DEBUG Building property active
2021-12-11 17:12:53,451 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,451 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-11 17:12:53,451 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:created]
2021-12-11 17:12:53,451 DEBUG building SimpleValue for created
2021-12-11 17:12:53,451 DEBUG Building property created
2021-12-11 17:12:53,451 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=approved_scope, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,451 DEBUG MetadataSourceProcessor property scope with lazy=false
2021-12-11 17:12:53,451 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:scope]
2021-12-11 17:12:53,451 DEBUG building SimpleValue for scope
2021-12-11 17:12:53,451 DEBUG Building property scope
2021-12-11 17:12:53,452 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='service_id', referencedColumn='', mappedBy=''}
2021-12-11 17:12:53,452 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=service, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,452 DEBUG Building property service
2021-12-11 17:12:53,452 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,452 DEBUG MetadataSourceProcessor property updated with lazy=false
2021-12-11 17:12:53,452 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthSessionContextEntity:updated]
2021-12-11 17:12:53,452 DEBUG building SimpleValue for updated
2021-12-11 17:12:53,452 DEBUG Building property updated
2021-12-11 17:12:53,452 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='user_id', referencedColumn='', mappedBy=''}
2021-12-11 17:12:53,452 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_session_context), mappingColumn=user, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,453 DEBUG Building property user
2021-12-11 17:12:53,453 DEBUG Binding entity from annotated class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-11 17:12:53,453 DEBUG Binding column: Ejb3DiscriminatorColumn{logicalColumnName'DTYPE', discriminatorTypeName='string'}
2021-12-11 17:12:53,453 DEBUG No value specified for 'javax.persistence.sharedCache.mode'; using UNSPECIFIED
2021-12-11 17:12:53,453 DEBUG Import with entity name oauth_service
2021-12-11 17:12:53,453 DEBUG Bind entity com.peterphi.usermanager.db.entity.OAuthServiceEntity on table oauth_service
2021-12-11 17:12:53,454 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=id, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,455 DEBUG MetadataSourceProcessor property id with lazy=false
2021-12-11 17:12:53,455 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:id]
2021-12-11 17:12:53,455 DEBUG building SimpleValue for id
2021-12-11 17:12:53,455 DEBUG Building property id
2021-12-11 17:12:53,455 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_secret, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,455 DEBUG MetadataSourceProcessor property clientSecret with lazy=false
2021-12-11 17:12:53,455 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:clientSecret]
2021-12-11 17:12:53,455 DEBUG building SimpleValue for clientSecret
2021-12-11 17:12:53,455 DEBUG Building property clientSecret
2021-12-11 17:12:53,456 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=created_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,456 DEBUG MetadataSourceProcessor property created with lazy=false
2021-12-11 17:12:53,456 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:created]
2021-12-11 17:12:53,456 DEBUG building SimpleValue for created
2021-12-11 17:12:53,456 DEBUG Building property created
2021-12-11 17:12:53,456 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=is_enabled, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,456 DEBUG MetadataSourceProcessor property enabled with lazy=false
2021-12-11 17:12:53,456 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:enabled]
2021-12-11 17:12:53,456 DEBUG building SimpleValue for enabled
2021-12-11 17:12:53,456 DEBUG Building property enabled
2021-12-11 17:12:53,456 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_endpoints, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,456 DEBUG MetadataSourceProcessor property endpoints with lazy=false
2021-12-11 17:12:53,456 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:endpoints]
2021-12-11 17:12:53,457 DEBUG building SimpleValue for endpoints
2021-12-11 17:12:53,457 DEBUG Building property endpoints
2021-12-11 17:12:53,457 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=client_name, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,457 DEBUG MetadataSourceProcessor property name with lazy=false
2021-12-11 17:12:53,457 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:name]
2021-12-11 17:12:53,457 DEBUG building SimpleValue for name
2021-12-11 17:12:53,457 DEBUG Building property name
2021-12-11 17:12:53,457 DEBUG Binding column: Ejb3JoinColumn{logicalColumnName='owner_id', referencedColumn='', mappedBy=''}
2021-12-11 17:12:53,457 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=owner, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,457 DEBUG Building property owner
2021-12-11 17:12:53,457 DEBUG Binding column: Ejb3Column{table=org.hibernate.mapping.Table(oauth_service), mappingColumn=updated_ts, insertable=true, updatable=true, unique=false}
2021-12-11 17:12:53,458 DEBUG MetadataSourceProcessor property updated with lazy=false
2021-12-11 17:12:53,458 DEBUG Attempting to locate auto-apply AttributeConverter for property [com.peterphi.usermanager.db.entity.OAuthServiceEntity:updated]
2021-12-11 17:12:53,458 DEBUG building SimpleValue for updated
2021-12-11 17:12:53,458 DEBUG Building property updated
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for id
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for created
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for dateFormat
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for email
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for lastLogin
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for name
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for password
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for sessionReconnectKey
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for timeZone
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for id
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for caption
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for id
2021-12-11 17:12:53,459 DEBUG Starting fillSimpleValue for alive
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for authorisationCode
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for created
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for expires
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for initiator
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for token
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for updated
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for id
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for active
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for created
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for scope
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for updated
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for id
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for clientSecret
2021-12-11 17:12:53,460 DEBUG Starting fillSimpleValue for created
2021-12-11 17:12:53,461 DEBUG Starting fillSimpleValue for enabled
2021-12-11 17:12:53,461 DEBUG Starting fillSimpleValue for endpoints
2021-12-11 17:12:53,461 DEBUG Starting fillSimpleValue for name
2021-12-11 17:12:53,461 DEBUG Starting fillSimpleValue for updated
2021-12-11 17:12:53,462 DEBUG Processing fk mappings (*ToOne and JoinedSubclass)
2021-12-11 17:12:53,472 DEBUG Processing extends queue
2021-12-11 17:12:53,472 DEBUG Processing extends queue
2021-12-11 17:12:53,472 DEBUG Processing collection mappings
2021-12-11 17:12:53,472 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-11 17:12:53,473 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-11 17:12:53,478 DEBUG Mapped collection key: role_id, element: user_id
2021-12-11 17:12:53,479 DEBUG Second pass for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-11 17:12:53,479 DEBUG Binding as ManyToMany: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-11 17:12:53,480 DEBUG Retrieving property com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-11 17:12:53,480 DEBUG Mapped collection key: user_id, element: role_id
2021-12-11 17:12:53,480 DEBUG Processing native query and ResultSetMapping mappings
2021-12-11 17:12:53,480 DEBUG Processing association property references
2021-12-11 17:12:53,480 DEBUG Creating tables' unique integer identifiers
2021-12-11 17:12:53,480 DEBUG Processing foreign key constraints
2021-12-11 17:12:53,480 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,480 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-11 17:12:53,480 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-11 17:12:53,480 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,480 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,480 DEBUG Resolving reference to class: com.peterphi.usermanager.db.entity.RoleEntity
2021-12-11 17:12:53,488 DEBUG No JtaPlatform was specified, checking resolver
2021-12-11 17:12:53,489 DEBUG No JtaPlatformResolver was specified, using default [org.hibernate.engine.transaction.jta.platform.internal.StandardJtaPlatformResolver]
2021-12-11 17:12:53,494 DEBUG Could not resolve JtaPlatform, using default [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-11 17:12:53,498 DEBUG Automatic flush during beforeCompletion(): disabled
2021-12-11 17:12:53,500 DEBUG Automatic session close at end of transaction: disabled
2021-12-11 17:12:53,500 DEBUG JDBC batch size: 15
2021-12-11 17:12:53,500 DEBUG JDBC batch updates for versioned data: disabled
2021-12-11 17:12:53,500 DEBUG Scrollable result sets: enabled
2021-12-11 17:12:53,501 DEBUG Wrap result sets: disabled
2021-12-11 17:12:53,501 DEBUG JDBC3 getGeneratedKeys(): enabled
2021-12-11 17:12:53,501 DEBUG multi-tenancy strategy : NONE
2021-12-11 17:12:53,501 DEBUG Connection release mode: auto
2021-12-11 17:12:53,501  INFO HHH000399: Using default transaction strategy (direct JDBC transactions)
2021-12-11 17:12:53,504 DEBUG Using BatchFetchStyle : LEGACY
2021-12-11 17:12:53,506 DEBUG Default batch fetch size: 1
2021-12-11 17:12:53,506 DEBUG Generate SQL with comments: disabled
2021-12-11 17:12:53,506 DEBUG Order SQL updates by primary key: disabled
2021-12-11 17:12:53,506 DEBUG Order SQL inserts for batching: disabled
2021-12-11 17:12:53,506 DEBUG Default null ordering: none
2021-12-11 17:12:53,507 DEBUG Query translator: org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory
2021-12-11 17:12:53,509  INFO HHH000397: Using ASTQueryTranslatorFactory
2021-12-11 17:12:53,510 DEBUG Query language substitutions: {}
2021-12-11 17:12:53,510 DEBUG JPA-QL strict compliance: disabled
2021-12-11 17:12:53,510 DEBUG Second-level cache: enabled
2021-12-11 17:12:53,510 DEBUG Query cache: disabled
2021-12-11 17:12:53,511 DEBUG Cache region factory : org.hibernate.cache.internal.NoCachingRegionFactory
2021-12-11 17:12:53,515 DEBUG Optimize cache for minimal puts: disabled
2021-12-11 17:12:53,516 DEBUG Structured second-level cache entries: disabled
2021-12-11 17:12:53,516 DEBUG Second-level cache direct-reference entries: disabled
2021-12-11 17:12:53,516 DEBUG Automatic eviction of collection cache: disabled
2021-12-11 17:12:53,516 DEBUG Statistics: disabled
2021-12-11 17:12:53,516 DEBUG Deleted entity synthetic identifier rollback: disabled
2021-12-11 17:12:53,516 DEBUG Default entity-mode: pojo
2021-12-11 17:12:53,516 DEBUG Named query checking : enabled
2021-12-11 17:12:53,516 DEBUG Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2021-12-11 17:12:53,516 DEBUG Allow initialization of lazy state outside session : : disabled
2021-12-11 17:12:53,517 DEBUG JTA Track by Thread: enabled
2021-12-11 17:12:53,529 DEBUG Building session factory
2021-12-11 17:12:53,544 DEBUG Session factory constructed with filter configurations : {}
2021-12-11 17:12:53,545 DEBUG Instantiating session factory with properties: {container=docker, file.encoding.pkg=sun.io, rvm_version=1.26.8 (1.26.8), hibernate.connection.username=sa, nvm_dir=/home/travis/.nvm, java.home=/usr/lib/jvm/java-8-oracle/jre, travis_pull_request_branch=, travis_app_host=, rvm_bin_path=/home/travis/.rvm/bin, composer_no_interaction=1, nvm_bin=/home/travis/.nvm/v0.10.36/bin, framework.webauth.provider=user-manager, java.endorsed.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/endorsed, travis_job_number=, pwd=/home/travis/build/passed/petergeneric/stdlib/user-manager/service, travis_job_name=, hostname=e4855414a9b5, ansi_clear=\033[0K, sun.os.patch.level=unknown, hibernate.connection.readOnly=false, java.vendor.url=http://java.oracle.com/, authentication.allowAnonymousRegistration=true, ansi_yellow=\033[33;1m, java.version=1.8.0_31, goroot=/home/travis/.gimme/versions/go1.4.1.linux.amd64, log4j.appender.logconsole.layout=org.apache.log4j.PatternLayout, travis_test_result=, travis_event_type=, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, travis_tmpdir=/tmp/tmp.OdnspyXW2D, guice.bootstrap.class=com.peterphi.usermanager.guice.UserManagerSetup, unit-test=true, travis_osx_image=, user.name=travis, hibernate.allow-hbm2ddl-create=true, rvm_path=/home/travis/.rvm, sun.io.unicode.encoding=UnicodeLittle, nlspath=/usr/dt/lib/nls/msg/%L/%N.cat, travis_cpu_arch=amd64, sun.jnu.encoding=UTF-8, java.runtime.name=Java(TM) SE Runtime Environment, ui.simpleexceptions.enabled=true, travis_tag=, debian_frontend=noninteractive, nvm_iojs_org_mirror=https://iojs.org/dist, term=xterm, xfilesearchpath=/usr/dt/app-defaults/%L/Dt, surefire.test.class.path=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/passed/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/passed/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, travis_build_web_url=https:///petergeneric/stdlib/builds/, java_home=/usr/lib/jvm/java-8-oracle, travis_infra=unknown, java.specification.name=Java Platform API Specification, path=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, user.timezone=Etc/UTC, merb_env=test, path.separator=:, _system_type=Linux, file.encoding=UTF-8, gem_path=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global, travis_branch=, rvm_prefix=/home/travis, sun.java.command=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter4266856703339345072.jar /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefire3193435482955475712tmp /home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefire_91141540732161970875tmp, nvm_iojs_org_version_listing=https://iojs.org/dist/index.tab, shlvl=2, git_askpass=echo, hibernate.connection.url=jdbc:hsqldb:mem:testdb, java.io.tmpdir=/tmp, rails_env=test, user.language=en, travis_build_stage_name=, travis_apt_proxy=, line.separator=
, user=travis, travis_allow_failure=, _system_version=12.04, travis_os_name=linux, java.vm.info=mixed mode, jruby_opts=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false, java.vm.specification.name=Java Virtual Machine Specification, localRepository=/home/travis/.m2/repository, casher_dir=/home/travis/.casher, travis_commit_range=, _system_name=Ubuntu, nvm_nodejs_org_mirror=https://nodejs.org/dist, has_antares_three_little_fronzies_badge=true, ruby_version=ruby-1.9.3-p551, log4j.rootCategory=WARN\, logconsole, maven_cmd_line_args=test -B, travis_pull_request=false, rack_env=test, java.awt.printerjob=sun.print.PSPrinterJob, ui.hero.enabled=true, travis_dist=precise, log4j.appender.logconsole=org.apache.log4j.ConsoleAppender, liquibase.changelog=/liquibase/changelog.xml, travis_pull_request_sha=, hibernate.properties=embedded, travis_secure_env_vars=false, log4j.properties=embedded, os.name=Linux, java.specification.vendor=Oracle Corporation, my_ruby_home=/home/travis/.rvm/rubies/ruby-1.9.3-p551, pager=cat, ps4=+, maven_opts=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, java.library.path=/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib, travis_job_id=, continuous_integration=true, travis_arch=amd64, basedir=/home/travis/build/passed/petergeneric/stdlib/user-manager/service, rvm_autoupdate_flag=0, java.class.version=52.0, travis_timer_id=1a210a24, log4j.appender.logconsole.layout.ConversionPattern=%d{ISO8601} %5p %m%n, travis_build_number=, m2_home=/usr/local/maven, travis_repo_slug=petergeneric/stdlib, travis_job_web_url=https:///petergeneric/stdlib/jobs/, travis_internal_ruby_regex=^ruby-(2\.[0-4]\.[0-9]|1\.9\.3), sun.boot.library.path=/usr/lib/jvm/java-8-oracle/jre/lib/amd64, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, scan.packages=com.peterphi.usermanager, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, travis_jdk_version=oraclejdk8, shell=/bin/bash, java.vm.specification.version=1.8, ci=true, irbrc=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc, travis_commit_message=Instead of making the CurrentUser available on the HTTP Session, make it available through the currentUser templater variable (which also means the templater won't be calling CurrentUser methods directly, and as such we don't have to worry about OGNL having problems accessing default implementations of interface methods as if they were properties, which it still seems to have trouble with), hibernate.bytecode.use_reflection_optimizer=false, awt.toolkit=sun.awt.X11.XToolkit, hibernate.connection.password=, travis_pull_request_slug=, sun.cpu.isalist=, _system_arch=x86_64, hibernate.show_sql=false, java.ext.dirs=/usr/lib/jvm/java-8-oracle/jre/lib/ext:/usr/java/packages/lib/ext, manpath=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man, os.version=4.15.0-109-generic, user.home=/home/travis, _=/usr/local/maven-3.2.5/bin/mvn, java.vm.vendor=Oracle Corporation, apt_key_dont_warn_on_dangerous_usage=1, travis_root=/, user.dir=/home/travis/build/passed/petergeneric/stdlib/user-manager/service, hibernate.dialect=org.hibernate.dialect.HSQLDialect, sun.cpu.endian=little, travis_home=/home/travis, travis_init=upstart, java.vm.version=25.31-b07, travis_sudo=true, java.class.path=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/test-classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/classes:/home/travis/build/passed/petergeneric/stdlib/user-manager/api/target/classes:/home/travis/build/passed/petergeneric/stdlib/stdlib/target/classes:/home/travis/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/travis/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.moxy/2.6.2/org.eclipse.persistence.moxy-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.core/2.6.2/org.eclipse.persistence.core-2.6.2.jar:/home/travis/.m2/repository/org/eclipse/persistence/org.eclipse.persistence.asm/2.6.2/org.eclipse.persistence.asm-2.6.2.jar:/home/travis/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:/home/travis/.m2/repository/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/common/target/classes:/home/travis/.m2/repository/ognl/ognl/3.1.10/ognl-3.1.10.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/home/travis/.m2/repository/org/apache/httpcomponents/httpcore/4.4.4/httpcore-4.4.4.jar:/home/travis/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-client/3.0.18.Final/resteasy-client-3.0.18.Final.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-core/3.0.2/metrics-core-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-healthchecks/3.0.2/metrics-healthchecks-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-jvm/3.0.2/metrics-jvm-3.0.2.jar:/home/travis/.m2/repository/com/codahale/metrics/metrics-log4j/3.0.2/metrics-log4j-3.0.2.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxrs/3.0.18.Final/resteasy-jaxrs-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/ws/rs/jboss-jaxrs-api_2.0_spec/1.0.0.Final/jboss-jaxrs-api_2.0_spec-1.0.0.Final.jar:/home/travis/.m2/repository/org/jboss/spec/javax/annotation/jboss-annotations-api_1.2_spec/1.0.0.Final/jboss-annotations-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/travis/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging/3.1.4.GA/jboss-logging-3.1.4.GA.jar:/home/travis/build/passed/petergeneric/stdlib/guice/webapp/target/classes:/home/travis/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar:/home/travis/.m2/repository/com/auth0/java-jwt/2.1.0/java-jwt-2.1.0.jar:/home/travis/.m2/repository/org/thymeleaf/thymeleaf/2.1.4.RELEASE/thymeleaf-2.1.4.RELEASE.jar:/home/travis/.m2/repository/org/unbescape/unbescape/1.1.0.RELEASE/unbescape-1.1.0.RELEASE.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jaxb-provider/3.0.18.Final/resteasy-jaxb-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/jboss/resteasy/resteasy-jettison-provider/3.0.18.Final/resteasy-jettison-provider-3.0.18.Final.jar:/home/travis/.m2/repository/org/codehaus/jettison/jettison/1.3.2/jettison-1.3.2.jar:/home/travis/.m2/repository/commons-discovery/commons-discovery/0.5/commons-discovery-0.5.jar:/home/travis/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/home/travis/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/home/travis/.m2/repository/org/sonatype/sisu/sisu-guice/3.2.6/sisu-guice-3.2.6.jar:/home/travis/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/home/travis/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/home/travis/.m2/repository/com/google/guava/guava/16.0.1/guava-16.0.1.jar:/home/travis/.m2/repository/org/sonatype/sisu/inject/guice-multibindings/3.2.6/guice-multibindings-3.2.6.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-finder/4.4/xbean-finder-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-bundleutils/4.4/xbean-bundleutils-4.4.jar:/home/travis/.m2/repository/org/apache/xbean/xbean-asm-util/4.4/xbean-asm-util-4.4.jar:/home/travis/.m2/repository/org/ow2/asm/asm-all/5.0.4/asm-all-5.0.4.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate/target/classes:/home/travis/.m2/repository/org/hibernate/hibernate-core/4.3.8.Final/hibernate-core-4.3.8.Final.jar:/home/travis/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar:/home/travis/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar:/home/travis/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/home/travis/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar:/home/travis/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/home/travis/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/home/travis/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar:/home/travis/build/passed/petergeneric/stdlib/guice/liquibase/target/classes:/home/travis/.m2/repository/org/liquibase/liquibase-core/3.4.1/liquibase-core-3.4.1.jar:/home/travis/build/passed/petergeneric/stdlib/guice/metrics/target/classes:/home/travis/.m2/repository/com/codahale/metrics/metrics-json/3.0.2/metrics-json-3.0.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.2.2/jackson-databind-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.2.2/jackson-annotations-2.2.2.jar:/home/travis/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.2.2/jackson-core-2.2.2.jar:/home/travis/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/home/travis/.m2/repository/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar:/home/travis/.m2/repository/joda-time/joda-time/2.7/joda-time-2.7.jar:/home/travis/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/travis/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/travis/build/passed/petergeneric/stdlib/guice/hibernate-testing/target/classes:/home/travis/build/passed/petergeneric/stdlib/guice/testing/target/classes:/home/travis/.m2/repository/org/mockito/mockito-core/1.10.19/mockito-core-1.10.19.jar:/home/travis/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/travis/.m2/repository/org/dbunit/dbunit/2.5.1/dbunit-2.5.1.jar:/home/travis/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml/3.11/poi-ooxml-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi/3.11/poi-3.11.jar:/home/travis/.m2/repository/org/apache/poi/poi-ooxml-schemas/3.11/poi-ooxml-schemas-3.11.jar:/home/travis/.m2/repository/org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar:/home/travis/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/travis/.m2/repository/org/hsqldb/hsqldb/2.3.2/hsqldb-2.3.2.jar:/home/travis/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/home/travis/.m2/repository/org/slf4j/slf4j-jdk14/1.7.7/slf4j-jdk14-1.7.7.jar:, travis_build_dir=/home/travis/build/petergeneric/stdlib, lang=en_US.UTF-8, os.arch=amd64, travis_language=java, rvm_silence_path_mismatch_check_flag=1, ansi_red=\033[31;1m, sun.java.launcher=SUN_STANDARD, travis_build_id=, java.vm.specification.vendor=Oracle Corporation, travis_cmd=mvn test -B, file.separator=/, travis=true, ansi_reset=\033[0m, hibernate.current_session_context_class=thread, java.runtime.version=1.8.0_31-b13, liquibase.action=UPDATE, sun.boot.class.path=/usr/lib/jvm/java-8-oracle/jre/lib/resources.jar:/usr/lib/jvm/java-8-oracle/jre/lib/rt.jar:/usr/lib/jvm/java-8-oracle/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jsse.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jce.jar:/usr/lib/jvm/java-8-oracle/jre/lib/charsets.jar:/usr/lib/jvm/java-8-oracle/jre/lib/jfr.jar:/usr/lib/jvm/java-8-oracle/jre/classes, oldpwd=/home/travis/build/passed/petergeneric/stdlib/user-manager/service, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, coverity_scan_token=[secure], surefire.real.class.path=/home/travis/build/passed/petergeneric/stdlib/user-manager/service/target/surefire/surefirebooter4266856703339345072.jar, home=/home/travis, user.country=US, travis_commit=, nvm_path=/home/travis/.nvm/v0.10.36/lib/node, ansi_green=\033[32;1m, travis_timer_start_time=1639242717142876097, java.vendor=Oracle Corporation, gem_home=/home/travis/.rvm/gems/ruby-1.9.3-p551, has_josh_k_seal_of_approval=true, java.specification.version=1.8, sun.arch.data.model=64}
2021-12-11 17:12:53,572 DEBUG Unable to acquire Bean Validation ValidatorFactory, skipping activation
2021-12-11 17:12:53,572 DEBUG Skipping JACC integration as it was not enabled
2021-12-11 17:12:53,573 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-11 17:12:53,574 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-11 17:12:53,574 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-11 17:12:53,574 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-11 17:12:53,574 DEBUG Setting dialect [org.hibernate.dialect.HSQLDialect]
2021-12-11 17:12:53,772 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.UserEntity.roles
2021-12-11 17:12:53,772 DEBUG  Row insert: insert into user_has_role (user_id, role_id) values (?, ?)
2021-12-11 17:12:53,772 DEBUG  Row update: update user_has_role set role_id=? where user_id=? and role_id=?
2021-12-11 17:12:53,772 DEBUG  Row delete: delete from user_has_role where user_id=? and role_id=?
2021-12-11 17:12:53,772 DEBUG  One-shot delete: delete from user_has_role where user_id=?
2021-12-11 17:12:53,772 DEBUG Static SQL for collection: com.peterphi.usermanager.db.entity.RoleEntity.members
2021-12-11 17:12:53,772 DEBUG  Row insert: insert into user_has_role (role_id, user_id) values (?, ?)
2021-12-11 17:12:53,772 DEBUG  Row update: update user_has_role set user_id=? where role_id=? and user_id=?
2021-12-11 17:12:53,772 DEBUG  Row delete: delete from user_has_role where role_id=? and user_id=?
2021-12-11 17:12:53,772 DEBUG  One-shot delete: delete from user_has_role where role_id=?
2021-12-11 17:12:53,810 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,810 DEBUG  Version select: select id from user_account where id =?
2021-12-11 17:12:53,810 DEBUG  Snapshot select: select userentity_.id, userentity_.created_ts as created_2_4_, userentity_.date_format as date_for3_4_, userentity_.email as email4_4_, userentity_.last_login_ts as last_log5_4_, userentity_.name as name6_4_, userentity_.password as password7_4_, userentity_.local_session_id as local_se8_4_, userentity_.date_timezone as date_tim9_4_ from user_account userentity_ where userentity_.id=?
2021-12-11 17:12:53,810 DEBUG  Insert 0: insert into user_account (created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-12-11 17:12:53,810 DEBUG  Update 0: update user_account set created_ts=?, date_format=?, email=?, last_login_ts=?, name=?, password=?, local_session_id=?, date_timezone=? where id=?
2021-12-11 17:12:53,810 DEBUG  Delete 0: delete from user_account where id=?
2021-12-11 17:12:53,810 DEBUG  Identity insert: insert into user_account (id, created_ts, date_format, email, last_login_ts, name, password, local_session_id, date_timezone) values (default, ?, ?, ?, ?, ?, ?, ?, ?)
2021-12-11 17:12:53,835 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@682af059]
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,836 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,839 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,839 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,839 DEBUG Building LoadPlan...
2021-12-11 17:12:53,854 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,859 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,861 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [NONE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-11 17:12:53,861 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@14c93774]
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,861 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,861 DEBUG Building LoadPlan...
2021-12-11 17:12:53,861 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,861 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,862 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-11 17:12:53,862 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@18b74ea]
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,862 DEBUG Building LoadPlan...
2021-12-11 17:12:53,862 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,862 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,862 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,862 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@493da830]
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,862 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,862 DEBUG Building LoadPlan...
2021-12-11 17:12:53,862 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,863 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,863 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_NOWAIT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,863 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@45658133]
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,863 DEBUG Building LoadPlan...
2021-12-11 17:12:53,863 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,863 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,863 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [UPGRADE_SKIPLOCKED]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,863 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@67536ae0]
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,863 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,863 DEBUG Building LoadPlan...
2021-12-11 17:12:53,864 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,864 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,864 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [FORCE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,864 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d16be4f]
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,864 DEBUG Building LoadPlan...
2021-12-11 17:12:53,864 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,864 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,864 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_READ]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,864 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6bcb12e6]
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,864 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,865 DEBUG Building LoadPlan...
2021-12-11 17:12:53,865 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,865 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,865 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_WRITE]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,865 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@29c17c3d]
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,865 DEBUG Building LoadPlan...
2021-12-11 17:12:53,865 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,865 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,865 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [PESSIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=? for update
2021-12-11 17:12:53,865 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1665fa54]
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,865 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,866 DEBUG Building LoadPlan...
2021-12-11 17:12:53,866 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,866 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,866 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-11 17:12:53,866 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4f654cee]
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,866 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,866 DEBUG Building LoadPlan...
2021-12-11 17:12:53,866 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,866 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.UserEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.UserEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.UserEntity)
          - SQL table alias mapping - userentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_4_0_}

2021-12-11 17:12:53,866 DEBUG Static select for entity com.peterphi.usermanager.db.entity.UserEntity [OPTIMISTIC_FORCE_INCREMENT]: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-11 17:12:53,882 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-11 17:12:53,883 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.UserEntity: select userentity0_.id as id1_4_0_, userentity0_.created_ts as created_2_4_0_, userentity0_.date_format as date_for3_4_0_, userentity0_.email as email4_4_0_, userentity0_.last_login_ts as last_log5_4_0_, userentity0_.name as name6_4_0_, userentity0_.password as password7_4_0_, userentity0_.local_session_id as local_se8_4_0_, userentity0_.date_timezone as date_tim9_4_0_ from user_account userentity0_ where userentity0_.id=?
2021-12-11 17:12:53,883 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-11 17:12:53,883 DEBUG  Version select: select updated_ts from oauth_session_context where id =?
2021-12-11 17:12:53,883 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_2_, oauthsessi_.created_ts as created_3_2_, oauthsessi_.approved_scope as approved4_2_, oauthsessi_.service_id as service_6_2_, oauthsessi_.updated_ts as updated_5_2_, oauthsessi_.user_id as user_id7_2_ from oauth_session_context oauthsessi_ where oauthsessi_.id=?
2021-12-11 17:12:53,883 DEBUG  Insert 0: insert into oauth_session_context (is_active, created_ts, approved_scope, service_id, updated_ts, user_id, id) values (?, ?, ?, ?, ?, ?, ?)
2021-12-11 17:12:53,883 DEBUG  Update 0: update oauth_session_context set is_active=?, created_ts=?, approved_scope=?, service_id=?, updated_ts=?, user_id=? where id=? and updated_ts=?
2021-12-11 17:12:53,883 DEBUG  Delete 0: delete from oauth_session_context where id=? and updated_ts=?
2021-12-11 17:12:53,883 DEBUG  Identity insert: insert into oauth_session_context (id, is_active, created_ts, approved_scope, service_id, updated_ts, user_id) values (default, ?, ?, ?, ?, ?, ?)
2021-12-11 17:12:53,883 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d48e998]
2021-12-11 17:12:53,883 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,883 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,883 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,883 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,885 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@497d4c96]
2021-12-11 17:12:53,886 DEBUG Visiting attribute path : service.clientSecret
2021-12-11 17:12:53,886 DEBUG Visiting attribute path : service.created
2021-12-11 17:12:53,886 DEBUG Visiting attribute path : service.enabled
2021-12-11 17:12:53,886 DEBUG Visiting attribute path : service.endpoints
2021-12-11 17:12:53,886 DEBUG Visiting attribute path : service.name
2021-12-11 17:12:53,886 DEBUG Visiting attribute path : service.owner
2021-12-11 17:12:53,887 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@31a2a9fa]
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.created
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.dateFormat
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.email
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.lastLogin
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.name
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.password
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.roles
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.owner.timeZone
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : service.updated
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,887 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27a09971]
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.created
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.dateFormat
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.email
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.lastLogin
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.name
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.password
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.roles
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.sessionReconnectKey
2021-12-11 17:12:53,887 DEBUG Visiting attribute path : user.timeZone
2021-12-11 17:12:53,887 DEBUG Building LoadPlan...
2021-12-11 17:12:53,888 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,889 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2021-12-11 17:12:53,889 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [NONE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2021-12-11 17:12:53,889 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@152c4495]
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,889 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7dcb42a9]
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : service.clientSecret
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : service.created
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : service.enabled
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : service.endpoints
2021-12-11 17:12:53,889 DEBUG Visiting attribute path : service.name
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner
2021-12-11 17:12:53,890 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1d06f16f]
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.created
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.dateFormat
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.email
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.lastLogin
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.name
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.password
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.roles
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.sessionReconnectKey
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.owner.timeZone
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : service.updated
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,890 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@68dd39d2]
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.created
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.dateFormat
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.email
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.lastLogin
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.name
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.password
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.roles
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.sessionReconnectKey
2021-12-11 17:12:53,890 DEBUG Visiting attribute path : user.timeZone
2021-12-11 17:12:53,890 DEBUG Building LoadPlan...
2021-12-11 17:12:53,890 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,891 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service.owner)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}
          - JOIN (JoinDefinedByMetadata(service)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                - SQL table alias mapping - oauthservi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_0_1_}
                - JOIN (JoinDefinedByMetadata(owner)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_4_2_}
          - JOIN (JoinDefinedByMetadata(user)) : <gen:0> -> <gen:3>
             - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity3_
                - alias suffix - 3_
                - suffixed key columns - {id1_4_3_}

2021-12-11 17:12:53,891 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_, oauthservi1_.id as id1_0_1_, oauthservi1_.client_secret as client_s2_0_1_, oauthservi1_.created_ts as created_3_0_1_, oauthservi1_.is_enabled as is_enabl4_0_1_, oauthservi1_.client_endpoints as client_e5_0_1_, oauthservi1_.client_name as client_n6_0_1_, oauthservi1_.owner_id as owner_id8_0_1_, oauthservi1_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_2_, userentity2_.created_ts as created_2_4_2_, userentity2_.date_format as date_for3_4_2_, userentity2_.email as email4_4_2_, userentity2_.last_login_ts as last_log5_4_2_, userentity2_.name as name6_4_2_, userentity2_.password as password7_4_2_, userentity2_.local_session_id as local_se8_4_2_, userentity2_.date_timezone as date_tim9_4_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_ from oauth_session_context oauthsessi0_ inner join oauth_service oauthservi1_ on oauthsessi0_.service_id=oauthservi1_.id inner join user_account userentity2_ on oauthservi1_.owner_id=userentity2_.id inner join user_account userentity3_ on oauthsessi0_.user_id=userentity3_.id where oauthsessi0_.id=?
2021-12-11 17:12:53,891 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@60e3c26e]
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,891 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@999b951]
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,891 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@65cf4d6d]
2021-12-11 17:12:53,891 DEBUG Building LoadPlan...
2021-12-11 17:12:53,891 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,891 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,891 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,891 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1b410308]
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,891 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,892 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@f9cab00]
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,892 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@10272bbb]
2021-12-11 17:12:53,892 DEBUG Building LoadPlan...
2021-12-11 17:12:53,892 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,892 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,892 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,892 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@36d33f4]
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,892 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7c5d1d25]
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,892 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,892 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@550e9be6]
2021-12-11 17:12:53,892 DEBUG Building LoadPlan...
2021-12-11 17:12:53,893 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,893 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,893 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,893 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@32eae6f2]
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,893 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@73a0f2b]
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,893 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@fa5f81c]
2021-12-11 17:12:53,893 DEBUG Building LoadPlan...
2021-12-11 17:12:53,893 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,893 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,893 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [FORCE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,893 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a1d526c]
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,893 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@483b0690]
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,893 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,893 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@687e6293]
2021-12-11 17:12:53,894 DEBUG Building LoadPlan...
2021-12-11 17:12:53,894 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,894 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,894 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,894 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6870c3c2]
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,894 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1faf386c]
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,894 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4debbf0]
2021-12-11 17:12:53,894 DEBUG Building LoadPlan...
2021-12-11 17:12:53,894 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,894 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,894 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,894 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6a5e167a]
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,894 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,895 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@66a5755]
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,895 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@771a7d53]
2021-12-11 17:12:53,895 DEBUG Building LoadPlan...
2021-12-11 17:12:53,895 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,895 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,895 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,895 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6d6d480c]
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,895 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5a917723]
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,895 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,895 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7e4579c7]
2021-12-11 17:12:53,895 DEBUG Building LoadPlan...
2021-12-11 17:12:53,895 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,895 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,895 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,896 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@796f632b]
2021-12-11 17:12:53,896 DEBUG Visiting attribute path : active
2021-12-11 17:12:53,896 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,896 DEBUG Visiting attribute path : scope
2021-12-11 17:12:53,896 DEBUG Visiting attribute path : service
2021-12-11 17:12:53,896 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@cedee22]
2021-12-11 17:12:53,896 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,896 DEBUG Visiting attribute path : user
2021-12-11 17:12:53,896 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@59b32539]
2021-12-11 17:12:53,896 DEBUG Building LoadPlan...
2021-12-11 17:12:53,896 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,896 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.service)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_2_0_}

2021-12-11 17:12:53,896 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,896 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,897 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionContextEntity: select oauthsessi0_.id as id1_2_0_, oauthsessi0_.is_active as is_activ2_2_0_, oauthsessi0_.created_ts as created_3_2_0_, oauthsessi0_.approved_scope as approved4_2_0_, oauthsessi0_.service_id as service_6_2_0_, oauthsessi0_.updated_ts as updated_5_2_0_, oauthsessi0_.user_id as user_id7_2_0_ from oauth_session_context oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,897 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-11 17:12:53,897 DEBUG  Version select: select updated_ts from oauth_service where id =?
2021-12-11 17:12:53,897 DEBUG  Snapshot select: select oauthservi_.id, oauthservi_.client_secret as client_s2_0_, oauthservi_.created_ts as created_3_0_, oauthservi_.is_enabled as is_enabl4_0_, oauthservi_.client_endpoints as client_e5_0_, oauthservi_.client_name as client_n6_0_, oauthservi_.owner_id as owner_id8_0_, oauthservi_.updated_ts as updated_7_0_ from oauth_service oauthservi_ where oauthservi_.id=?
2021-12-11 17:12:53,897 DEBUG  Insert 0: insert into oauth_service (client_secret, created_ts, is_enabled, client_endpoints, client_name, owner_id, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-12-11 17:12:53,897 DEBUG  Update 0: update oauth_service set client_secret=?, created_ts=?, is_enabled=?, client_endpoints=?, client_name=?, owner_id=?, updated_ts=? where id=? and updated_ts=?
2021-12-11 17:12:53,897 DEBUG  Delete 0: delete from oauth_service where id=? and updated_ts=?
2021-12-11 17:12:53,897 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5b47731f]
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,897 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40c2ce52]
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.created
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.dateFormat
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.email
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.lastLogin
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.name
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.password
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.roles
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.sessionReconnectKey
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : owner.timeZone
2021-12-11 17:12:53,897 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,897 DEBUG Building LoadPlan...
2021-12-11 17:12:53,898 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,898 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2021-12-11 17:12:53,898 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [NONE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2021-12-11 17:12:53,898 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@60a7e509]
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,898 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@787508ca]
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.created
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.dateFormat
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.email
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.lastLogin
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.name
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.password
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.roles
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.sessionReconnectKey
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : owner.timeZone
2021-12-11 17:12:53,898 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,898 DEBUG Building LoadPlan...
2021-12-11 17:12:53,899 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,899 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}
          - JOIN (JoinDefinedByMetadata(owner)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2021-12-11 17:12:53,899 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from oauth_service oauthservi0_ inner join user_account userentity1_ on oauthservi0_.owner_id=userentity1_.id where oauthservi0_.id=?
2021-12-11 17:12:53,899 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6274670b]
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,899 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@32d5279]
2021-12-11 17:12:53,899 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,899 DEBUG Building LoadPlan...
2021-12-11 17:12:53,899 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,900 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,900 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,900 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1c067c0d]
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,900 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f7b6639]
2021-12-11 17:12:53,900 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,900 DEBUG Building LoadPlan...
2021-12-11 17:12:53,900 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,900 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,900 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_NOWAIT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,900 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@16ac5d35]
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,901 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3c0e00a8]
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,901 DEBUG Building LoadPlan...
2021-12-11 17:12:53,901 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,901 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,901 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [UPGRADE_SKIPLOCKED]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,901 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1860f3be]
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,901 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@78cfa264]
2021-12-11 17:12:53,901 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,902 DEBUG Building LoadPlan...
2021-12-11 17:12:53,902 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,902 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,902 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [FORCE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,902 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3408f695]
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,902 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4dde8976]
2021-12-11 17:12:53,902 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,902 DEBUG Building LoadPlan...
2021-12-11 17:12:53,902 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,902 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,902 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_READ]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,903 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4887de2b]
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,903 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@40ac6b76]
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,903 DEBUG Building LoadPlan...
2021-12-11 17:12:53,903 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,903 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,903 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_WRITE]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,903 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7980cf2c]
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,903 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@759de304]
2021-12-11 17:12:53,903 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,903 DEBUG Building LoadPlan...
2021-12-11 17:12:53,904 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,904 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,904 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=? for update
2021-12-11 17:12:53,904 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5649d11a]
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,904 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@27443560]
2021-12-11 17:12:53,904 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,904 DEBUG Building LoadPlan...
2021-12-11 17:12:53,904 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,904 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,904 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-11 17:12:53,904 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3ddb774f]
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : clientSecret
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : enabled
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : endpoints
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : owner
2021-12-11 17:12:53,905 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@70721c12]
2021-12-11 17:12:53,905 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,905 DEBUG Building LoadPlan...
2021-12-11 17:12:53,905 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,905 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthServiceEntity.owner)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
          - SQL table alias mapping - oauthservi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_0_0_}

2021-12-11 17:12:53,905 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthServiceEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-11 17:12:53,905 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-11 17:12:53,905 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthServiceEntity: select oauthservi0_.id as id1_0_0_, oauthservi0_.client_secret as client_s2_0_0_, oauthservi0_.created_ts as created_3_0_0_, oauthservi0_.is_enabled as is_enabl4_0_0_, oauthservi0_.client_endpoints as client_e5_0_0_, oauthservi0_.client_name as client_n6_0_0_, oauthservi0_.owner_id as owner_id8_0_0_, oauthservi0_.updated_ts as updated_7_0_0_ from oauth_service oauthservi0_ where oauthservi0_.id=?
2021-12-11 17:12:53,906 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.RoleEntity
2021-12-11 17:12:53,906 DEBUG  Version select: select id from role_definition where id =?
2021-12-11 17:12:53,906 DEBUG  Snapshot select: select roleentity_.id, roleentity_.caption as caption2_3_ from role_definition roleentity_ where roleentity_.id=?
2021-12-11 17:12:53,906 DEBUG  Insert 0: insert into role_definition (caption, id) values (?, ?)
2021-12-11 17:12:53,906 DEBUG  Update 0: update role_definition set caption=? where id=?
2021-12-11 17:12:53,906 DEBUG  Delete 0: delete from role_definition where id=?
2021-12-11 17:12:53,906 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@769bd849]
2021-12-11 17:12:53,906 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,906 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,906 DEBUG Building LoadPlan...
2021-12-11 17:12:53,906 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,906 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,906 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [NONE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-11 17:12:53,906 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@20a967fe]
2021-12-11 17:12:53,906 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,906 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,906 DEBUG Building LoadPlan...
2021-12-11 17:12:53,907 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,907 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,907 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-11 17:12:53,907 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@682abca7]
2021-12-11 17:12:53,907 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,907 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,907 DEBUG Building LoadPlan...
2021-12-11 17:12:53,907 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,907 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,907 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,907 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@76f881d9]
2021-12-11 17:12:53,907 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,907 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,907 DEBUG Building LoadPlan...
2021-12-11 17:12:53,907 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,908 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,908 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_NOWAIT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,908 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@50a13c2f]
2021-12-11 17:12:53,908 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,908 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,908 DEBUG Building LoadPlan...
2021-12-11 17:12:53,908 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,908 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,908 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [UPGRADE_SKIPLOCKED]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,908 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@53c99b09]
2021-12-11 17:12:53,908 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,908 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,908 DEBUG Building LoadPlan...
2021-12-11 17:12:53,908 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,909 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,909 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [FORCE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,909 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7c20cdd0]
2021-12-11 17:12:53,909 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,909 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,909 DEBUG Building LoadPlan...
2021-12-11 17:12:53,909 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,909 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,909 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_READ]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,909 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6b6eae52]
2021-12-11 17:12:53,909 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,909 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,909 DEBUG Building LoadPlan...
2021-12-11 17:12:53,909 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,910 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,910 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_WRITE]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,910 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7ae0cc89]
2021-12-11 17:12:53,910 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,910 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,910 DEBUG Building LoadPlan...
2021-12-11 17:12:53,910 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,910 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,910 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [PESSIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=? for update
2021-12-11 17:12:53,910 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@13e5d243]
2021-12-11 17:12:53,910 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,910 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,910 DEBUG Building LoadPlan...
2021-12-11 17:12:53,910 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,911 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,911 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-11 17:12:53,911 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@4997552e]
2021-12-11 17:12:53,911 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,911 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,911 DEBUG Building LoadPlan...
2021-12-11 17:12:53,911 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,911 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.RoleEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.RoleEntity)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
          - SQL table alias mapping - roleentity0_
          - alias suffix - 0_
          - suffixed key columns - {id1_3_0_}

2021-12-11 17:12:53,911 DEBUG Static select for entity com.peterphi.usermanager.db.entity.RoleEntity [OPTIMISTIC_FORCE_INCREMENT]: select roleentity0_.id as id1_3_0_, roleentity0_.caption as caption2_3_0_ from role_definition roleentity0_ where roleentity0_.id=?
2021-12-11 17:12:53,914 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2021-12-11 17:12:53,915 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.RoleEntity: select roleentity0_.id as id1_3_1_, roleentity0_.caption as caption2_3_1_, members1_.role_id as role_id1_3_3_, userentity2_.id as user_id2_5_3_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from role_definition roleentity0_ left outer join user_has_role members1_ on roleentity0_.id=members1_.role_id left outer join user_account userentity2_ on members1_.user_id=userentity2_.id where roleentity0_.id=? order by userentity2_.id desc
2021-12-11 17:12:53,915 DEBUG Static SQL for entity: com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-11 17:12:53,915 DEBUG  Version select: select updated_ts from oauth_session where id =?
2021-12-11 17:12:53,915 DEBUG  Snapshot select: select oauthsessi_.id, oauthsessi_.is_active as is_activ2_1_, oauthsessi_.authorisation_code as authoris3_1_, oauthsessi_.context_id as context_9_1_, oauthsessi_.created_ts as created_4_1_, oauthsessi_.expires_ts as expires_5_1_, oauthsessi_.initiator_detail as initiato6_1_, oauthsessi_.current_token as current_7_1_, oauthsessi_.updated_ts as updated_8_1_ from oauth_session oauthsessi_ where oauthsessi_.id=?
2021-12-11 17:12:53,915 DEBUG  Insert 0: insert into oauth_session (is_active, authorisation_code, context_id, created_ts, expires_ts, initiator_detail, current_token, updated_ts, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?)
2021-12-11 17:12:53,915 DEBUG  Update 0: update oauth_session set is_active=?, authorisation_code=?, context_id=?, created_ts=?, expires_ts=?, initiator_detail=?, current_token=?, updated_ts=? where id=? and updated_ts=?
2021-12-11 17:12:53,915 DEBUG  Delete 0: delete from oauth_session where id=? and updated_ts=?
2021-12-11 17:12:53,915 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@659f226a]
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,915 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@32ec9c90]
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.active
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.created
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.scope
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service
2021-12-11 17:12:53,915 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2abbd0d9]
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.clientSecret
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.created
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.enabled
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.endpoints
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.name
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner
2021-12-11 17:12:53,915 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5d3ff859]
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.created
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.dateFormat
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.email
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.lastLogin
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.name
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.password
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.roles
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2021-12-11 17:12:53,915 DEBUG Visiting attribute path : context.service.owner.timeZone
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.service.updated
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.updated
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user
2021-12-11 17:12:53,916 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@467233e4]
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.created
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.dateFormat
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.email
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.lastLogin
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.name
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.password
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.roles
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : context.user.timeZone
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,916 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,916 DEBUG Building LoadPlan...
2021-12-11 17:12:53,916 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,917 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2021-12-11 17:12:53,917 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [NONE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2021-12-11 17:12:53,917 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6025d790]
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,917 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@5dcd0cdf]
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.active
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.created
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.scope
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service
2021-12-11 17:12:53,917 DEBUG Adding QuerySpace : uid = <gen:2> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1e79d43]
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.clientSecret
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.created
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.enabled
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.endpoints
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.name
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner
2021-12-11 17:12:53,917 DEBUG Adding QuerySpace : uid = <gen:3> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1a07bf6]
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.created
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.dateFormat
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.email
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.lastLogin
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.name
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.password
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.roles
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.sessionReconnectKey
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.owner.timeZone
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.service.updated
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.updated
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user
2021-12-11 17:12:53,917 DEBUG Adding QuerySpace : uid = <gen:4> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@713ec32d]
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.created
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.dateFormat
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.email
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.lastLogin
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.name
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.password
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.roles
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.sessionReconnectKey
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : context.user.timeZone
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,917 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,918 DEBUG Building LoadPlan...
2021-12-11 17:12:53,918 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,918 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity, querySpaceUid=<gen:2>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service)
                - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:3>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.service.owner)
             - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:4>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context.user)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}
          - JOIN (JoinDefinedByMetadata(context)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity)
                - SQL table alias mapping - oauthsessi1_
                - alias suffix - 1_
                - suffixed key columns - {id1_2_1_}
                - JOIN (JoinDefinedByMetadata(service)) : <gen:1> -> <gen:2>
                   - EntityQuerySpaceImpl(uid=<gen:2>, entity=com.peterphi.usermanager.db.entity.OAuthServiceEntity)
                      - SQL table alias mapping - oauthservi2_
                      - alias suffix - 2_
                      - suffixed key columns - {id1_0_2_}
                      - JOIN (JoinDefinedByMetadata(owner)) : <gen:2> -> <gen:3>
                         - EntityQuerySpaceImpl(uid=<gen:3>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                            - SQL table alias mapping - userentity3_
                            - alias suffix - 3_
                            - suffixed key columns - {id1_4_3_}
                - JOIN (JoinDefinedByMetadata(user)) : <gen:1> -> <gen:4>
                   - EntityQuerySpaceImpl(uid=<gen:4>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                      - SQL table alias mapping - userentity4_
                      - alias suffix - 4_
                      - suffixed key columns - {id1_4_4_}

2021-12-11 17:12:53,918 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_, oauthsessi1_.id as id1_2_1_, oauthsessi1_.is_active as is_activ2_2_1_, oauthsessi1_.created_ts as created_3_2_1_, oauthsessi1_.approved_scope as approved4_2_1_, oauthsessi1_.service_id as service_6_2_1_, oauthsessi1_.updated_ts as updated_5_2_1_, oauthsessi1_.user_id as user_id7_2_1_, oauthservi2_.id as id1_0_2_, oauthservi2_.client_secret as client_s2_0_2_, oauthservi2_.created_ts as created_3_0_2_, oauthservi2_.is_enabled as is_enabl4_0_2_, oauthservi2_.client_endpoints as client_e5_0_2_, oauthservi2_.client_name as client_n6_0_2_, oauthservi2_.owner_id as owner_id8_0_2_, oauthservi2_.updated_ts as updated_7_0_2_, userentity3_.id as id1_4_3_, userentity3_.created_ts as created_2_4_3_, userentity3_.date_format as date_for3_4_3_, userentity3_.email as email4_4_3_, userentity3_.last_login_ts as last_log5_4_3_, userentity3_.name as name6_4_3_, userentity3_.password as password7_4_3_, userentity3_.local_session_id as local_se8_4_3_, userentity3_.date_timezone as date_tim9_4_3_, userentity4_.id as id1_4_4_, userentity4_.created_ts as created_2_4_4_, userentity4_.date_format as date_for3_4_4_, userentity4_.email as email4_4_4_, userentity4_.last_login_ts as last_log5_4_4_, userentity4_.name as name6_4_4_, userentity4_.password as password7_4_4_, userentity4_.local_session_id as local_se8_4_4_, userentity4_.date_timezone as date_tim9_4_4_ from oauth_session oauthsessi0_ inner join oauth_session_context oauthsessi1_ on oauthsessi0_.context_id=oauthsessi1_.id inner join oauth_service oauthservi2_ on oauthsessi1_.service_id=oauthservi2_.id inner join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on oauthsessi1_.user_id=userentity4_.id where oauthsessi0_.id=?
2021-12-11 17:12:53,918 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@36aab105]
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,918 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@f29353f]
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,918 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,919 DEBUG Building LoadPlan...
2021-12-11 17:12:53,919 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,919 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,919 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,919 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@36f7d7b]
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,919 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@25a7fedf]
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,919 DEBUG Building LoadPlan...
2021-12-11 17:12:53,919 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,919 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,919 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_NOWAIT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,919 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@6361b799]
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,919 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@d919544]
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,919 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,919 DEBUG Building LoadPlan...
2021-12-11 17:12:53,920 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,920 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,920 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [UPGRADE_SKIPLOCKED]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,920 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@17dad32f]
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,920 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@ed2f2f6]
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,920 DEBUG Building LoadPlan...
2021-12-11 17:12:53,920 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,920 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,920 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [FORCE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,920 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@fe87ddd]
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,920 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7c281eb8]
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,920 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,920 DEBUG Building LoadPlan...
2021-12-11 17:12:53,920 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,921 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,921 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_READ]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,921 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@65f40689]
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,921 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@33eb6758]
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,921 DEBUG Building LoadPlan...
2021-12-11 17:12:53,921 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,921 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,921 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_WRITE]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,921 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@f8a6243]
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,921 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1727e03a]
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,921 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,921 DEBUG Building LoadPlan...
2021-12-11 17:12:53,921 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,921 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,921 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [PESSIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=? for update
2021-12-11 17:12:53,921 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@7f9e8421]
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,922 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@168b4cb0]
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,922 DEBUG Building LoadPlan...
2021-12-11 17:12:53,922 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,922 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,922 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,922 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@3e05586b]
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : alive
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : authorisationCode
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : context
2021-12-11 17:12:53,922 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@45545e7a]
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : expires
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : initiator
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : token
2021-12-11 17:12:53,922 DEBUG Visiting attribute path : updated
2021-12-11 17:12:53,922 DEBUG Building LoadPlan...
2021-12-11 17:12:53,922 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,922 DEBUG LoadPlan(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
    - Returns
       - EntityReturnImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity, querySpaceUid=<gen:0>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - EntityAttributeFetchImpl(entity=com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, querySpaceUid=<gen:1>, path=com.peterphi.usermanager.db.entity.OAuthSessionEntity.context)
    - QuerySpaces
       - EntityQuerySpaceImpl(uid=<gen:0>, entity=com.peterphi.usermanager.db.entity.OAuthSessionEntity)
          - SQL table alias mapping - oauthsessi0_
          - alias suffix - 0_
          - suffixed key columns - {id1_1_0_}

2021-12-11 17:12:53,922 DEBUG Static select for entity com.peterphi.usermanager.db.entity.OAuthSessionEntity [OPTIMISTIC_FORCE_INCREMENT]: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,922 DEBUG Static select for action ACTION_MERGE on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,923 DEBUG Static select for action ACTION_REFRESH on entity com.peterphi.usermanager.db.entity.OAuthSessionEntity: select oauthsessi0_.id as id1_1_0_, oauthsessi0_.is_active as is_activ2_1_0_, oauthsessi0_.authorisation_code as authoris3_1_0_, oauthsessi0_.context_id as context_9_1_0_, oauthsessi0_.created_ts as created_4_1_0_, oauthsessi0_.expires_ts as expires_5_1_0_, oauthsessi0_.initiator_detail as initiato6_1_0_, oauthsessi0_.current_token as current_7_1_0_, oauthsessi0_.updated_ts as updated_8_1_0_ from oauth_session oauthsessi0_ where oauthsessi0_.id=?
2021-12-11 17:12:53,929 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@388d14e]
2021-12-11 17:12:53,929 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@1cd43562]
2021-12-11 17:12:53,931 DEBUG Visiting attribute path : caption
2021-12-11 17:12:53,931 DEBUG Visiting attribute path : members
2021-12-11 17:12:53,931 DEBUG Property path deemed to be circular : members
2021-12-11 17:12:53,931 DEBUG Building LoadPlan...
2021-12-11 17:12:53,933 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,933 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.UserEntity.roles, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.RoleEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.UserEntity.roles].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.UserEntity.roles)
          - SQL table alias mapping - roles0_
          - alias suffix - 0_
          - suffixed key columns - {user_id2_4_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_3_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.RoleEntity)
                - SQL table alias mapping - roleentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_3_1_}

2021-12-11 17:12:53,934 DEBUG Static select for collection com.peterphi.usermanager.db.entity.UserEntity.roles: select roles0_.user_id as user_id2_4_0_, roles0_.role_id as role_id1_5_0_, roleentity1_.id as id1_3_1_, roleentity1_.caption as caption2_3_1_ from user_has_role roles0_ inner join role_definition roleentity1_ on roles0_.role_id=roleentity1_.id where roles0_.user_id=?
2021-12-11 17:12:53,934 DEBUG Adding QuerySpace : uid = <gen:0> -> org.hibernate.loader.plan.build.internal.spaces.CollectionQuerySpaceImpl@2e7bf7b7]
2021-12-11 17:12:53,934 DEBUG Adding QuerySpace : uid = <gen:1> -> org.hibernate.loader.plan.build.internal.spaces.EntityQuerySpaceImpl@2fb25f4c]
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : created
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : dateFormat
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : email
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : lastLogin
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : name
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : password
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : roles
2021-12-11 17:12:53,934 DEBUG Property path deemed to be circular : roles
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : sessionReconnectKey
2021-12-11 17:12:53,934 DEBUG Visiting attribute path : timeZone
2021-12-11 17:12:53,934 DEBUG Building LoadPlan...
2021-12-11 17:12:53,934 DEBUG processing queryspace <gen:0>
2021-12-11 17:12:53,935 DEBUG LoadPlan(collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
    - Returns
       - CollectionReturnImpl(collection=com.peterphi.usermanager.db.entity.RoleEntity.members, querySpaceUid=<gen:0>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members])
          - (collection element) CollectionFetchableElementEntityGraph(entity=com.peterphi.usermanager.db.entity.UserEntity, querySpaceUid=<gen:1>, path=[com.peterphi.usermanager.db.entity.RoleEntity.members].<elements>)
    - QuerySpaces
       - CollectionQuerySpaceImpl(uid=<gen:0>, collection=com.peterphi.usermanager.db.entity.RoleEntity.members)
          - SQL table alias mapping - members0_
          - alias suffix - 0_
          - suffixed key columns - {role_id1_3_0_}
          - entity-element alias suffix - 1_
          - 1_entity-element suffixed key columns - id1_4_1_
          - JOIN (JoinDefinedByMetadata(elements)) : <gen:0> -> <gen:1>
             - EntityQuerySpaceImpl(uid=<gen:1>, entity=com.peterphi.usermanager.db.entity.UserEntity)
                - SQL table alias mapping - userentity1_
                - alias suffix - 1_
                - suffixed key columns - {id1_4_1_}

2021-12-11 17:12:53,935 DEBUG Static select for collection com.peterphi.usermanager.db.entity.RoleEntity.members: select members0_.role_id as role_id1_3_0_, members0_.user_id as user_id2_5_0_, userentity1_.id as id1_4_1_, userentity1_.created_ts as created_2_4_1_, userentity1_.date_format as date_for3_4_1_, userentity1_.email as email4_4_1_, userentity1_.last_login_ts as last_log5_4_1_, userentity1_.name as name6_4_1_, userentity1_.password as password7_4_1_, userentity1_.local_session_id as local_se8_4_1_, userentity1_.date_timezone as date_tim9_4_1_ from user_has_role members0_ inner join user_account userentity1_ on members0_.user_id=userentity1_.id where members0_.role_id=? order by userentity1_.id desc
2021-12-11 17:12:53,938 DEBUG Initializing SessionFactoryRegistry : org.hibernate.internal.SessionFactoryRegistry@46e3559f
2021-12-11 17:12:53,939 DEBUG Registering SessionFactory: 63f9a39b-7b05-4a8e-ab26-1feab090609b (<unnamed>)
2021-12-11 17:12:53,939 DEBUG Not binding SessionFactory to JNDI, no JNDI name configured
2021-12-11 17:12:53,939 DEBUG Instantiated session factory
2021-12-11 17:12:53,942 DEBUG Checking 0 named HQL queries
2021-12-11 17:12:53,942 DEBUG Checking 0 named SQL queries
2021-12-11 17:12:53,948 DEBUG Statistics initialized [enabled=false]
2021-12-11 17:12:53,948 DEBUG Known entities: [com.peterphi.usermanager.db.entity.UserEntity, com.peterphi.usermanager.db.entity.OAuthSessionContextEntity, com.peterphi.usermanager.db.entity.OAuthServiceEntity, com.peterphi.usermanager.db.entity.RoleEntity, com.peterphi.usermanager.db.entity.OAuthSessionEntity]
2021-12-11 17:12:53,949 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,950 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2021-12-11 17:12:53,952 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.RoleEntity
2021-12-11 17:12:53,952 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.UserEntity
2021-12-11 17:12:53,952 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-11 17:12:53,953 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-11 17:12:53,953 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthServiceEntity
2021-12-11 17:12:53,953 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionContextEntity
2021-12-11 17:12:53,953 DEBUG Begin create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-11 17:12:53,953 DEBUG End create QEntity class com.peterphi.usermanager.db.entity.OAuthSessionEntity
2021-12-11 17:12:54,118 DEBUG begin
2021-12-11 17:12:54,118 DEBUG Obtaining JDBC connection
2021-12-11 17:12:54,118 DEBUG Obtained JDBC connection
2021-12-11 17:12:54,119 DEBUG initial autocommit status: false
2021-12-11 17:12:54,169 DEBUG select this_.id as id1_4_0_, this_.created_ts as created_2_4_0_, this_.date_format as date_for3_4_0_, this_.email as email4_4_0_, this_.last_login_ts as last_log5_4_0_, this_.name as name6_4_0_, this_.password as password7_4_0_, this_.local_session_id as local_se8_4_0_, this_.date_timezone as date_tim9_4_0_ from user_account this_
2021-12-11 17:12:54,178 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-11 17:12:54,178 DEBUG rolling back
2021-12-11 17:12:54,178 DEBUG rolled JDBC Connection
2021-12-11 17:12:54,179 DEBUG Releasing JDBC connection
2021-12-11 17:12:54,179 DEBUG Released JDBC connection
2021-12-11 17:12:54,182 DEBUG begin
2021-12-11 17:12:54,182 DEBUG Obtaining JDBC connection
2021-12-11 17:12:54,182 DEBUG Obtained JDBC connection
2021-12-11 17:12:54,182 DEBUG initial autocommit status: false
2021-12-11 17:12:54,183 DEBUG select this_.id as id1_3_0_, this_.caption as caption2_3_0_ from role_definition this_
2021-12-11 17:12:54,184 DEBUG Result set row: 0
2021-12-11 17:12:54,187 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#admin]
2021-12-11 17:12:54,191 DEBUG Result set row: 1
2021-12-11 17:12:54,192 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2021-12-11 17:12:54,192 DEBUG Result set row: 2
2021-12-11 17:12:54,192 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2021-12-11 17:12:54,192 DEBUG Result set row: 3
2021-12-11 17:12:54,192 DEBUG Result row: EntityKey[com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2021-12-11 17:12:54,192 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2021-12-11 17:12:54,201 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#admin]
2021-12-11 17:12:54,201 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2021-12-11 17:12:54,201 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-admin]
2021-12-11 17:12:54,201 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2021-12-11 17:12:54,201 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#framework-info]
2021-12-11 17:12:54,201 DEBUG Resolving associations for [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2021-12-11 17:12:54,201 DEBUG Done materializing entity [com.peterphi.usermanager.db.entity.RoleEntity#user-manager-admin]
2021-12-11 17:12:54,202 DEBUG Transformed: 4 rows to: 4 distinct results
2021-12-11 17:12:54,202 DEBUG rolling back
2021-12-11 17:12:54,202 DEBUG rolled JDBC Connection
2021-12-11 17:12:54,203 DEBUG Releasing JDBC connection
2021-12-11 17:12:54,203 DEBUG Released JDBC connection
2021-12-11 17:12:54,204 DEBUG begin
2021-12-11 17:12:54,204 DEBUG Obtaining JDBC connection
2021-12-11 17:12:54,204 DEBUG Obtained JDBC connection
2021-12-11 17:12:54,204 DEBUG initial autocommit status: false
2021-12-11 17:12:54,205 DEBUG select this_.id as id1_0_1_, this_.client_secret as client_s2_0_1_, this_.created_ts as created_3_0_1_, this_.is_enabled as is_enabl4_0_1_, this_.client_endpoints as client_e5_0_1_, this_.client_name as client_n6_0_1_, this_.owner_id as owner_id8_0_1_, this_.updated_ts as updated_7_0_1_, userentity2_.id as id1_4_0_, userentity2_.created_ts as created_2_4_0_, userentity2_.date_format as date_for3_4_0_, userentity2_.email as email4_4_0_, userentity2_.last_login_ts as last_log5_4_0_, userentity2_.name as name6_4_0_, userentity2_.password as password7_4_0_, userentity2_.local_session_id as local_se8_4_0_, userentity2_.date_timezone as date_tim9_4_0_ from oauth_service this_ inner join user_account userentity2_ on this_.owner_id=userentity2_.id
2021-12-11 17:12:54,206 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-11 17:12:54,206 DEBUG rolling back
2021-12-11 17:12:54,206 DEBUG rolled JDBC Connection
2021-12-11 17:12:54,206 DEBUG Releasing JDBC connection
2021-12-11 17:12:54,206 DEBUG Released JDBC connection
2021-12-11 17:12:54,207 DEBUG begin
2021-12-11 17:12:54,207 DEBUG Obtaining JDBC connection
2021-12-11 17:12:54,207 DEBUG Obtained JDBC connection
2021-12-11 17:12:54,207 DEBUG initial autocommit status: false
2021-12-11 17:12:54,208 DEBUG select this_.id as id1_1_4_, this_.is_active as is_activ2_1_4_, this_.authorisation_code as authoris3_1_4_, this_.context_id as context_9_1_4_, this_.created_ts as created_4_1_4_, this_.expires_ts as expires_5_1_4_, this_.initiator_detail as initiato6_1_4_, this_.current_token as current_7_1_4_, this_.updated_ts as updated_8_1_4_, oauthsessi2_.id as id1_2_0_, oauthsessi2_.is_active as is_activ2_2_0_, oauthsessi2_.created_ts as created_3_2_0_, oauthsessi2_.approved_scope as approved4_2_0_, oauthsessi2_.service_id as service_6_2_0_, oauthsessi2_.updated_ts as updated_5_2_0_, oauthsessi2_.user_id as user_id7_2_0_, oauthservi3_.id as id1_0_1_, oauthservi3_.client_secret as client_s2_0_1_, oauthservi3_.created_ts as created_3_0_1_, oauthservi3_.is_enabled as is_enabl4_0_1_, oauthservi3_.client_endpoints as client_e5_0_1_, oauthservi3_.client_name as client_n6_0_1_, oauthservi3_.owner_id as owner_id8_0_1_, oauthservi3_.updated_ts as updated_7_0_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_, userentity5_.id as id1_4_3_, userentity5_.created_ts as created_2_4_3_, userentity5_.date_format as date_for3_4_3_, userentity5_.email as email4_4_3_, userentity5_.last_login_ts as last_log5_4_3_, userentity5_.name as name6_4_3_, userentity5_.password as password7_4_3_, userentity5_.local_session_id as local_se8_4_3_, userentity5_.date_timezone as date_tim9_4_3_ from oauth_session this_ inner join oauth_session_context oauthsessi2_ on this_.context_id=oauthsessi2_.id left outer join oauth_service oauthservi3_ on oauthsessi2_.service_id=oauthservi3_.id left outer join user_account userentity4_ on oauthservi3_.owner_id=userentity4_.id left outer join user_account userentity5_ on oauthsessi2_.user_id=userentity5_.id
2021-12-11 17:12:54,210 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-11 17:12:54,210 DEBUG rolling back
2021-12-11 17:12:54,210 DEBUG rolled JDBC Connection
2021-12-11 17:12:54,210 DEBUG Releasing JDBC connection
2021-12-11 17:12:54,210 DEBUG Released JDBC connection
2021-12-11 17:12:54,211 DEBUG begin
2021-12-11 17:12:54,211 DEBUG Obtaining JDBC connection
2021-12-11 17:12:54,211 DEBUG Obtained JDBC connection
2021-12-11 17:12:54,211 DEBUG initial autocommit status: false
2021-12-11 17:12:54,212 DEBUG select this_.id as id1_2_3_, this_.is_active as is_activ2_2_3_, this_.created_ts as created_3_2_3_, this_.approved_scope as approved4_2_3_, this_.service_id as service_6_2_3_, this_.updated_ts as updated_5_2_3_, this_.user_id as user_id7_2_3_, oauthservi2_.id as id1_0_0_, oauthservi2_.client_secret as client_s2_0_0_, oauthservi2_.created_ts as created_3_0_0_, oauthservi2_.is_enabled as is_enabl4_0_0_, oauthservi2_.client_endpoints as client_e5_0_0_, oauthservi2_.client_name as client_n6_0_0_, oauthservi2_.owner_id as owner_id8_0_0_, oauthservi2_.updated_ts as updated_7_0_0_, userentity3_.id as id1_4_1_, userentity3_.created_ts as created_2_4_1_, userentity3_.date_format as date_for3_4_1_, userentity3_.email as email4_4_1_, userentity3_.last_login_ts as last_log5_4_1_, userentity3_.name as name6_4_1_, userentity3_.password as password7_4_1_, userentity3_.local_session_id as local_se8_4_1_, userentity3_.date_timezone as date_tim9_4_1_, userentity4_.id as id1_4_2_, userentity4_.created_ts as created_2_4_2_, userentity4_.date_format as date_for3_4_2_, userentity4_.email as email4_4_2_, userentity4_.last_login_ts as last_log5_4_2_, userentity4_.name as name6_4_2_, userentity4_.password as password7_4_2_, userentity4_.local_session_id as local_se8_4_2_, userentity4_.date_timezone as date_tim9_4_2_ from oauth_session_context this_ inner join oauth_service oauthservi2_ on this_.service_id=oauthservi2_.id left outer join user_account userentity3_ on oauthservi2_.owner_id=userentity3_.id inner join user_account userentity4_ on this_.user_id=userentity4_.id
2021-12-11 17:12:54,213 DEBUG Transformed: 0 rows to: 0 distinct results
2021-12-11 17:12:54,213 DEBUG rolling back
2021-12-11 17:12:54,213 DEBUG rolled JDBC Connection
2021-12-11 17:12:54,214 DEBUG Releasing JDBC connection
2021-12-11 17:12:54,214 DEBUG Released JDBC connection
2021-12-11 17:12:54,214  INFO Shutting down 1 service(s)
2021-12-11 17:12:54,214 DEBUG Requesting shutdown of com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider$$EnhancerByGuice$$e9bc367e@53ed09e8
2021-12-11 17:12:54,214  INFO Shut down Hibernate SessionFactory...
2021-12-11 17:12:54,214 DEBUG begin
2021-12-11 17:12:54,214 DEBUG Obtaining JDBC connection
2021-12-11 17:12:54,214 DEBUG Obtained JDBC connection
2021-12-11 17:12:54,214 DEBUG initial autocommit status: false
2021-12-11 17:12:54,216 DEBUG committing
2021-12-11 17:12:54,216 DEBUG committed JDBC Connection
2021-12-11 17:12:54,217 DEBUG Releasing JDBC connection
2021-12-11 17:12:54,217 DEBUG Released JDBC connection
2021-12-11 17:12:54,217 DEBUG HHH000031: Closing
2021-12-11 17:12:54,217 DEBUG Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2021-12-11 17:12:54,217  INFO HHH000030: Cleaning up connection pool [jdbc:hsqldb:mem:testdb]
2021-12-11 17:12:54,218 DEBUG Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2021-12-11 17:12:54,218  INFO Shutdown complete
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.239 sec - in com.peterphi.usermanager.db.dao.CreateDatabaseSchemaTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  0.682 s]
[INFO] stdlib ............................................. SUCCESS [  5.442 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.044 s]
[INFO] stdlib guice common ................................ SUCCESS [  8.436 s]
[INFO] user-manager ....................................... SUCCESS [  0.010 s]
[INFO] user manager rest api .............................. SUCCESS [  0.060 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  1.355 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.086 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.051 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  2.191 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [ 14.329 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  4.273 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  6.584 s]
[INFO] carbon client ...................................... SUCCESS [  1.130 s]
[INFO] configuration ...................................... SUCCESS [  0.004 s]
[INFO] Configuration Service .............................. SUCCESS [  1.147 s]
[INFO] user manager service ............................... SUCCESS [  9.325 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 56.263 s
[INFO] Finished at: 2021-12-11T17:12:54+00:00
[INFO] Final Memory: 18M/309M
[INFO] ------------------------------------------------------------------------
travis_time:end:1a210a24:start=1639242717142876097,finish=1639242774946557121,duration=57803681024,event=[0K[32;1mThe command "mvn test -B" exited with 0.[0m
travis_fold:start:before_cache[0Ktravis_time:start:0776419e[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory
travis_time:end:0776419e:start=1639242774953886845,finish=1639242774961363020,duration=7476175,event=before_cache[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:14337490[0Ktravis_time:end:14337490:start=1639242774968882269,finish=1639242774974585641,duration=5703372,event=cache[0Ktravis_time:start:044681bc[0KYAML safe loading is not available. Please upgrade psych to a version that supports safe loading (>= 2.0).
[32;1mchanges detected, packing new archive[0m
[32;1muploading /[0m
[31;1mfailed to upload cache[0m
travis_time:end:044681bc:start=1639242774982114698,finish=1639242782261424457,duration=7279309759,event=cache[0Ktravis_fold:end:cache.2[0K

Done. Your build exited with 0.
